(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var SF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ff={exports:{}},il={},Ef={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function aP(){if(jv)return pt;jv=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(H,Y,xe){this.props=H,this.context=Y,this.refs=x,this.updater=xe||y}w.prototype.isReactComponent={},w.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},w.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=w.prototype;function S(H,Y,xe){this.props=H,this.context=Y,this.refs=x,this.updater=xe||y}var k=S.prototype=new P;k.constructor=S,b(k,w.prototype),k.isPureReactComponent=!0;var T=Array.isArray,j=Object.prototype.hasOwnProperty,V={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(H,Y,xe){var Pe,He={},Ze=null,lt=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(lt=Y.ref),Y.key!==void 0&&(Ze=""+Y.key),Y)j.call(Y,Pe)&&!A.hasOwnProperty(Pe)&&(He[Pe]=Y[Pe]);var nt=arguments.length-2;if(nt===1)He.children=xe;else if(1<nt){for(var Ge=Array(nt),jt=0;jt<nt;jt++)Ge[jt]=arguments[jt+2];He.children=Ge}if(H&&H.defaultProps)for(Pe in nt=H.defaultProps,nt)He[Pe]===void 0&&(He[Pe]=nt[Pe]);return{$$typeof:n,type:H,key:Ze,ref:lt,props:He,_owner:V.current}}function L(H,Y){return{$$typeof:n,type:H.type,key:Y,ref:H.ref,props:H.props,_owner:H._owner}}function J(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function ie(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(xe){return Y[xe]})}var ne=/\/+/g;function Fe(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?ie(""+H.key):Y.toString(36)}function ut(H,Y,xe,Pe,He){var Ze=typeof H;(Ze==="undefined"||Ze==="boolean")&&(H=null);var lt=!1;if(H===null)lt=!0;else switch(Ze){case"string":case"number":lt=!0;break;case"object":switch(H.$$typeof){case n:case t:lt=!0}}if(lt)return lt=H,He=He(lt),H=Pe===""?"."+Fe(lt,0):Pe,T(He)?(xe="",H!=null&&(xe=H.replace(ne,"$&/")+"/"),ut(He,Y,xe,"",function(jt){return jt})):He!=null&&(J(He)&&(He=L(He,xe+(!He.key||lt&&lt.key===He.key?"":(""+He.key).replace(ne,"$&/")+"/")+H)),Y.push(He)),1;if(lt=0,Pe=Pe===""?".":Pe+":",T(H))for(var nt=0;nt<H.length;nt++){Ze=H[nt];var Ge=Pe+Fe(Ze,nt);lt+=ut(Ze,Y,xe,Ge,He)}else if(Ge=g(H),typeof Ge=="function")for(H=Ge.call(H),nt=0;!(Ze=H.next()).done;)Ze=Ze.value,Ge=Pe+Fe(Ze,nt++),lt+=ut(Ze,Y,xe,Ge,He);else if(Ze==="object")throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return lt}function ze(H,Y,xe){if(H==null)return H;var Pe=[],He=0;return ut(H,Pe,"","",function(Ze){return Y.call(xe,Ze,He++)}),Pe}function be(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(xe){(H._status===0||H._status===-1)&&(H._status=1,H._result=xe)},function(xe){(H._status===0||H._status===-1)&&(H._status=2,H._result=xe)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var Ae={current:null},se={transition:null},ye={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:se,ReactCurrentOwner:V};function fe(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:ze,forEach:function(H,Y,xe){ze(H,function(){Y.apply(this,arguments)},xe)},count:function(H){var Y=0;return ze(H,function(){Y++}),Y},toArray:function(H){return ze(H,function(Y){return Y})||[]},only:function(H){if(!J(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},pt.Component=w,pt.Fragment=e,pt.Profiler=r,pt.PureComponent=S,pt.StrictMode=i,pt.Suspense=u,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,pt.act=fe,pt.cloneElement=function(H,Y,xe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Pe=b({},H.props),He=H.key,Ze=H.ref,lt=H._owner;if(Y!=null){if(Y.ref!==void 0&&(Ze=Y.ref,lt=V.current),Y.key!==void 0&&(He=""+Y.key),H.type&&H.type.defaultProps)var nt=H.type.defaultProps;for(Ge in Y)j.call(Y,Ge)&&!A.hasOwnProperty(Ge)&&(Pe[Ge]=Y[Ge]===void 0&&nt!==void 0?nt[Ge]:Y[Ge])}var Ge=arguments.length-2;if(Ge===1)Pe.children=xe;else if(1<Ge){nt=Array(Ge);for(var jt=0;jt<Ge;jt++)nt[jt]=arguments[jt+2];Pe.children=nt}return{$$typeof:n,type:H.type,key:He,ref:Ze,props:Pe,_owner:lt}},pt.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},pt.createElement=I,pt.createFactory=function(H){var Y=I.bind(null,H);return Y.type=H,Y},pt.createRef=function(){return{current:null}},pt.forwardRef=function(H){return{$$typeof:o,render:H}},pt.isValidElement=J,pt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:be}},pt.memo=function(H,Y){return{$$typeof:c,type:H,compare:Y===void 0?null:Y}},pt.startTransition=function(H){var Y=se.transition;se.transition={};try{H()}finally{se.transition=Y}},pt.unstable_act=fe,pt.useCallback=function(H,Y){return Ae.current.useCallback(H,Y)},pt.useContext=function(H){return Ae.current.useContext(H)},pt.useDebugValue=function(){},pt.useDeferredValue=function(H){return Ae.current.useDeferredValue(H)},pt.useEffect=function(H,Y){return Ae.current.useEffect(H,Y)},pt.useId=function(){return Ae.current.useId()},pt.useImperativeHandle=function(H,Y,xe){return Ae.current.useImperativeHandle(H,Y,xe)},pt.useInsertionEffect=function(H,Y){return Ae.current.useInsertionEffect(H,Y)},pt.useLayoutEffect=function(H,Y){return Ae.current.useLayoutEffect(H,Y)},pt.useMemo=function(H,Y){return Ae.current.useMemo(H,Y)},pt.useReducer=function(H,Y,xe){return Ae.current.useReducer(H,Y,xe)},pt.useRef=function(H){return Ae.current.useRef(H)},pt.useState=function(H){return Ae.current.useState(H)},pt.useSyncExternalStore=function(H,Y,xe){return Ae.current.useSyncExternalStore(H,Y,xe)},pt.useTransition=function(){return Ae.current.useTransition()},pt.version="18.3.1",pt}var Dv;function sm(){return Dv||(Dv=1,Ef.exports=aP()),Ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function oP(){if(kv)return il;kv=1;var n=sm(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,u,c){var f,p={},g=null,y=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)i.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(o&&o.defaultProps)for(f in u=o.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:o,key:g,ref:y,props:p,_owner:r.current}}return il.Fragment=e,il.jsx=a,il.jsxs=a,il}var Ov;function lP(){return Ov||(Ov=1,Ff.exports=oP()),Ff.exports}var d=lP(),lh={},Vf={exports:{}},er={},Af={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function uP(){return Tv||(Tv=1,function(n){function t(se,ye){var fe=se.length;se.push(ye);e:for(;0<fe;){var H=fe-1>>>1,Y=se[H];if(0<r(Y,ye))se[H]=ye,se[fe]=Y,fe=H;else break e}}function e(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ye=se[0],fe=se.pop();if(fe!==ye){se[0]=fe;e:for(var H=0,Y=se.length,xe=Y>>>1;H<xe;){var Pe=2*(H+1)-1,He=se[Pe],Ze=Pe+1,lt=se[Ze];if(0>r(He,fe))Ze<Y&&0>r(lt,He)?(se[H]=lt,se[Ze]=fe,H=Ze):(se[H]=He,se[Pe]=fe,H=Pe);else if(Ze<Y&&0>r(lt,fe))se[H]=lt,se[Ze]=fe,H=Ze;else break e}}return ye}function r(se,ye){var fe=se.sortIndex-ye.sortIndex;return fe!==0?fe:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var u=[],c=[],f=1,p=null,g=3,y=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(se){for(var ye=e(c);ye!==null;){if(ye.callback===null)i(c);else if(ye.startTime<=se)i(c),ye.sortIndex=ye.expirationTime,t(u,ye);else break;ye=e(c)}}function T(se){if(x=!1,k(se),!b)if(e(u)!==null)b=!0,be(j);else{var ye=e(c);ye!==null&&Ae(T,ye.startTime-se)}}function j(se,ye){b=!1,x&&(x=!1,P(I),I=-1),y=!0;var fe=g;try{for(k(ye),p=e(u);p!==null&&(!(p.expirationTime>ye)||se&&!ie());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var Y=H(p.expirationTime<=ye);ye=n.unstable_now(),typeof Y=="function"?p.callback=Y:p===e(u)&&i(u),k(ye)}else i(u);p=e(u)}if(p!==null)var xe=!0;else{var Pe=e(c);Pe!==null&&Ae(T,Pe.startTime-ye),xe=!1}return xe}finally{p=null,g=fe,y=!1}}var V=!1,A=null,I=-1,L=5,J=-1;function ie(){return!(n.unstable_now()-J<L)}function ne(){if(A!==null){var se=n.unstable_now();J=se;var ye=!0;try{ye=A(!0,se)}finally{ye?Fe():(V=!1,A=null)}}else V=!1}var Fe;if(typeof S=="function")Fe=function(){S(ne)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,ze=ut.port2;ut.port1.onmessage=ne,Fe=function(){ze.postMessage(null)}}else Fe=function(){w(ne,0)};function be(se){A=se,V||(V=!0,Fe())}function Ae(se,ye){I=w(function(){se(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,be(j))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return e(u)},n.unstable_next=function(se){switch(g){case 1:case 2:case 3:var ye=3;break;default:ye=g}var fe=g;g=ye;try{return se()}finally{g=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var fe=g;g=se;try{return ye()}finally{g=fe}},n.unstable_scheduleCallback=function(se,ye,fe){var H=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?H+fe:H):fe=H,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=fe+Y,se={id:f++,callback:ye,priorityLevel:se,startTime:fe,expirationTime:Y,sortIndex:-1},fe>H?(se.sortIndex=fe,t(c,se),e(u)===null&&se===e(c)&&(x?(P(I),I=-1):x=!0,Ae(T,fe-H))):(se.sortIndex=Y,t(u,se),b||y||(b=!0,be(j))),se},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(se){var ye=g;return function(){var fe=g;g=ye;try{return se.apply(this,arguments)}finally{g=fe}}}}(If)),If}var Mv;function hP(){return Mv||(Mv=1,Af.exports=uP()),Af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function cP(){if(Fv)return er;Fv=1;var n=sm(),t=hP();function e(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(l,h){a(l,h),a(l+"Capture",h)}function a(l,h){for(r[l]=h,l=0;l<h.length;l++)i.add(h[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return u.call(p,l)?!0:u.call(f,l)?!1:c.test(l)?p[l]=!0:(f[l]=!0,!1)}function y(l,h,m,v){if(m!==null&&m.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,h,m,v){if(h===null||typeof h>"u"||y(l,h,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(l,h,m,v,_,C,O){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=l,this.type=h,this.sanitizeURL=C,this.removeEmptyString=O}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){w[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var h=l[0];w[h]=new x(h,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){w[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){w[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){w[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){w[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){w[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){w[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){w[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var h=l.replace(P,S);w[h]=new x(h,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var h=l.replace(P,S);w[h]=new x(h,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var h=l.replace(P,S);w[h]=new x(h,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){w[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){w[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,h,m,v){var _=w.hasOwnProperty(h)?w[h]:null;(_!==null?_.type!==0:v||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(b(h,m,_,v)&&(m=null),v||_===null?g(h)&&(m===null?l.removeAttribute(h):l.setAttribute(h,""+m)):_.mustUseProperty?l[_.propertyName]=m===null?_.type===3?!1:"":m:(h=_.attributeName,v=_.attributeNamespace,m===null?l.removeAttribute(h):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,v?l.setAttributeNS(v,h,m):l.setAttribute(h,m))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),V=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ie=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(l){return l===null||typeof l!="object"?null:(l=se&&l[se]||l["@@iterator"],typeof l=="function"?l:null)}var fe=Object.assign,H;function Y(l){if(H===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);H=h&&h[1]||""}return`
`+H+l}var xe=!1;function Pe(l,h){if(!l||xe)return"";xe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(G){var v=G}Reflect.construct(l,[],h)}else{try{h.call()}catch(G){v=G}l.call(h.prototype)}else{try{throw Error()}catch(G){v=G}l()}}catch(G){if(G&&v&&typeof G.stack=="string"){for(var _=G.stack.split(`
`),C=v.stack.split(`
`),O=_.length-1,R=C.length-1;1<=O&&0<=R&&_[O]!==C[R];)R--;for(;1<=O&&0<=R;O--,R--)if(_[O]!==C[R]){if(O!==1||R!==1)do if(O--,R--,0>R||_[O]!==C[R]){var z=`
`+_[O].replace(" at new "," at ");return l.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",l.displayName)),z}while(1<=O&&0<=R);break}}}finally{xe=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Y(l):""}function He(l){switch(l.tag){case 5:return Y(l.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return l=Pe(l.type,!1),l;case 11:return l=Pe(l.type.render,!1),l;case 1:return l=Pe(l.type,!0),l;default:return""}}function Ze(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case V:return"Portal";case L:return"Profiler";case I:return"StrictMode";case Fe:return"Suspense";case ut:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ie:return(l.displayName||"Context")+".Consumer";case J:return(l._context.displayName||"Context")+".Provider";case ne:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ze:return h=l.displayName||null,h!==null?h:Ze(l.type)||"Memo";case be:h=l._payload,l=l._init;try{return Ze(l(h))}catch{}}return null}function lt(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=h.render,l=l.displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ze(h);case 8:return h===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function nt(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ge(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function jt(l){var h=Ge(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),v=""+l[h];if(!l.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,C=m.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return _.call(this)},set:function(O){v=""+O,C.call(this,O)}}),Object.defineProperty(l,h,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(O){v=""+O},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function Wi(l){l._valueTracker||(l._valueTracker=jt(l))}function vr(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var m=h.getValue(),v="";return l&&(v=Ge(l)?l.checked?"true":"false":l.value),l=v,l!==m?(h.setValue(l),!0):!1}function Fi(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Pn(l,h){var m=h.checked;return fe({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Ir(l,h){var m=h.defaultValue==null?"":h.defaultValue,v=h.checked!=null?h.checked:h.defaultChecked;m=nt(h.value!=null?h.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function nn(l,h){h=h.checked,h!=null&&k(l,"checked",h,!1)}function sn(l,h){nn(l,h);var m=nt(h.value),v=h.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}h.hasOwnProperty("value")?an(l,h.type,m):h.hasOwnProperty("defaultValue")&&an(l,h.type,nt(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(l.defaultChecked=!!h.defaultChecked)}function Cn(l,h,m){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var v=h.type;if(!(v!=="submit"&&v!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+l._wrapperState.initialValue,m||h===l.value||(l.value=h),l.defaultValue=h}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function an(l,h,m){(h!=="number"||Fi(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var br=Array.isArray;function vi(l,h,m,v){if(l=l.options,h){h={};for(var _=0;_<m.length;_++)h["$"+m[_]]=!0;for(m=0;m<l.length;m++)_=h.hasOwnProperty("$"+l[m].value),l[m].selected!==_&&(l[m].selected=_),_&&v&&(l[m].defaultSelected=!0)}else{for(m=""+nt(m),h=null,_=0;_<l.length;_++){if(l[_].value===m){l[_].selected=!0,v&&(l[_].defaultSelected=!0);return}h!==null||l[_].disabled||(h=l[_])}h!==null&&(h.selected=!0)}}function sr(l,h){if(h.dangerouslySetInnerHTML!=null)throw Error(e(91));return fe({},h,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Fs(l,h){var m=h.value;if(m==null){if(m=h.children,h=h.defaultValue,m!=null){if(h!=null)throw Error(e(92));if(br(m)){if(1<m.length)throw Error(e(93));m=m[0]}h=m}h==null&&(h=""),m=h}l._wrapperState={initialValue:nt(m)}}function Yn(l,h){var m=nt(h.value),v=nt(h.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),h.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function ar(l){var h=l.textContent;h===l._wrapperState.initialValue&&h!==""&&h!==null&&(l.value=h)}function Gi(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sn(l,h){return l==null||l==="http://www.w3.org/1999/xhtml"?Gi(h):l==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Dt,Rr=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,m,v,_){MSApp.execUnsafeLocalFunction(function(){return l(h,m,v,_)})}:l}(function(l,h){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=h;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Dt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;h.firstChild;)l.appendChild(h.firstChild)}});function It(l,h){if(h){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=h;return}}l.textContent=h}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eu=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(l){eu.forEach(function(h){h=h+l.charAt(0).toUpperCase()+l.substring(1),Un[h]=Un[l]})});function wo(l,h,m){return h==null||typeof h=="boolean"||h===""?"":m||typeof h!="number"||h===0||Un.hasOwnProperty(l)&&Un[l]?(""+h).trim():h+"px"}function tu(l,h){l=l.style;for(var m in h)if(h.hasOwnProperty(m)){var v=m.indexOf("--")===0,_=wo(m,h[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,_):l[m]=_}}var iu=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xn(l,h){if(h){if(iu[l]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(e(137,l));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(e(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(e(61))}if(h.style!=null&&typeof h.style!="object")throw Error(e(62))}}function Pa(l,h){if(l.indexOf("-")===-1)return typeof h.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function _o(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ca=null,$n=null,jn=null;function Vs(l){if(l=Bo(l)){if(typeof Ca!="function")throw Error(e(280));var h=l.stateNode;h&&(h=Pu(h),Ca(l.stateNode,l.type,h))}}function As(l){$n?jn?jn.push(l):jn=[l]:$n=l}function ru(){if($n){var l=$n,h=jn;if(jn=$n=null,Vs(l),h)for(l=0;l<h.length;l++)Vs(h[l])}}function nu(l,h){return l(h)}function B(){}var U=!1;function Z(l,h,m){if(U)return l(h,m);U=!0;try{return nu(l,h,m)}finally{U=!1,($n!==null||jn!==null)&&(B(),ru())}}function ue(l,h){var m=l.stateNode;if(m===null)return null;var v=Pu(m);if(v===null)return null;m=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(e(231,h,typeof m));return m}var Ce=!1;if(o)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch{Ce=!1}function Je(l,h,m,v,_,C,O,R,z){var G=Array.prototype.slice.call(arguments,3);try{h.apply(m,G)}catch(he){this.onError(he)}}var De=!1,Me=null,we=!1,et=null,dt={onError:function(l){De=!0,Me=l}};function Ut(l,h,m,v,_,C,O,R,z){De=!1,Me=null,Je.apply(dt,arguments)}function bi(l,h,m,v,_,C,O,R,z){if(Ut.apply(this,arguments),De){if(De){var G=Me;De=!1,Me=null}else throw Error(e(198));we||(we=!0,et=G)}}function Tt(l){var h=l,m=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,h.flags&4098&&(m=h.return),l=h.return;while(l)}return h.tag===3?m:null}function Nt(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function si(l){if(Tt(l)!==l)throw Error(e(188))}function Gn(l){var h=l.alternate;if(!h){if(h=Tt(l),h===null)throw Error(e(188));return h!==l?null:l}for(var m=l,v=h;;){var _=m.return;if(_===null)break;var C=_.alternate;if(C===null){if(v=_.return,v!==null){m=v;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===m)return si(_),l;if(C===v)return si(_),h;C=C.sibling}throw Error(e(188))}if(m.return!==v.return)m=_,v=C;else{for(var O=!1,R=_.child;R;){if(R===m){O=!0,m=_,v=C;break}if(R===v){O=!0,v=_,m=C;break}R=R.sibling}if(!O){for(R=C.child;R;){if(R===m){O=!0,m=C,v=_;break}if(R===v){O=!0,v=C,m=_;break}R=R.sibling}if(!O)throw Error(e(189))}}if(m.alternate!==v)throw Error(e(190))}if(m.tag!==3)throw Error(e(188));return m.stateNode.current===m?l:h}function Kn(l){return l=Gn(l),l!==null?xr(l):null}function xr(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=xr(l);if(h!==null)return h;l=l.sibling}return null}var or=t.unstable_scheduleCallback,Sa=t.unstable_cancelCallback,Is=t.unstable_shouldYield,Dn=t.unstable_requestPaint,Xt=t.unstable_now,ja=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,xi=t.unstable_UserBlockingPriority,kn=t.unstable_NormalPriority,Rs=t.unstable_LowPriority,ii=t.unstable_IdlePriority,Lr=null,lr=null;function Qc(l){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Lr,l,void 0,(l.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Cw,_w=Math.log,Pw=Math.LN2;function Cw(l){return l>>>=0,l===0?32:31-(_w(l)/Pw|0)|0}var su=64,au=4194304;function Po(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ou(l,h){var m=l.pendingLanes;if(m===0)return 0;var v=0,_=l.suspendedLanes,C=l.pingedLanes,O=m&268435455;if(O!==0){var R=O&~_;R!==0?v=Po(R):(C&=O,C!==0&&(v=Po(C)))}else O=m&~_,O!==0?v=Po(O):C!==0&&(v=Po(C));if(v===0)return 0;if(h!==0&&h!==v&&!(h&_)&&(_=v&-v,C=h&-h,_>=C||_===16&&(C&4194240)!==0))return h;if(v&4&&(v|=m&16),h=l.entangledLanes,h!==0)for(l=l.entanglements,h&=v;0<h;)m=31-Nr(h),_=1<<m,v|=l[m],h&=~_;return v}function Sw(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jw(l,h){for(var m=l.suspendedLanes,v=l.pingedLanes,_=l.expirationTimes,C=l.pendingLanes;0<C;){var O=31-Nr(C),R=1<<O,z=_[O];z===-1?(!(R&m)||R&v)&&(_[O]=Sw(R,h)):z<=h&&(l.expiredLanes|=R),C&=~R}}function qc(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function rg(){var l=su;return su<<=1,!(su&4194240)&&(su=64),l}function Jc(l){for(var h=[],m=0;31>m;m++)h.push(l);return h}function Co(l,h,m){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,h=31-Nr(h),l[h]=m}function Dw(l,h){var m=l.pendingLanes&~h;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=h,l.mutableReadLanes&=h,l.entangledLanes&=h,h=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var _=31-Nr(m),C=1<<_;h[_]=0,v[_]=-1,l[_]=-1,m&=~C}}function ed(l,h){var m=l.entangledLanes|=h;for(l=l.entanglements;m;){var v=31-Nr(m),_=1<<v;_&h|l[v]&h&&(l[v]|=h),m&=~_}}var Rt=0;function ng(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var sg,td,ag,og,lg,id=!1,lu=[],Zn=null,Qn=null,qn=null,So=new Map,jo=new Map,Jn=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(l,h){switch(l){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":So.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(h.pointerId)}}function Do(l,h,m,v,_,C){return l===null||l.nativeEvent!==C?(l={blockedOn:h,domEventName:m,eventSystemFlags:v,nativeEvent:C,targetContainers:[_]},h!==null&&(h=Bo(h),h!==null&&td(h)),l):(l.eventSystemFlags|=v,h=l.targetContainers,_!==null&&h.indexOf(_)===-1&&h.push(_),l)}function Ow(l,h,m,v,_){switch(h){case"focusin":return Zn=Do(Zn,l,h,m,v,_),!0;case"dragenter":return Qn=Do(Qn,l,h,m,v,_),!0;case"mouseover":return qn=Do(qn,l,h,m,v,_),!0;case"pointerover":var C=_.pointerId;return So.set(C,Do(So.get(C)||null,l,h,m,v,_)),!0;case"gotpointercapture":return C=_.pointerId,jo.set(C,Do(jo.get(C)||null,l,h,m,v,_)),!0}return!1}function hg(l){var h=Ls(l.target);if(h!==null){var m=Tt(h);if(m!==null){if(h=m.tag,h===13){if(h=Nt(m),h!==null){l.blockedOn=h,lg(l.priority,function(){ag(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function uu(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var m=nd(l.domEventName,l.eventSystemFlags,h[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);Es=v,m.target.dispatchEvent(v),Es=null}else return h=Bo(m),h!==null&&td(h),l.blockedOn=m,!1;h.shift()}return!0}function cg(l,h,m){uu(l)&&m.delete(h)}function Tw(){id=!1,Zn!==null&&uu(Zn)&&(Zn=null),Qn!==null&&uu(Qn)&&(Qn=null),qn!==null&&uu(qn)&&(qn=null),So.forEach(cg),jo.forEach(cg)}function ko(l,h){l.blockedOn===h&&(l.blockedOn=null,id||(id=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Tw)))}function Oo(l){function h(_){return ko(_,l)}if(0<lu.length){ko(lu[0],l);for(var m=1;m<lu.length;m++){var v=lu[m];v.blockedOn===l&&(v.blockedOn=null)}}for(Zn!==null&&ko(Zn,l),Qn!==null&&ko(Qn,l),qn!==null&&ko(qn,l),So.forEach(h),jo.forEach(h),m=0;m<Jn.length;m++)v=Jn[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<Jn.length&&(m=Jn[0],m.blockedOn===null);)hg(m),m.blockedOn===null&&Jn.shift()}var Da=T.ReactCurrentBatchConfig,hu=!0;function Mw(l,h,m,v){var _=Rt,C=Da.transition;Da.transition=null;try{Rt=1,rd(l,h,m,v)}finally{Rt=_,Da.transition=C}}function Fw(l,h,m,v){var _=Rt,C=Da.transition;Da.transition=null;try{Rt=4,rd(l,h,m,v)}finally{Rt=_,Da.transition=C}}function rd(l,h,m,v){if(hu){var _=nd(l,h,m,v);if(_===null)wd(l,h,v,cu,m),ug(l,v);else if(Ow(_,l,h,m,v))v.stopPropagation();else if(ug(l,v),h&4&&-1<kw.indexOf(l)){for(;_!==null;){var C=Bo(_);if(C!==null&&sg(C),C=nd(l,h,m,v),C===null&&wd(l,h,v,cu,m),C===_)break;_=C}_!==null&&v.stopPropagation()}else wd(l,h,v,null,m)}}var cu=null;function nd(l,h,m,v){if(cu=null,l=_o(v),l=Ls(l),l!==null)if(h=Tt(l),h===null)l=null;else if(m=h.tag,m===13){if(l=Nt(h),l!==null)return l;l=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null);return cu=l,null}function dg(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ja()){case Vt:return 1;case xi:return 4;case kn:case Rs:return 16;case ii:return 536870912;default:return 16}default:return 16}}var es=null,sd=null,du=null;function fg(){if(du)return du;var l,h=sd,m=h.length,v,_="value"in es?es.value:es.textContent,C=_.length;for(l=0;l<m&&h[l]===_[l];l++);var O=m-l;for(v=1;v<=O&&h[m-v]===_[C-v];v++);return du=_.slice(l,1<v?1-v:void 0)}function fu(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function pu(){return!0}function pg(){return!1}function ur(l){function h(m,v,_,C,O){this._reactName=m,this._targetInst=_,this.type=v,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var R in l)l.hasOwnProperty(R)&&(m=l[R],this[R]=m?m(C):C[R]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?pu:pg,this.isPropagationStopped=pg,this}return fe(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),h}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ad=ur(ka),To=fe({},ka,{view:0,detail:0}),Ew=ur(To),od,ld,Mo,mu=fe({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Mo&&(Mo&&l.type==="mousemove"?(od=l.screenX-Mo.screenX,ld=l.screenY-Mo.screenY):ld=od=0,Mo=l),od)},movementY:function(l){return"movementY"in l?l.movementY:ld}}),mg=ur(mu),Vw=fe({},mu,{dataTransfer:0}),Aw=ur(Vw),Iw=fe({},To,{relatedTarget:0}),ud=ur(Iw),Rw=fe({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=ur(Rw),Nw=fe({},ka,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),zw=ur(Nw),Bw=fe({},ka,{data:0}),gg=ur(Bw),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uw(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=Yw[l])?!!h[l]:!1}function hd(){return Uw}var Xw=fe({},To,{key:function(l){if(l.key){var h=Hw[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=fu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ww[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(l){return l.type==="keypress"?fu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?fu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),$w=ur(Xw),Gw=fe({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yg=ur(Gw),Kw=fe({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),Zw=ur(Kw),Qw=fe({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=ur(Qw),Jw=fe({},mu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),e_=ur(Jw),t_=[9,13,27,32],cd=o&&"CompositionEvent"in window,Fo=null;o&&"documentMode"in document&&(Fo=document.documentMode);var i_=o&&"TextEvent"in window&&!Fo,vg=o&&(!cd||Fo&&8<Fo&&11>=Fo),bg=" ",xg=!1;function wg(l,h){switch(l){case"keyup":return t_.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _g(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Oa=!1;function r_(l,h){switch(l){case"compositionend":return _g(h);case"keypress":return h.which!==32?null:(xg=!0,bg);case"textInput":return l=h.data,l===bg&&xg?null:l;default:return null}}function n_(l,h){if(Oa)return l==="compositionend"||!cd&&wg(l,h)?(l=fg(),du=sd=es=null,Oa=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return vg&&h.locale!=="ko"?null:h.data;default:return null}}var s_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!s_[l.type]:h==="textarea"}function Cg(l,h,m,v){As(v),h=xu(h,"onChange"),0<h.length&&(m=new ad("onChange","change",null,m,v),l.push({event:m,listeners:h}))}var Eo=null,Vo=null;function a_(l){Hg(l,0)}function gu(l){var h=Va(l);if(vr(h))return l}function o_(l,h){if(l==="change")return h}var Sg=!1;if(o){var dd;if(o){var fd="oninput"in document;if(!fd){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),fd=typeof jg.oninput=="function"}dd=fd}else dd=!1;Sg=dd&&(!document.documentMode||9<document.documentMode)}function Dg(){Eo&&(Eo.detachEvent("onpropertychange",kg),Vo=Eo=null)}function kg(l){if(l.propertyName==="value"&&gu(Vo)){var h=[];Cg(h,Vo,l,_o(l)),Z(a_,h)}}function l_(l,h,m){l==="focusin"?(Dg(),Eo=h,Vo=m,Eo.attachEvent("onpropertychange",kg)):l==="focusout"&&Dg()}function u_(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return gu(Vo)}function h_(l,h){if(l==="click")return gu(h)}function c_(l,h){if(l==="input"||l==="change")return gu(h)}function d_(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var zr=typeof Object.is=="function"?Object.is:d_;function Ao(l,h){if(zr(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var m=Object.keys(l),v=Object.keys(h);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var _=m[v];if(!u.call(h,_)||!zr(l[_],h[_]))return!1}return!0}function Og(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Tg(l,h){var m=Og(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=h&&v>=h)return{node:m,offset:h-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Og(m)}}function Mg(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?Mg(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function Fg(){for(var l=window,h=Fi();h instanceof l.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)l=h.contentWindow;else break;h=Fi(l.document)}return h}function pd(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function f_(l){var h=Fg(),m=l.focusedElem,v=l.selectionRange;if(h!==m&&m&&m.ownerDocument&&Mg(m.ownerDocument.documentElement,m)){if(v!==null&&pd(m)){if(h=v.start,l=v.end,l===void 0&&(l=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(l,m.value.length);else if(l=(h=m.ownerDocument||document)&&h.defaultView||window,l.getSelection){l=l.getSelection();var _=m.textContent.length,C=Math.min(v.start,_);v=v.end===void 0?C:Math.min(v.end,_),!l.extend&&C>v&&(_=v,v=C,C=_),_=Tg(m,C);var O=Tg(m,v);_&&O&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==O.node||l.focusOffset!==O.offset)&&(h=h.createRange(),h.setStart(_.node,_.offset),l.removeAllRanges(),C>v?(l.addRange(h),l.extend(O.node,O.offset)):(h.setEnd(O.node,O.offset),l.addRange(h)))}}for(h=[],l=m;l=l.parentNode;)l.nodeType===1&&h.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)l=h[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var p_=o&&"documentMode"in document&&11>=document.documentMode,Ta=null,md=null,Io=null,gd=!1;function Eg(l,h,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;gd||Ta==null||Ta!==Fi(v)||(v=Ta,"selectionStart"in v&&pd(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Io&&Ao(Io,v)||(Io=v,v=xu(md,"onSelect"),0<v.length&&(h=new ad("onSelect","select",null,h,m),l.push({event:h,listeners:v}),h.target=Ta)))}function yu(l,h){var m={};return m[l.toLowerCase()]=h.toLowerCase(),m["Webkit"+l]="webkit"+h,m["Moz"+l]="moz"+h,m}var Ma={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},yd={},Vg={};o&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function vu(l){if(yd[l])return yd[l];if(!Ma[l])return l;var h=Ma[l],m;for(m in h)if(h.hasOwnProperty(m)&&m in Vg)return yd[l]=h[m];return l}var Ag=vu("animationend"),Ig=vu("animationiteration"),Rg=vu("animationstart"),Lg=vu("transitionend"),Ng=new Map,zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(l,h){Ng.set(l,h),s(h,[l])}for(var vd=0;vd<zg.length;vd++){var bd=zg[vd],m_=bd.toLowerCase(),g_=bd[0].toUpperCase()+bd.slice(1);ts(m_,"on"+g_)}ts(Ag,"onAnimationEnd"),ts(Ig,"onAnimationIteration"),ts(Rg,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(Lg,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Bg(l,h,m){var v=l.type||"unknown-event";l.currentTarget=m,bi(v,h,void 0,l),l.currentTarget=null}function Hg(l,h){h=(h&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],_=v.event;v=v.listeners;e:{var C=void 0;if(h)for(var O=v.length-1;0<=O;O--){var R=v[O],z=R.instance,G=R.currentTarget;if(R=R.listener,z!==C&&_.isPropagationStopped())break e;Bg(_,R,G),C=z}else for(O=0;O<v.length;O++){if(R=v[O],z=R.instance,G=R.currentTarget,R=R.listener,z!==C&&_.isPropagationStopped())break e;Bg(_,R,G),C=z}}}if(we)throw l=et,we=!1,et=null,l}function Kt(l,h){var m=h[Dd];m===void 0&&(m=h[Dd]=new Set);var v=l+"__bubble";m.has(v)||(Wg(h,l,2,!1),m.add(v))}function xd(l,h,m){var v=0;h&&(v|=4),Wg(m,l,v,h)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Lo(l){if(!l[bu]){l[bu]=!0,i.forEach(function(m){m!=="selectionchange"&&(y_.has(m)||xd(m,!1,l),xd(m,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[bu]||(h[bu]=!0,xd("selectionchange",!1,h))}}function Wg(l,h,m,v){switch(dg(h)){case 1:var _=Mw;break;case 4:_=Fw;break;default:_=rd}m=_.bind(null,h,m,l),_=void 0,!Ce||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(_=!0),v?_!==void 0?l.addEventListener(h,m,{capture:!0,passive:_}):l.addEventListener(h,m,!0):_!==void 0?l.addEventListener(h,m,{passive:_}):l.addEventListener(h,m,!1)}function wd(l,h,m,v,_){var C=v;if(!(h&1)&&!(h&2)&&v!==null)e:for(;;){if(v===null)return;var O=v.tag;if(O===3||O===4){var R=v.stateNode.containerInfo;if(R===_||R.nodeType===8&&R.parentNode===_)break;if(O===4)for(O=v.return;O!==null;){var z=O.tag;if((z===3||z===4)&&(z=O.stateNode.containerInfo,z===_||z.nodeType===8&&z.parentNode===_))return;O=O.return}for(;R!==null;){if(O=Ls(R),O===null)return;if(z=O.tag,z===5||z===6){v=C=O;continue e}R=R.parentNode}}v=v.return}Z(function(){var G=C,he=_o(m),de=[];e:{var le=Ng.get(l);if(le!==void 0){var je=ad,Te=l;switch(l){case"keypress":if(fu(m)===0)break e;case"keydown":case"keyup":je=$w;break;case"focusin":Te="focus",je=ud;break;case"focusout":Te="blur",je=ud;break;case"beforeblur":case"afterblur":je=ud;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Zw;break;case Ag:case Ig:case Rg:je=Lw;break;case Lg:je=qw;break;case"scroll":je=Ew;break;case"wheel":je=e_;break;case"copy":case"cut":case"paste":je=zw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=yg}var Ee=(h&4)!==0,ui=!Ee&&l==="scroll",X=Ee?le!==null?le+"Capture":null:le;Ee=[];for(var W=G,$;W!==null;){$=W;var ve=$.stateNode;if($.tag===5&&ve!==null&&($=ve,X!==null&&(ve=ue(W,X),ve!=null&&Ee.push(No(W,ve,$)))),ui)break;W=W.return}0<Ee.length&&(le=new je(le,Te,null,m,he),de.push({event:le,listeners:Ee}))}}if(!(h&7)){e:{if(le=l==="mouseover"||l==="pointerover",je=l==="mouseout"||l==="pointerout",le&&m!==Es&&(Te=m.relatedTarget||m.fromElement)&&(Ls(Te)||Te[On]))break e;if((je||le)&&(le=he.window===he?he:(le=he.ownerDocument)?le.defaultView||le.parentWindow:window,je?(Te=m.relatedTarget||m.toElement,je=G,Te=Te?Ls(Te):null,Te!==null&&(ui=Tt(Te),Te!==ui||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(je=null,Te=G),je!==Te)){if(Ee=mg,ve="onMouseLeave",X="onMouseEnter",W="mouse",(l==="pointerout"||l==="pointerover")&&(Ee=yg,ve="onPointerLeave",X="onPointerEnter",W="pointer"),ui=je==null?le:Va(je),$=Te==null?le:Va(Te),le=new Ee(ve,W+"leave",je,m,he),le.target=ui,le.relatedTarget=$,ve=null,Ls(he)===G&&(Ee=new Ee(X,W+"enter",Te,m,he),Ee.target=$,Ee.relatedTarget=ui,ve=Ee),ui=ve,je&&Te)t:{for(Ee=je,X=Te,W=0,$=Ee;$;$=Fa($))W++;for($=0,ve=X;ve;ve=Fa(ve))$++;for(;0<W-$;)Ee=Fa(Ee),W--;for(;0<$-W;)X=Fa(X),$--;for(;W--;){if(Ee===X||X!==null&&Ee===X.alternate)break t;Ee=Fa(Ee),X=Fa(X)}Ee=null}else Ee=null;je!==null&&Yg(de,le,je,Ee,!1),Te!==null&&ui!==null&&Yg(de,ui,Te,Ee,!0)}}e:{if(le=G?Va(G):window,je=le.nodeName&&le.nodeName.toLowerCase(),je==="select"||je==="input"&&le.type==="file")var Re=o_;else if(Pg(le))if(Sg)Re=c_;else{Re=u_;var Ue=l_}else(je=le.nodeName)&&je.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Re=h_);if(Re&&(Re=Re(l,G))){Cg(de,Re,m,he);break e}Ue&&Ue(l,le,G),l==="focusout"&&(Ue=le._wrapperState)&&Ue.controlled&&le.type==="number"&&an(le,"number",le.value)}switch(Ue=G?Va(G):window,l){case"focusin":(Pg(Ue)||Ue.contentEditable==="true")&&(Ta=Ue,md=G,Io=null);break;case"focusout":Io=md=Ta=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Eg(de,m,he);break;case"selectionchange":if(p_)break;case"keydown":case"keyup":Eg(de,m,he)}var Xe;if(cd)e:{switch(l){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Oa?wg(l,m)&&(tt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(tt="onCompositionStart");tt&&(vg&&m.locale!=="ko"&&(Oa||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Oa&&(Xe=fg()):(es=he,sd="value"in es?es.value:es.textContent,Oa=!0)),Ue=xu(G,tt),0<Ue.length&&(tt=new gg(tt,l,null,m,he),de.push({event:tt,listeners:Ue}),Xe?tt.data=Xe:(Xe=_g(m),Xe!==null&&(tt.data=Xe)))),(Xe=i_?r_(l,m):n_(l,m))&&(G=xu(G,"onBeforeInput"),0<G.length&&(he=new gg("onBeforeInput","beforeinput",null,m,he),de.push({event:he,listeners:G}),he.data=Xe))}Hg(de,h)})}function No(l,h,m){return{instance:l,listener:h,currentTarget:m}}function xu(l,h){for(var m=h+"Capture",v=[];l!==null;){var _=l,C=_.stateNode;_.tag===5&&C!==null&&(_=C,C=ue(l,m),C!=null&&v.unshift(No(l,C,_)),C=ue(l,h),C!=null&&v.push(No(l,C,_))),l=l.return}return v}function Fa(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Yg(l,h,m,v,_){for(var C=h._reactName,O=[];m!==null&&m!==v;){var R=m,z=R.alternate,G=R.stateNode;if(z!==null&&z===v)break;R.tag===5&&G!==null&&(R=G,_?(z=ue(m,C),z!=null&&O.unshift(No(m,z,R))):_||(z=ue(m,C),z!=null&&O.push(No(m,z,R)))),m=m.return}O.length!==0&&l.push({event:h,listeners:O})}var v_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function Ug(l){return(typeof l=="string"?l:""+l).replace(v_,`
`).replace(b_,"")}function wu(l,h,m){if(h=Ug(h),Ug(l)!==h&&m)throw Error(e(425))}function _u(){}var _d=null,Pd=null;function Cd(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,x_=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,w_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(l){return Xg.resolve(null).then(l).catch(__)}:Sd;function __(l){setTimeout(function(){throw l})}function jd(l,h){var m=h,v=0;do{var _=m.nextSibling;if(l.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(v===0){l.removeChild(_),Oo(h);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=_}while(m);Oo(h)}function is(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return l}function $g(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return l;h--}else m==="/$"&&h++}l=l.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),on="__reactFiber$"+Ea,zo="__reactProps$"+Ea,On="__reactContainer$"+Ea,Dd="__reactEvents$"+Ea,P_="__reactListeners$"+Ea,C_="__reactHandles$"+Ea;function Ls(l){var h=l[on];if(h)return h;for(var m=l.parentNode;m;){if(h=m[On]||m[on]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(l=$g(l);l!==null;){if(m=l[on])return m;l=$g(l)}return h}l=m,m=l.parentNode}return null}function Bo(l){return l=l[on]||l[On],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Va(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(e(33))}function Pu(l){return l[zo]||null}var kd=[],Aa=-1;function rs(l){return{current:l}}function Zt(l){0>Aa||(l.current=kd[Aa],kd[Aa]=null,Aa--)}function $t(l,h){Aa++,kd[Aa]=l.current,l.current=h}var ns={},Li=rs(ns),Ki=rs(!1),Ns=ns;function Ia(l,h){var m=l.type.contextTypes;if(!m)return ns;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===h)return v.__reactInternalMemoizedMaskedChildContext;var _={},C;for(C in m)_[C]=h[C];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=_),_}function Zi(l){return l=l.childContextTypes,l!=null}function Cu(){Zt(Ki),Zt(Li)}function Gg(l,h,m){if(Li.current!==ns)throw Error(e(168));$t(Li,h),$t(Ki,m)}function Kg(l,h,m){var v=l.stateNode;if(h=h.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var _ in v)if(!(_ in h))throw Error(e(108,lt(l)||"Unknown",_));return fe({},m,v)}function Su(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ns,Ns=Li.current,$t(Li,l),$t(Ki,Ki.current),!0}function Zg(l,h,m){var v=l.stateNode;if(!v)throw Error(e(169));m?(l=Kg(l,h,Ns),v.__reactInternalMemoizedMergedChildContext=l,Zt(Ki),Zt(Li),$t(Li,l)):Zt(Ki),$t(Ki,m)}var Tn=null,ju=!1,Od=!1;function Qg(l){Tn===null?Tn=[l]:Tn.push(l)}function S_(l){ju=!0,Qg(l)}function ss(){if(!Od&&Tn!==null){Od=!0;var l=0,h=Rt;try{var m=Tn;for(Rt=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Tn=null,ju=!1}catch(_){throw Tn!==null&&(Tn=Tn.slice(l+1)),or(Vt,ss),_}finally{Rt=h,Od=!1}}return null}var Ra=[],La=0,Du=null,ku=0,wr=[],_r=0,zs=null,Mn=1,Fn="";function Bs(l,h){Ra[La++]=ku,Ra[La++]=Du,Du=l,ku=h}function qg(l,h,m){wr[_r++]=Mn,wr[_r++]=Fn,wr[_r++]=zs,zs=l;var v=Mn;l=Fn;var _=32-Nr(v)-1;v&=~(1<<_),m+=1;var C=32-Nr(h)+_;if(30<C){var O=_-_%5;C=(v&(1<<O)-1).toString(32),v>>=O,_-=O,Mn=1<<32-Nr(h)+_|m<<_|v,Fn=C+l}else Mn=1<<C|m<<_|v,Fn=l}function Td(l){l.return!==null&&(Bs(l,1),qg(l,1,0))}function Md(l){for(;l===Du;)Du=Ra[--La],Ra[La]=null,ku=Ra[--La],Ra[La]=null;for(;l===zs;)zs=wr[--_r],wr[_r]=null,Fn=wr[--_r],wr[_r]=null,Mn=wr[--_r],wr[_r]=null}var hr=null,cr=null,Jt=!1,Br=null;function Jg(l,h){var m=jr(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=l,h=l.deletions,h===null?(l.deletions=[m],l.flags|=16):h.push(m)}function ey(l,h){switch(l.tag){case 5:var m=l.type;return h=h.nodeType!==1||m.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(l.stateNode=h,hr=l,cr=is(h.firstChild),!0):!1;case 6:return h=l.pendingProps===""||h.nodeType!==3?null:h,h!==null?(l.stateNode=h,hr=l,cr=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(m=zs!==null?{id:Mn,overflow:Fn}:null,l.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},m=jr(18,null,null,0),m.stateNode=h,m.return=l,l.child=m,hr=l,cr=null,!0):!1;default:return!1}}function Fd(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Ed(l){if(Jt){var h=cr;if(h){var m=h;if(!ey(l,h)){if(Fd(l))throw Error(e(418));h=is(m.nextSibling);var v=hr;h&&ey(l,h)?Jg(v,m):(l.flags=l.flags&-4097|2,Jt=!1,hr=l)}}else{if(Fd(l))throw Error(e(418));l.flags=l.flags&-4097|2,Jt=!1,hr=l}}}function ty(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;hr=l}function Ou(l){if(l!==hr)return!1;if(!Jt)return ty(l),Jt=!0,!1;var h;if((h=l.tag!==3)&&!(h=l.tag!==5)&&(h=l.type,h=h!=="head"&&h!=="body"&&!Cd(l.type,l.memoizedProps)),h&&(h=cr)){if(Fd(l))throw iy(),Error(e(418));for(;h;)Jg(l,h),h=is(h.nextSibling)}if(ty(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(e(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(h===0){cr=is(l.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++}l=l.nextSibling}cr=null}}else cr=hr?is(l.stateNode.nextSibling):null;return!0}function iy(){for(var l=cr;l;)l=is(l.nextSibling)}function Na(){cr=hr=null,Jt=!1}function Vd(l){Br===null?Br=[l]:Br.push(l)}var j_=T.ReactCurrentBatchConfig;function Ho(l,h,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(e(309));var v=m.stateNode}if(!v)throw Error(e(147,l));var _=v,C=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===C?h.ref:(h=function(O){var R=_.refs;O===null?delete R[C]:R[C]=O},h._stringRef=C,h)}if(typeof l!="string")throw Error(e(284));if(!m._owner)throw Error(e(290,l))}return l}function Tu(l,h){throw l=Object.prototype.toString.call(h),Error(e(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function ry(l){var h=l._init;return h(l._payload)}function ny(l){function h(X,W){if(l){var $=X.deletions;$===null?(X.deletions=[W],X.flags|=16):$.push(W)}}function m(X,W){if(!l)return null;for(;W!==null;)h(X,W),W=W.sibling;return null}function v(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function _(X,W){return X=fs(X,W),X.index=0,X.sibling=null,X}function C(X,W,$){return X.index=$,l?($=X.alternate,$!==null?($=$.index,$<W?(X.flags|=2,W):$):(X.flags|=2,W)):(X.flags|=1048576,W)}function O(X){return l&&X.alternate===null&&(X.flags|=2),X}function R(X,W,$,ve){return W===null||W.tag!==6?(W=jf($,X.mode,ve),W.return=X,W):(W=_(W,$),W.return=X,W)}function z(X,W,$,ve){var Re=$.type;return Re===A?he(X,W,$.props.children,ve,$.key):W!==null&&(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===be&&ry(Re)===W.type)?(ve=_(W,$.props),ve.ref=Ho(X,W,$),ve.return=X,ve):(ve=eh($.type,$.key,$.props,null,X.mode,ve),ve.ref=Ho(X,W,$),ve.return=X,ve)}function G(X,W,$,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==$.containerInfo||W.stateNode.implementation!==$.implementation?(W=Df($,X.mode,ve),W.return=X,W):(W=_(W,$.children||[]),W.return=X,W)}function he(X,W,$,ve,Re){return W===null||W.tag!==7?(W=Ks($,X.mode,ve,Re),W.return=X,W):(W=_(W,$),W.return=X,W)}function de(X,W,$){if(typeof W=="string"&&W!==""||typeof W=="number")return W=jf(""+W,X.mode,$),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return $=eh(W.type,W.key,W.props,null,X.mode,$),$.ref=Ho(X,null,W),$.return=X,$;case V:return W=Df(W,X.mode,$),W.return=X,W;case be:var ve=W._init;return de(X,ve(W._payload),$)}if(br(W)||ye(W))return W=Ks(W,X.mode,$,null),W.return=X,W;Tu(X,W)}return null}function le(X,W,$,ve){var Re=W!==null?W.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Re!==null?null:R(X,W,""+$,ve);if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return $.key===Re?z(X,W,$,ve):null;case V:return $.key===Re?G(X,W,$,ve):null;case be:return Re=$._init,le(X,W,Re($._payload),ve)}if(br($)||ye($))return Re!==null?null:he(X,W,$,ve,null);Tu(X,$)}return null}function je(X,W,$,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return X=X.get($)||null,R(W,X,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case j:return X=X.get(ve.key===null?$:ve.key)||null,z(W,X,ve,Re);case V:return X=X.get(ve.key===null?$:ve.key)||null,G(W,X,ve,Re);case be:var Ue=ve._init;return je(X,W,$,Ue(ve._payload),Re)}if(br(ve)||ye(ve))return X=X.get($)||null,he(W,X,ve,Re,null);Tu(W,ve)}return null}function Te(X,W,$,ve){for(var Re=null,Ue=null,Xe=W,tt=W=0,Di=null;Xe!==null&&tt<$.length;tt++){Xe.index>tt?(Di=Xe,Xe=null):Di=Xe.sibling;var kt=le(X,Xe,$[tt],ve);if(kt===null){Xe===null&&(Xe=Di);break}l&&Xe&&kt.alternate===null&&h(X,Xe),W=C(kt,W,tt),Ue===null?Re=kt:Ue.sibling=kt,Ue=kt,Xe=Di}if(tt===$.length)return m(X,Xe),Jt&&Bs(X,tt),Re;if(Xe===null){for(;tt<$.length;tt++)Xe=de(X,$[tt],ve),Xe!==null&&(W=C(Xe,W,tt),Ue===null?Re=Xe:Ue.sibling=Xe,Ue=Xe);return Jt&&Bs(X,tt),Re}for(Xe=v(X,Xe);tt<$.length;tt++)Di=je(Xe,X,tt,$[tt],ve),Di!==null&&(l&&Di.alternate!==null&&Xe.delete(Di.key===null?tt:Di.key),W=C(Di,W,tt),Ue===null?Re=Di:Ue.sibling=Di,Ue=Di);return l&&Xe.forEach(function(ps){return h(X,ps)}),Jt&&Bs(X,tt),Re}function Ee(X,W,$,ve){var Re=ye($);if(typeof Re!="function")throw Error(e(150));if($=Re.call($),$==null)throw Error(e(151));for(var Ue=Re=null,Xe=W,tt=W=0,Di=null,kt=$.next();Xe!==null&&!kt.done;tt++,kt=$.next()){Xe.index>tt?(Di=Xe,Xe=null):Di=Xe.sibling;var ps=le(X,Xe,kt.value,ve);if(ps===null){Xe===null&&(Xe=Di);break}l&&Xe&&ps.alternate===null&&h(X,Xe),W=C(ps,W,tt),Ue===null?Re=ps:Ue.sibling=ps,Ue=ps,Xe=Di}if(kt.done)return m(X,Xe),Jt&&Bs(X,tt),Re;if(Xe===null){for(;!kt.done;tt++,kt=$.next())kt=de(X,kt.value,ve),kt!==null&&(W=C(kt,W,tt),Ue===null?Re=kt:Ue.sibling=kt,Ue=kt);return Jt&&Bs(X,tt),Re}for(Xe=v(X,Xe);!kt.done;tt++,kt=$.next())kt=je(Xe,X,tt,kt.value,ve),kt!==null&&(l&&kt.alternate!==null&&Xe.delete(kt.key===null?tt:kt.key),W=C(kt,W,tt),Ue===null?Re=kt:Ue.sibling=kt,Ue=kt);return l&&Xe.forEach(function(nP){return h(X,nP)}),Jt&&Bs(X,tt),Re}function ui(X,W,$,ve){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case j:e:{for(var Re=$.key,Ue=W;Ue!==null;){if(Ue.key===Re){if(Re=$.type,Re===A){if(Ue.tag===7){m(X,Ue.sibling),W=_(Ue,$.props.children),W.return=X,X=W;break e}}else if(Ue.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===be&&ry(Re)===Ue.type){m(X,Ue.sibling),W=_(Ue,$.props),W.ref=Ho(X,Ue,$),W.return=X,X=W;break e}m(X,Ue);break}else h(X,Ue);Ue=Ue.sibling}$.type===A?(W=Ks($.props.children,X.mode,ve,$.key),W.return=X,X=W):(ve=eh($.type,$.key,$.props,null,X.mode,ve),ve.ref=Ho(X,W,$),ve.return=X,X=ve)}return O(X);case V:e:{for(Ue=$.key;W!==null;){if(W.key===Ue)if(W.tag===4&&W.stateNode.containerInfo===$.containerInfo&&W.stateNode.implementation===$.implementation){m(X,W.sibling),W=_(W,$.children||[]),W.return=X,X=W;break e}else{m(X,W);break}else h(X,W);W=W.sibling}W=Df($,X.mode,ve),W.return=X,X=W}return O(X);case be:return Ue=$._init,ui(X,W,Ue($._payload),ve)}if(br($))return Te(X,W,$,ve);if(ye($))return Ee(X,W,$,ve);Tu(X,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,W!==null&&W.tag===6?(m(X,W.sibling),W=_(W,$),W.return=X,X=W):(m(X,W),W=jf($,X.mode,ve),W.return=X,X=W),O(X)):m(X,W)}return ui}var za=ny(!0),sy=ny(!1),Mu=rs(null),Fu=null,Ba=null,Ad=null;function Id(){Ad=Ba=Fu=null}function Rd(l){var h=Mu.current;Zt(Mu),l._currentValue=h}function Ld(l,h,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),l===m)break;l=l.return}}function Ha(l,h){Fu=l,Ad=Ba=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&h&&(Qi=!0),l.firstContext=null)}function Pr(l){var h=l._currentValue;if(Ad!==l)if(l={context:l,memoizedValue:h,next:null},Ba===null){if(Fu===null)throw Error(e(308));Ba=l,Fu.dependencies={lanes:0,firstContext:l}}else Ba=Ba.next=l;return h}var Hs=null;function Nd(l){Hs===null?Hs=[l]:Hs.push(l)}function ay(l,h,m,v){var _=h.interleaved;return _===null?(m.next=m,Nd(h)):(m.next=_.next,_.next=m),h.interleaved=m,En(l,v)}function En(l,h){l.lanes|=h;var m=l.alternate;for(m!==null&&(m.lanes|=h),m=l,l=l.return;l!==null;)l.childLanes|=h,m=l.alternate,m!==null&&(m.childLanes|=h),m=l,l=l.return;return m.tag===3?m.stateNode:null}var as=!1;function zd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oy(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Vn(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function os(l,h,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,Ct&2){var _=v.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),v.pending=h,En(l,m)}return _=v.interleaved,_===null?(h.next=h,Nd(v)):(h.next=_.next,_.next=h),v.interleaved=h,En(l,m)}function Eu(l,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194240)!==0)){var v=h.lanes;v&=l.pendingLanes,m|=v,h.lanes=m,ed(l,m)}}function ly(l,h){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var _=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};C===null?_=C=O:C=C.next=O,m=m.next}while(m!==null);C===null?_=C=h:C=C.next=h}else _=C=h;m={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=h}function Vu(l,h,m,v){var _=l.updateQueue;as=!1;var C=_.firstBaseUpdate,O=_.lastBaseUpdate,R=_.shared.pending;if(R!==null){_.shared.pending=null;var z=R,G=z.next;z.next=null,O===null?C=G:O.next=G,O=z;var he=l.alternate;he!==null&&(he=he.updateQueue,R=he.lastBaseUpdate,R!==O&&(R===null?he.firstBaseUpdate=G:R.next=G,he.lastBaseUpdate=z))}if(C!==null){var de=_.baseState;O=0,he=G=z=null,R=C;do{var le=R.lane,je=R.eventTime;if((v&le)===le){he!==null&&(he=he.next={eventTime:je,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Te=l,Ee=R;switch(le=h,je=m,Ee.tag){case 1:if(Te=Ee.payload,typeof Te=="function"){de=Te.call(je,de,le);break e}de=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ee.payload,le=typeof Te=="function"?Te.call(je,de,le):Te,le==null)break e;de=fe({},de,le);break e;case 2:as=!0}}R.callback!==null&&R.lane!==0&&(l.flags|=64,le=_.effects,le===null?_.effects=[R]:le.push(R))}else je={eventTime:je,lane:le,tag:R.tag,payload:R.payload,callback:R.callback,next:null},he===null?(G=he=je,z=de):he=he.next=je,O|=le;if(R=R.next,R===null){if(R=_.shared.pending,R===null)break;le=R,R=le.next,le.next=null,_.lastBaseUpdate=le,_.shared.pending=null}}while(!0);if(he===null&&(z=de),_.baseState=z,_.firstBaseUpdate=G,_.lastBaseUpdate=he,h=_.shared.interleaved,h!==null){_=h;do O|=_.lane,_=_.next;while(_!==h)}else C===null&&(_.shared.lanes=0);Us|=O,l.lanes=O,l.memoizedState=de}}function uy(l,h,m){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var v=l[h],_=v.callback;if(_!==null){if(v.callback=null,v=m,typeof _!="function")throw Error(e(191,_));_.call(v)}}}var Wo={},ln=rs(Wo),Yo=rs(Wo),Uo=rs(Wo);function Ws(l){if(l===Wo)throw Error(e(174));return l}function Bd(l,h){switch($t(Uo,h),$t(Yo,l),$t(ln,Wo),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Sn(null,"");break;default:l=l===8?h.parentNode:h,h=l.namespaceURI||null,l=l.tagName,h=Sn(h,l)}Zt(ln),$t(ln,h)}function Wa(){Zt(ln),Zt(Yo),Zt(Uo)}function hy(l){Ws(Uo.current);var h=Ws(ln.current),m=Sn(h,l.type);h!==m&&($t(Yo,l),$t(ln,m))}function Hd(l){Yo.current===l&&(Zt(ln),Zt(Yo))}var ri=rs(0);function Au(l){for(var h=l;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Wd=[];function Yd(){for(var l=0;l<Wd.length;l++)Wd[l]._workInProgressVersionPrimary=null;Wd.length=0}var Iu=T.ReactCurrentDispatcher,Ud=T.ReactCurrentBatchConfig,Ys=0,ni=null,wi=null,Si=null,Ru=!1,Xo=!1,$o=0,D_=0;function Ni(){throw Error(e(321))}function Xd(l,h){if(h===null)return!1;for(var m=0;m<h.length&&m<l.length;m++)if(!zr(l[m],h[m]))return!1;return!0}function $d(l,h,m,v,_,C){if(Ys=C,ni=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Iu.current=l===null||l.memoizedState===null?M_:F_,l=m(v,_),Xo){C=0;do{if(Xo=!1,$o=0,25<=C)throw Error(e(301));C+=1,Si=wi=null,h.updateQueue=null,Iu.current=E_,l=m(v,_)}while(Xo)}if(Iu.current=zu,h=wi!==null&&wi.next!==null,Ys=0,Si=wi=ni=null,Ru=!1,h)throw Error(e(300));return l}function Gd(){var l=$o!==0;return $o=0,l}function un(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?ni.memoizedState=Si=l:Si=Si.next=l,Si}function Cr(){if(wi===null){var l=ni.alternate;l=l!==null?l.memoizedState:null}else l=wi.next;var h=Si===null?ni.memoizedState:Si.next;if(h!==null)Si=h,wi=l;else{if(l===null)throw Error(e(310));wi=l,l={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},Si===null?ni.memoizedState=Si=l:Si=Si.next=l}return Si}function Go(l,h){return typeof h=="function"?h(l):h}function Kd(l){var h=Cr(),m=h.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=l;var v=wi,_=v.baseQueue,C=m.pending;if(C!==null){if(_!==null){var O=_.next;_.next=C.next,C.next=O}v.baseQueue=_=C,m.pending=null}if(_!==null){C=_.next,v=v.baseState;var R=O=null,z=null,G=C;do{var he=G.lane;if((Ys&he)===he)z!==null&&(z=z.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),v=G.hasEagerState?G.eagerState:l(v,G.action);else{var de={lane:he,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};z===null?(R=z=de,O=v):z=z.next=de,ni.lanes|=he,Us|=he}G=G.next}while(G!==null&&G!==C);z===null?O=v:z.next=R,zr(v,h.memoizedState)||(Qi=!0),h.memoizedState=v,h.baseState=O,h.baseQueue=z,m.lastRenderedState=v}if(l=m.interleaved,l!==null){_=l;do C=_.lane,ni.lanes|=C,Us|=C,_=_.next;while(_!==l)}else _===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function Zd(l){var h=Cr(),m=h.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=l;var v=m.dispatch,_=m.pending,C=h.memoizedState;if(_!==null){m.pending=null;var O=_=_.next;do C=l(C,O.action),O=O.next;while(O!==_);zr(C,h.memoizedState)||(Qi=!0),h.memoizedState=C,h.baseQueue===null&&(h.baseState=C),m.lastRenderedState=C}return[C,v]}function cy(){}function dy(l,h){var m=ni,v=Cr(),_=h(),C=!zr(v.memoizedState,_);if(C&&(v.memoizedState=_,Qi=!0),v=v.queue,Qd(my.bind(null,m,v,l),[l]),v.getSnapshot!==h||C||Si!==null&&Si.memoizedState.tag&1){if(m.flags|=2048,Ko(9,py.bind(null,m,v,_,h),void 0,null),ji===null)throw Error(e(349));Ys&30||fy(m,h,_)}return _}function fy(l,h,m){l.flags|=16384,l={getSnapshot:h,value:m},h=ni.updateQueue,h===null?(h={lastEffect:null,stores:null},ni.updateQueue=h,h.stores=[l]):(m=h.stores,m===null?h.stores=[l]:m.push(l))}function py(l,h,m,v){h.value=m,h.getSnapshot=v,gy(h)&&yy(l)}function my(l,h,m){return m(function(){gy(h)&&yy(l)})}function gy(l){var h=l.getSnapshot;l=l.value;try{var m=h();return!zr(l,m)}catch{return!0}}function yy(l){var h=En(l,1);h!==null&&Ur(h,l,1,-1)}function vy(l){var h=un();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:l},h.queue=l,l=l.dispatch=T_.bind(null,ni,l),[h.memoizedState,l]}function Ko(l,h,m,v){return l={tag:l,create:h,destroy:m,deps:v,next:null},h=ni.updateQueue,h===null?(h={lastEffect:null,stores:null},ni.updateQueue=h,h.lastEffect=l.next=l):(m=h.lastEffect,m===null?h.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,h.lastEffect=l)),l}function by(){return Cr().memoizedState}function Lu(l,h,m,v){var _=un();ni.flags|=l,_.memoizedState=Ko(1|h,m,void 0,v===void 0?null:v)}function Nu(l,h,m,v){var _=Cr();v=v===void 0?null:v;var C=void 0;if(wi!==null){var O=wi.memoizedState;if(C=O.destroy,v!==null&&Xd(v,O.deps)){_.memoizedState=Ko(h,m,C,v);return}}ni.flags|=l,_.memoizedState=Ko(1|h,m,C,v)}function xy(l,h){return Lu(8390656,8,l,h)}function Qd(l,h){return Nu(2048,8,l,h)}function wy(l,h){return Nu(4,2,l,h)}function _y(l,h){return Nu(4,4,l,h)}function Py(l,h){if(typeof h=="function")return l=l(),h(l),function(){h(null)};if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function Cy(l,h,m){return m=m!=null?m.concat([l]):null,Nu(4,4,Py.bind(null,h,l),m)}function qd(){}function Sy(l,h){var m=Cr();h=h===void 0?null:h;var v=m.memoizedState;return v!==null&&h!==null&&Xd(h,v[1])?v[0]:(m.memoizedState=[l,h],l)}function jy(l,h){var m=Cr();h=h===void 0?null:h;var v=m.memoizedState;return v!==null&&h!==null&&Xd(h,v[1])?v[0]:(l=l(),m.memoizedState=[l,h],l)}function Dy(l,h,m){return Ys&21?(zr(m,h)||(m=rg(),ni.lanes|=m,Us|=m,l.baseState=!0),h):(l.baseState&&(l.baseState=!1,Qi=!0),l.memoizedState=m)}function k_(l,h){var m=Rt;Rt=m!==0&&4>m?m:4,l(!0);var v=Ud.transition;Ud.transition={};try{l(!1),h()}finally{Rt=m,Ud.transition=v}}function ky(){return Cr().memoizedState}function O_(l,h,m){var v=cs(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},Oy(l))Ty(h,m);else if(m=ay(l,h,m,v),m!==null){var _=Ui();Ur(m,l,v,_),My(m,h,v)}}function T_(l,h,m){var v=cs(l),_={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Oy(l))Ty(h,_);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer,C!==null))try{var O=h.lastRenderedState,R=C(O,m);if(_.hasEagerState=!0,_.eagerState=R,zr(R,O)){var z=h.interleaved;z===null?(_.next=_,Nd(h)):(_.next=z.next,z.next=_),h.interleaved=_;return}}catch{}finally{}m=ay(l,h,_,v),m!==null&&(_=Ui(),Ur(m,l,v,_),My(m,h,v))}}function Oy(l){var h=l.alternate;return l===ni||h!==null&&h===ni}function Ty(l,h){Xo=Ru=!0;var m=l.pending;m===null?h.next=h:(h.next=m.next,m.next=h),l.pending=h}function My(l,h,m){if(m&4194240){var v=h.lanes;v&=l.pendingLanes,m|=v,h.lanes=m,ed(l,m)}}var zu={readContext:Pr,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},M_={readContext:Pr,useCallback:function(l,h){return un().memoizedState=[l,h===void 0?null:h],l},useContext:Pr,useEffect:xy,useImperativeHandle:function(l,h,m){return m=m!=null?m.concat([l]):null,Lu(4194308,4,Py.bind(null,h,l),m)},useLayoutEffect:function(l,h){return Lu(4194308,4,l,h)},useInsertionEffect:function(l,h){return Lu(4,2,l,h)},useMemo:function(l,h){var m=un();return h=h===void 0?null:h,l=l(),m.memoizedState=[l,h],l},useReducer:function(l,h,m){var v=un();return h=m!==void 0?m(h):h,v.memoizedState=v.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},v.queue=l,l=l.dispatch=O_.bind(null,ni,l),[v.memoizedState,l]},useRef:function(l){var h=un();return l={current:l},h.memoizedState=l},useState:vy,useDebugValue:qd,useDeferredValue:function(l){return un().memoizedState=l},useTransition:function(){var l=vy(!1),h=l[0];return l=k_.bind(null,l[1]),un().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,m){var v=ni,_=un();if(Jt){if(m===void 0)throw Error(e(407));m=m()}else{if(m=h(),ji===null)throw Error(e(349));Ys&30||fy(v,h,m)}_.memoizedState=m;var C={value:m,getSnapshot:h};return _.queue=C,xy(my.bind(null,v,C,l),[l]),v.flags|=2048,Ko(9,py.bind(null,v,C,m,h),void 0,null),m},useId:function(){var l=un(),h=ji.identifierPrefix;if(Jt){var m=Fn,v=Mn;m=(v&~(1<<32-Nr(v)-1)).toString(32)+m,h=":"+h+"R"+m,m=$o++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=D_++,h=":"+h+"r"+m.toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},F_={readContext:Pr,useCallback:Sy,useContext:Pr,useEffect:Qd,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:_y,useMemo:jy,useReducer:Kd,useRef:by,useState:function(){return Kd(Go)},useDebugValue:qd,useDeferredValue:function(l){var h=Cr();return Dy(h,wi.memoizedState,l)},useTransition:function(){var l=Kd(Go)[0],h=Cr().memoizedState;return[l,h]},useMutableSource:cy,useSyncExternalStore:dy,useId:ky,unstable_isNewReconciler:!1},E_={readContext:Pr,useCallback:Sy,useContext:Pr,useEffect:Qd,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:_y,useMemo:jy,useReducer:Zd,useRef:by,useState:function(){return Zd(Go)},useDebugValue:qd,useDeferredValue:function(l){var h=Cr();return wi===null?h.memoizedState=l:Dy(h,wi.memoizedState,l)},useTransition:function(){var l=Zd(Go)[0],h=Cr().memoizedState;return[l,h]},useMutableSource:cy,useSyncExternalStore:dy,useId:ky,unstable_isNewReconciler:!1};function Hr(l,h){if(l&&l.defaultProps){h=fe({},h),l=l.defaultProps;for(var m in l)h[m]===void 0&&(h[m]=l[m]);return h}return h}function Jd(l,h,m,v){h=l.memoizedState,m=m(v,h),m=m==null?h:fe({},h,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Bu={isMounted:function(l){return(l=l._reactInternals)?Tt(l)===l:!1},enqueueSetState:function(l,h,m){l=l._reactInternals;var v=Ui(),_=cs(l),C=Vn(v,_);C.payload=h,m!=null&&(C.callback=m),h=os(l,C,_),h!==null&&(Ur(h,l,_,v),Eu(h,l,_))},enqueueReplaceState:function(l,h,m){l=l._reactInternals;var v=Ui(),_=cs(l),C=Vn(v,_);C.tag=1,C.payload=h,m!=null&&(C.callback=m),h=os(l,C,_),h!==null&&(Ur(h,l,_,v),Eu(h,l,_))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var m=Ui(),v=cs(l),_=Vn(m,v);_.tag=2,h!=null&&(_.callback=h),h=os(l,_,v),h!==null&&(Ur(h,l,v,m),Eu(h,l,v))}};function Fy(l,h,m,v,_,C,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,O):h.prototype&&h.prototype.isPureReactComponent?!Ao(m,v)||!Ao(_,C):!0}function Ey(l,h,m){var v=!1,_=ns,C=h.contextType;return typeof C=="object"&&C!==null?C=Pr(C):(_=Zi(h)?Ns:Li.current,v=h.contextTypes,C=(v=v!=null)?Ia(l,_):ns),h=new h(m,C),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Bu,l.stateNode=h,h._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=C),h}function Vy(l,h,m,v){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,v),h.state!==l&&Bu.enqueueReplaceState(h,h.state,null)}function ef(l,h,m,v){var _=l.stateNode;_.props=m,_.state=l.memoizedState,_.refs={},zd(l);var C=h.contextType;typeof C=="object"&&C!==null?_.context=Pr(C):(C=Zi(h)?Ns:Li.current,_.context=Ia(l,C)),_.state=l.memoizedState,C=h.getDerivedStateFromProps,typeof C=="function"&&(Jd(l,h,C,m),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(h=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),h!==_.state&&Bu.enqueueReplaceState(_,_.state,null),Vu(l,m,_,v),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function Ya(l,h){try{var m="",v=h;do m+=He(v),v=v.return;while(v);var _=m}catch(C){_=`
Error generating stack: `+C.message+`
`+C.stack}return{value:l,source:h,stack:_,digest:null}}function tf(l,h,m){return{value:l,source:null,stack:m??null,digest:h??null}}function rf(l,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function Ay(l,h,m){m=Vn(-1,m),m.tag=3,m.payload={element:null};var v=h.value;return m.callback=function(){Gu||(Gu=!0,vf=v),rf(l,h)},m}function Iy(l,h,m){m=Vn(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;m.payload=function(){return v(_)},m.callback=function(){rf(l,h)}}var C=l.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(m.callback=function(){rf(l,h),typeof v!="function"&&(us===null?us=new Set([this]):us.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})}),m}function Ry(l,h,m){var v=l.pingCache;if(v===null){v=l.pingCache=new V_;var _=new Set;v.set(h,_)}else _=v.get(h),_===void 0&&(_=new Set,v.set(h,_));_.has(m)||(_.add(m),l=G_.bind(null,l,h,m),h.then(l,l))}function Ly(l){do{var h;if((h=l.tag===13)&&(h=l.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return l;l=l.return}while(l!==null);return null}function Ny(l,h,m,v,_){return l.mode&1?(l.flags|=65536,l.lanes=_,l):(l===h?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(h=Vn(-1,1),h.tag=2,os(m,h,1))),m.lanes|=1),l)}var A_=T.ReactCurrentOwner,Qi=!1;function Yi(l,h,m,v){h.child=l===null?sy(h,null,m,v):za(h,l.child,m,v)}function zy(l,h,m,v,_){m=m.render;var C=h.ref;return Ha(h,_),v=$d(l,h,m,v,C,_),m=Gd(),l!==null&&!Qi?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~_,An(l,h,_)):(Jt&&m&&Td(h),h.flags|=1,Yi(l,h,v,_),h.child)}function By(l,h,m,v,_){if(l===null){var C=m.type;return typeof C=="function"&&!Sf(C)&&C.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(h.tag=15,h.type=C,Hy(l,h,C,v,_)):(l=eh(m.type,null,v,h,h.mode,_),l.ref=h.ref,l.return=h,h.child=l)}if(C=l.child,!(l.lanes&_)){var O=C.memoizedProps;if(m=m.compare,m=m!==null?m:Ao,m(O,v)&&l.ref===h.ref)return An(l,h,_)}return h.flags|=1,l=fs(C,v),l.ref=h.ref,l.return=h,h.child=l}function Hy(l,h,m,v,_){if(l!==null){var C=l.memoizedProps;if(Ao(C,v)&&l.ref===h.ref)if(Qi=!1,h.pendingProps=v=C,(l.lanes&_)!==0)l.flags&131072&&(Qi=!0);else return h.lanes=l.lanes,An(l,h,_)}return nf(l,h,m,v,_)}function Wy(l,h,m){var v=h.pendingProps,_=v.children,C=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Xa,dr),dr|=m;else{if(!(m&1073741824))return l=C!==null?C.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,$t(Xa,dr),dr|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:m,$t(Xa,dr),dr|=v}else C!==null?(v=C.baseLanes|m,h.memoizedState=null):v=m,$t(Xa,dr),dr|=v;return Yi(l,h,_,m),h.child}function Yy(l,h){var m=h.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function nf(l,h,m,v,_){var C=Zi(m)?Ns:Li.current;return C=Ia(h,C),Ha(h,_),m=$d(l,h,m,v,C,_),v=Gd(),l!==null&&!Qi?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~_,An(l,h,_)):(Jt&&v&&Td(h),h.flags|=1,Yi(l,h,m,_),h.child)}function Uy(l,h,m,v,_){if(Zi(m)){var C=!0;Su(h)}else C=!1;if(Ha(h,_),h.stateNode===null)Wu(l,h),Ey(h,m,v),ef(h,m,v,_),v=!0;else if(l===null){var O=h.stateNode,R=h.memoizedProps;O.props=R;var z=O.context,G=m.contextType;typeof G=="object"&&G!==null?G=Pr(G):(G=Zi(m)?Ns:Li.current,G=Ia(h,G));var he=m.getDerivedStateFromProps,de=typeof he=="function"||typeof O.getSnapshotBeforeUpdate=="function";de||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==v||z!==G)&&Vy(h,O,v,G),as=!1;var le=h.memoizedState;O.state=le,Vu(h,v,O,_),z=h.memoizedState,R!==v||le!==z||Ki.current||as?(typeof he=="function"&&(Jd(h,m,he,v),z=h.memoizedState),(R=as||Fy(h,m,R,v,le,z,G))?(de||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(h.flags|=4194308)):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=z),O.props=v,O.state=z,O.context=G,v=R):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{O=h.stateNode,oy(l,h),R=h.memoizedProps,G=h.type===h.elementType?R:Hr(h.type,R),O.props=G,de=h.pendingProps,le=O.context,z=m.contextType,typeof z=="object"&&z!==null?z=Pr(z):(z=Zi(m)?Ns:Li.current,z=Ia(h,z));var je=m.getDerivedStateFromProps;(he=typeof je=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(R!==de||le!==z)&&Vy(h,O,v,z),as=!1,le=h.memoizedState,O.state=le,Vu(h,v,O,_);var Te=h.memoizedState;R!==de||le!==Te||Ki.current||as?(typeof je=="function"&&(Jd(h,m,je,v),Te=h.memoizedState),(G=as||Fy(h,m,G,v,le,Te,z)||!1)?(he||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,Te,z),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,Te,z)),typeof O.componentDidUpdate=="function"&&(h.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof O.componentDidUpdate!="function"||R===l.memoizedProps&&le===l.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&le===l.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=Te),O.props=v,O.state=Te,O.context=z,v=G):(typeof O.componentDidUpdate!="function"||R===l.memoizedProps&&le===l.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&le===l.memoizedState||(h.flags|=1024),v=!1)}return sf(l,h,m,v,C,_)}function sf(l,h,m,v,_,C){Yy(l,h);var O=(h.flags&128)!==0;if(!v&&!O)return _&&Zg(h,m,!1),An(l,h,C);v=h.stateNode,A_.current=h;var R=O&&typeof m.getDerivedStateFromError!="function"?null:v.render();return h.flags|=1,l!==null&&O?(h.child=za(h,l.child,null,C),h.child=za(h,null,R,C)):Yi(l,h,R,C),h.memoizedState=v.state,_&&Zg(h,m,!0),h.child}function Xy(l){var h=l.stateNode;h.pendingContext?Gg(l,h.pendingContext,h.pendingContext!==h.context):h.context&&Gg(l,h.context,!1),Bd(l,h.containerInfo)}function $y(l,h,m,v,_){return Na(),Vd(_),h.flags|=256,Yi(l,h,m,v),h.child}var af={dehydrated:null,treeContext:null,retryLane:0};function of(l){return{baseLanes:l,cachePool:null,transitions:null}}function Gy(l,h,m){var v=h.pendingProps,_=ri.current,C=!1,O=(h.flags&128)!==0,R;if((R=O)||(R=l!==null&&l.memoizedState===null?!1:(_&2)!==0),R?(C=!0,h.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),$t(ri,_&1),l===null)return Ed(h),l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(h.mode&1?l.data==="$!"?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(O=v.children,l=v.fallback,C?(v=h.mode,C=h.child,O={mode:"hidden",children:O},!(v&1)&&C!==null?(C.childLanes=0,C.pendingProps=O):C=th(O,v,0,null),l=Ks(l,v,m,null),C.return=h,l.return=h,C.sibling=l,h.child=C,h.child.memoizedState=of(m),h.memoizedState=af,l):lf(h,O));if(_=l.memoizedState,_!==null&&(R=_.dehydrated,R!==null))return I_(l,h,O,v,R,_,m);if(C){C=v.fallback,O=h.mode,_=l.child,R=_.sibling;var z={mode:"hidden",children:v.children};return!(O&1)&&h.child!==_?(v=h.child,v.childLanes=0,v.pendingProps=z,h.deletions=null):(v=fs(_,z),v.subtreeFlags=_.subtreeFlags&14680064),R!==null?C=fs(R,C):(C=Ks(C,O,m,null),C.flags|=2),C.return=h,v.return=h,v.sibling=C,h.child=v,v=C,C=h.child,O=l.child.memoizedState,O=O===null?of(m):{baseLanes:O.baseLanes|m,cachePool:null,transitions:O.transitions},C.memoizedState=O,C.childLanes=l.childLanes&~m,h.memoizedState=af,v}return C=l.child,l=C.sibling,v=fs(C,{mode:"visible",children:v.children}),!(h.mode&1)&&(v.lanes=m),v.return=h,v.sibling=null,l!==null&&(m=h.deletions,m===null?(h.deletions=[l],h.flags|=16):m.push(l)),h.child=v,h.memoizedState=null,v}function lf(l,h){return h=th({mode:"visible",children:h},l.mode,0,null),h.return=l,l.child=h}function Hu(l,h,m,v){return v!==null&&Vd(v),za(h,l.child,null,m),l=lf(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function I_(l,h,m,v,_,C,O){if(m)return h.flags&256?(h.flags&=-257,v=tf(Error(e(422))),Hu(l,h,O,v)):h.memoizedState!==null?(h.child=l.child,h.flags|=128,null):(C=v.fallback,_=h.mode,v=th({mode:"visible",children:v.children},_,0,null),C=Ks(C,_,O,null),C.flags|=2,v.return=h,C.return=h,v.sibling=C,h.child=v,h.mode&1&&za(h,l.child,null,O),h.child.memoizedState=of(O),h.memoizedState=af,C);if(!(h.mode&1))return Hu(l,h,O,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var R=v.dgst;return v=R,C=Error(e(419)),v=tf(C,v,void 0),Hu(l,h,O,v)}if(R=(O&l.childLanes)!==0,Qi||R){if(v=ji,v!==null){switch(O&-O){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(v.suspendedLanes|O)?0:_,_!==0&&_!==C.retryLane&&(C.retryLane=_,En(l,_),Ur(v,l,_,-1))}return Cf(),v=tf(Error(e(421))),Hu(l,h,O,v)}return _.data==="$?"?(h.flags|=128,h.child=l.child,h=K_.bind(null,l),_._reactRetry=h,null):(l=C.treeContext,cr=is(_.nextSibling),hr=h,Jt=!0,Br=null,l!==null&&(wr[_r++]=Mn,wr[_r++]=Fn,wr[_r++]=zs,Mn=l.id,Fn=l.overflow,zs=h),h=lf(h,v.children),h.flags|=4096,h)}function Ky(l,h,m){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h),Ld(l.return,h,m)}function uf(l,h,m,v,_){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:_}:(C.isBackwards=h,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=m,C.tailMode=_)}function Zy(l,h,m){var v=h.pendingProps,_=v.revealOrder,C=v.tail;if(Yi(l,h,v.children,m),v=ri.current,v&2)v=v&1|2,h.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Ky(l,m,h);else if(l.tag===19)Ky(l,m,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if($t(ri,v),!(h.mode&1))h.memoizedState=null;else switch(_){case"forwards":for(m=h.child,_=null;m!==null;)l=m.alternate,l!==null&&Au(l)===null&&(_=m),m=m.sibling;m=_,m===null?(_=h.child,h.child=null):(_=m.sibling,m.sibling=null),uf(h,!1,_,m,C);break;case"backwards":for(m=null,_=h.child,h.child=null;_!==null;){if(l=_.alternate,l!==null&&Au(l)===null){h.child=_;break}l=_.sibling,_.sibling=m,m=_,_=l}uf(h,!0,m,null,C);break;case"together":uf(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Wu(l,h){!(h.mode&1)&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function An(l,h,m){if(l!==null&&(h.dependencies=l.dependencies),Us|=h.lanes,!(m&h.childLanes))return null;if(l!==null&&h.child!==l.child)throw Error(e(153));if(h.child!==null){for(l=h.child,m=fs(l,l.pendingProps),h.child=m,m.return=h;l.sibling!==null;)l=l.sibling,m=m.sibling=fs(l,l.pendingProps),m.return=h;m.sibling=null}return h.child}function R_(l,h,m){switch(h.tag){case 3:Xy(h),Na();break;case 5:hy(h);break;case 1:Zi(h.type)&&Su(h);break;case 4:Bd(h,h.stateNode.containerInfo);break;case 10:var v=h.type._context,_=h.memoizedProps.value;$t(Mu,v._currentValue),v._currentValue=_;break;case 13:if(v=h.memoizedState,v!==null)return v.dehydrated!==null?($t(ri,ri.current&1),h.flags|=128,null):m&h.child.childLanes?Gy(l,h,m):($t(ri,ri.current&1),l=An(l,h,m),l!==null?l.sibling:null);$t(ri,ri.current&1);break;case 19:if(v=(m&h.childLanes)!==0,l.flags&128){if(v)return Zy(l,h,m);h.flags|=128}if(_=h.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),$t(ri,ri.current),v)break;return null;case 22:case 23:return h.lanes=0,Wy(l,h,m)}return An(l,h,m)}var Qy,hf,qy,Jy;Qy=function(l,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},hf=function(){},qy=function(l,h,m,v){var _=l.memoizedProps;if(_!==v){l=h.stateNode,Ws(ln.current);var C=null;switch(m){case"input":_=Pn(l,_),v=Pn(l,v),C=[];break;case"select":_=fe({},_,{value:void 0}),v=fe({},v,{value:void 0}),C=[];break;case"textarea":_=sr(l,_),v=sr(l,v),C=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=_u)}Xn(m,v);var O;m=null;for(G in _)if(!v.hasOwnProperty(G)&&_.hasOwnProperty(G)&&_[G]!=null)if(G==="style"){var R=_[G];for(O in R)R.hasOwnProperty(O)&&(m||(m={}),m[O]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(r.hasOwnProperty(G)?C||(C=[]):(C=C||[]).push(G,null));for(G in v){var z=v[G];if(R=_!=null?_[G]:void 0,v.hasOwnProperty(G)&&z!==R&&(z!=null||R!=null))if(G==="style")if(R){for(O in R)!R.hasOwnProperty(O)||z&&z.hasOwnProperty(O)||(m||(m={}),m[O]="");for(O in z)z.hasOwnProperty(O)&&R[O]!==z[O]&&(m||(m={}),m[O]=z[O])}else m||(C||(C=[]),C.push(G,m)),m=z;else G==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,R=R?R.__html:void 0,z!=null&&R!==z&&(C=C||[]).push(G,z)):G==="children"?typeof z!="string"&&typeof z!="number"||(C=C||[]).push(G,""+z):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(r.hasOwnProperty(G)?(z!=null&&G==="onScroll"&&Kt("scroll",l),C||R===z||(C=[])):(C=C||[]).push(G,z))}m&&(C=C||[]).push("style",m);var G=C;(h.updateQueue=G)&&(h.flags|=4)}},Jy=function(l,h,m,v){m!==v&&(h.flags|=4)};function Zo(l,h){if(!Jt)switch(l.tailMode){case"hidden":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function zi(l){var h=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(h)for(var _=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=v,l.childLanes=m,h}function L_(l,h,m){var v=h.pendingProps;switch(Md(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(h),null;case 1:return Zi(h.type)&&Cu(),zi(h),null;case 3:return v=h.stateNode,Wa(),Zt(Ki),Zt(Li),Yd(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Ou(h)?h.flags|=4:l===null||l.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Br!==null&&(wf(Br),Br=null))),hf(l,h),zi(h),null;case 5:Hd(h);var _=Ws(Uo.current);if(m=h.type,l!==null&&h.stateNode!=null)qy(l,h,m,v,_),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!v){if(h.stateNode===null)throw Error(e(166));return zi(h),null}if(l=Ws(ln.current),Ou(h)){v=h.stateNode,m=h.type;var C=h.memoizedProps;switch(v[on]=h,v[zo]=C,l=(h.mode&1)!==0,m){case"dialog":Kt("cancel",v),Kt("close",v);break;case"iframe":case"object":case"embed":Kt("load",v);break;case"video":case"audio":for(_=0;_<Ro.length;_++)Kt(Ro[_],v);break;case"source":Kt("error",v);break;case"img":case"image":case"link":Kt("error",v),Kt("load",v);break;case"details":Kt("toggle",v);break;case"input":Ir(v,C),Kt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},Kt("invalid",v);break;case"textarea":Fs(v,C),Kt("invalid",v)}Xn(m,C),_=null;for(var O in C)if(C.hasOwnProperty(O)){var R=C[O];O==="children"?typeof R=="string"?v.textContent!==R&&(C.suppressHydrationWarning!==!0&&wu(v.textContent,R,l),_=["children",R]):typeof R=="number"&&v.textContent!==""+R&&(C.suppressHydrationWarning!==!0&&wu(v.textContent,R,l),_=["children",""+R]):r.hasOwnProperty(O)&&R!=null&&O==="onScroll"&&Kt("scroll",v)}switch(m){case"input":Wi(v),Cn(v,C,!0);break;case"textarea":Wi(v),ar(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=_u)}v=_,h.updateQueue=v,v!==null&&(h.flags|=4)}else{O=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Gi(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=O.createElement(m,{is:v.is}):(l=O.createElement(m),m==="select"&&(O=l,v.multiple?O.multiple=!0:v.size&&(O.size=v.size))):l=O.createElementNS(l,m),l[on]=h,l[zo]=v,Qy(l,h,!1,!1),h.stateNode=l;e:{switch(O=Pa(m,v),m){case"dialog":Kt("cancel",l),Kt("close",l),_=v;break;case"iframe":case"object":case"embed":Kt("load",l),_=v;break;case"video":case"audio":for(_=0;_<Ro.length;_++)Kt(Ro[_],l);_=v;break;case"source":Kt("error",l),_=v;break;case"img":case"image":case"link":Kt("error",l),Kt("load",l),_=v;break;case"details":Kt("toggle",l),_=v;break;case"input":Ir(l,v),_=Pn(l,v),Kt("invalid",l);break;case"option":_=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},_=fe({},v,{value:void 0}),Kt("invalid",l);break;case"textarea":Fs(l,v),_=sr(l,v),Kt("invalid",l);break;default:_=v}Xn(m,_),R=_;for(C in R)if(R.hasOwnProperty(C)){var z=R[C];C==="style"?tu(l,z):C==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Rr(l,z)):C==="children"?typeof z=="string"?(m!=="textarea"||z!=="")&&It(l,z):typeof z=="number"&&It(l,""+z):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(r.hasOwnProperty(C)?z!=null&&C==="onScroll"&&Kt("scroll",l):z!=null&&k(l,C,z,O))}switch(m){case"input":Wi(l),Cn(l,v,!1);break;case"textarea":Wi(l),ar(l);break;case"option":v.value!=null&&l.setAttribute("value",""+nt(v.value));break;case"select":l.multiple=!!v.multiple,C=v.value,C!=null?vi(l,!!v.multiple,C,!1):v.defaultValue!=null&&vi(l,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=_u)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return zi(h),null;case 6:if(l&&h.stateNode!=null)Jy(l,h,l.memoizedProps,v);else{if(typeof v!="string"&&h.stateNode===null)throw Error(e(166));if(m=Ws(Uo.current),Ws(ln.current),Ou(h)){if(v=h.stateNode,m=h.memoizedProps,v[on]=h,(C=v.nodeValue!==m)&&(l=hr,l!==null))switch(l.tag){case 3:wu(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&wu(v.nodeValue,m,(l.mode&1)!==0)}C&&(h.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[on]=h,h.stateNode=v}return zi(h),null;case 13:if(Zt(ri),v=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Jt&&cr!==null&&h.mode&1&&!(h.flags&128))iy(),Na(),h.flags|=98560,C=!1;else if(C=Ou(h),v!==null&&v.dehydrated!==null){if(l===null){if(!C)throw Error(e(318));if(C=h.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(e(317));C[on]=h}else Na(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;zi(h),C=!1}else Br!==null&&(wf(Br),Br=null),C=!0;if(!C)return h.flags&65536?h:null}return h.flags&128?(h.lanes=m,h):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(h.child.flags|=8192,h.mode&1&&(l===null||ri.current&1?_i===0&&(_i=3):Cf())),h.updateQueue!==null&&(h.flags|=4),zi(h),null);case 4:return Wa(),hf(l,h),l===null&&Lo(h.stateNode.containerInfo),zi(h),null;case 10:return Rd(h.type._context),zi(h),null;case 17:return Zi(h.type)&&Cu(),zi(h),null;case 19:if(Zt(ri),C=h.memoizedState,C===null)return zi(h),null;if(v=(h.flags&128)!==0,O=C.rendering,O===null)if(v)Zo(C,!1);else{if(_i!==0||l!==null&&l.flags&128)for(l=h.child;l!==null;){if(O=Au(l),O!==null){for(h.flags|=128,Zo(C,!1),v=O.updateQueue,v!==null&&(h.updateQueue=v,h.flags|=4),h.subtreeFlags=0,v=m,m=h.child;m!==null;)C=m,l=v,C.flags&=14680066,O=C.alternate,O===null?(C.childLanes=0,C.lanes=l,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=O.childLanes,C.lanes=O.lanes,C.child=O.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=O.memoizedProps,C.memoizedState=O.memoizedState,C.updateQueue=O.updateQueue,C.type=O.type,l=O.dependencies,C.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return $t(ri,ri.current&1|2),h.child}l=l.sibling}C.tail!==null&&Xt()>$a&&(h.flags|=128,v=!0,Zo(C,!1),h.lanes=4194304)}else{if(!v)if(l=Au(O),l!==null){if(h.flags|=128,v=!0,m=l.updateQueue,m!==null&&(h.updateQueue=m,h.flags|=4),Zo(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!Jt)return zi(h),null}else 2*Xt()-C.renderingStartTime>$a&&m!==1073741824&&(h.flags|=128,v=!0,Zo(C,!1),h.lanes=4194304);C.isBackwards?(O.sibling=h.child,h.child=O):(m=C.last,m!==null?m.sibling=O:h.child=O,C.last=O)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=Xt(),h.sibling=null,m=ri.current,$t(ri,v?m&1|2:m&1),h):(zi(h),null);case 22:case 23:return Pf(),v=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(h.flags|=8192),v&&h.mode&1?dr&1073741824&&(zi(h),h.subtreeFlags&6&&(h.flags|=8192)):zi(h),null;case 24:return null;case 25:return null}throw Error(e(156,h.tag))}function N_(l,h){switch(Md(h),h.tag){case 1:return Zi(h.type)&&Cu(),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return Wa(),Zt(Ki),Zt(Li),Yd(),l=h.flags,l&65536&&!(l&128)?(h.flags=l&-65537|128,h):null;case 5:return Hd(h),null;case 13:if(Zt(ri),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(e(340));Na()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return Zt(ri),null;case 4:return Wa(),null;case 10:return Rd(h.type._context),null;case 22:case 23:return Pf(),null;case 24:return null;default:return null}}var Yu=!1,Bi=!1,z_=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Ua(l,h){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){ai(l,h,v)}else m.current=null}function cf(l,h,m){try{m()}catch(v){ai(l,h,v)}}var ev=!1;function B_(l,h){if(_d=hu,l=Fg(),pd(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var _=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var O=0,R=-1,z=-1,G=0,he=0,de=l,le=null;t:for(;;){for(var je;de!==m||_!==0&&de.nodeType!==3||(R=O+_),de!==C||v!==0&&de.nodeType!==3||(z=O+v),de.nodeType===3&&(O+=de.nodeValue.length),(je=de.firstChild)!==null;)le=de,de=je;for(;;){if(de===l)break t;if(le===m&&++G===_&&(R=O),le===C&&++he===v&&(z=O),(je=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=je}m=R===-1||z===-1?null:{start:R,end:z}}else m=null}m=m||{start:0,end:0}}else m=null;for(Pd={focusedElem:l,selectionRange:m},hu=!1,ke=h;ke!==null;)if(h=ke,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,ke=l;else for(;ke!==null;){h=ke;try{var Te=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ee=Te.memoizedProps,ui=Te.memoizedState,X=h.stateNode,W=X.getSnapshotBeforeUpdate(h.elementType===h.type?Ee:Hr(h.type,Ee),ui);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var $=h.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(ve){ai(h,h.return,ve)}if(l=h.sibling,l!==null){l.return=h.return,ke=l;break}ke=h.return}return Te=ev,ev=!1,Te}function Qo(l,h,m){var v=h.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&l)===l){var C=_.destroy;_.destroy=void 0,C!==void 0&&cf(h,m,C)}_=_.next}while(_!==v)}}function Uu(l,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==h)}}function df(l){var h=l.ref;if(h!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof h=="function"?h(l):h.current=l}}function tv(l){var h=l.alternate;h!==null&&(l.alternate=null,tv(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&(delete h[on],delete h[zo],delete h[Dd],delete h[P_],delete h[C_])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function iv(l){return l.tag===5||l.tag===3||l.tag===4}function rv(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||iv(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ff(l,h,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(l,h):m.insertBefore(l,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(l,m)):(h=m,h.appendChild(l)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=_u));else if(v!==4&&(l=l.child,l!==null))for(ff(l,h,m),l=l.sibling;l!==null;)ff(l,h,m),l=l.sibling}function pf(l,h,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,h?m.insertBefore(l,h):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(pf(l,h,m),l=l.sibling;l!==null;)pf(l,h,m),l=l.sibling}var Ei=null,Wr=!1;function ls(l,h,m){for(m=m.child;m!==null;)nv(l,h,m),m=m.sibling}function nv(l,h,m){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Lr,m)}catch{}switch(m.tag){case 5:Bi||Ua(m,h);case 6:var v=Ei,_=Wr;Ei=null,ls(l,h,m),Ei=v,Wr=_,Ei!==null&&(Wr?(l=Ei,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Ei.removeChild(m.stateNode));break;case 18:Ei!==null&&(Wr?(l=Ei,m=m.stateNode,l.nodeType===8?jd(l.parentNode,m):l.nodeType===1&&jd(l,m),Oo(l)):jd(Ei,m.stateNode));break;case 4:v=Ei,_=Wr,Ei=m.stateNode.containerInfo,Wr=!0,ls(l,h,m),Ei=v,Wr=_;break;case 0:case 11:case 14:case 15:if(!Bi&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var C=_,O=C.destroy;C=C.tag,O!==void 0&&(C&2||C&4)&&cf(m,h,O),_=_.next}while(_!==v)}ls(l,h,m);break;case 1:if(!Bi&&(Ua(m,h),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(R){ai(m,h,R)}ls(l,h,m);break;case 21:ls(l,h,m);break;case 22:m.mode&1?(Bi=(v=Bi)||m.memoizedState!==null,ls(l,h,m),Bi=v):ls(l,h,m);break;default:ls(l,h,m)}}function sv(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new z_),h.forEach(function(v){var _=Z_.bind(null,l,v);m.has(v)||(m.add(v),v.then(_,_))})}}function Yr(l,h){var m=h.deletions;if(m!==null)for(var v=0;v<m.length;v++){var _=m[v];try{var C=l,O=h,R=O;e:for(;R!==null;){switch(R.tag){case 5:Ei=R.stateNode,Wr=!1;break e;case 3:Ei=R.stateNode.containerInfo,Wr=!0;break e;case 4:Ei=R.stateNode.containerInfo,Wr=!0;break e}R=R.return}if(Ei===null)throw Error(e(160));nv(C,O,_),Ei=null,Wr=!1;var z=_.alternate;z!==null&&(z.return=null),_.return=null}catch(G){ai(_,h,G)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)av(h,l),h=h.sibling}function av(l,h){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Yr(h,l),hn(l),v&4){try{Qo(3,l,l.return),Uu(3,l)}catch(Ee){ai(l,l.return,Ee)}try{Qo(5,l,l.return)}catch(Ee){ai(l,l.return,Ee)}}break;case 1:Yr(h,l),hn(l),v&512&&m!==null&&Ua(m,m.return);break;case 5:if(Yr(h,l),hn(l),v&512&&m!==null&&Ua(m,m.return),l.flags&32){var _=l.stateNode;try{It(_,"")}catch(Ee){ai(l,l.return,Ee)}}if(v&4&&(_=l.stateNode,_!=null)){var C=l.memoizedProps,O=m!==null?m.memoizedProps:C,R=l.type,z=l.updateQueue;if(l.updateQueue=null,z!==null)try{R==="input"&&C.type==="radio"&&C.name!=null&&nn(_,C),Pa(R,O);var G=Pa(R,C);for(O=0;O<z.length;O+=2){var he=z[O],de=z[O+1];he==="style"?tu(_,de):he==="dangerouslySetInnerHTML"?Rr(_,de):he==="children"?It(_,de):k(_,he,de,G)}switch(R){case"input":sn(_,C);break;case"textarea":Yn(_,C);break;case"select":var le=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!C.multiple;var je=C.value;je!=null?vi(_,!!C.multiple,je,!1):le!==!!C.multiple&&(C.defaultValue!=null?vi(_,!!C.multiple,C.defaultValue,!0):vi(_,!!C.multiple,C.multiple?[]:"",!1))}_[zo]=C}catch(Ee){ai(l,l.return,Ee)}}break;case 6:if(Yr(h,l),hn(l),v&4){if(l.stateNode===null)throw Error(e(162));_=l.stateNode,C=l.memoizedProps;try{_.nodeValue=C}catch(Ee){ai(l,l.return,Ee)}}break;case 3:if(Yr(h,l),hn(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Oo(h.containerInfo)}catch(Ee){ai(l,l.return,Ee)}break;case 4:Yr(h,l),hn(l);break;case 13:Yr(h,l),hn(l),_=l.child,_.flags&8192&&(C=_.memoizedState!==null,_.stateNode.isHidden=C,!C||_.alternate!==null&&_.alternate.memoizedState!==null||(yf=Xt())),v&4&&sv(l);break;case 22:if(he=m!==null&&m.memoizedState!==null,l.mode&1?(Bi=(G=Bi)||he,Yr(h,l),Bi=G):Yr(h,l),hn(l),v&8192){if(G=l.memoizedState!==null,(l.stateNode.isHidden=G)&&!he&&l.mode&1)for(ke=l,he=l.child;he!==null;){for(de=ke=he;ke!==null;){switch(le=ke,je=le.child,le.tag){case 0:case 11:case 14:case 15:Qo(4,le,le.return);break;case 1:Ua(le,le.return);var Te=le.stateNode;if(typeof Te.componentWillUnmount=="function"){v=le,m=le.return;try{h=v,Te.props=h.memoizedProps,Te.state=h.memoizedState,Te.componentWillUnmount()}catch(Ee){ai(v,m,Ee)}}break;case 5:Ua(le,le.return);break;case 22:if(le.memoizedState!==null){uv(de);continue}}je!==null?(je.return=le,ke=je):uv(de)}he=he.sibling}e:for(he=null,de=l;;){if(de.tag===5){if(he===null){he=de;try{_=de.stateNode,G?(C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(R=de.stateNode,z=de.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null,R.style.display=wo("display",O))}catch(Ee){ai(l,l.return,Ee)}}}else if(de.tag===6){if(he===null)try{de.stateNode.nodeValue=G?"":de.memoizedProps}catch(Ee){ai(l,l.return,Ee)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===l)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===l)break e;for(;de.sibling===null;){if(de.return===null||de.return===l)break e;he===de&&(he=null),de=de.return}he===de&&(he=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Yr(h,l),hn(l),v&4&&sv(l);break;case 21:break;default:Yr(h,l),hn(l)}}function hn(l){var h=l.flags;if(h&2){try{e:{for(var m=l.return;m!==null;){if(iv(m)){var v=m;break e}m=m.return}throw Error(e(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(It(_,""),v.flags&=-33);var C=rv(l);pf(l,C,_);break;case 3:case 4:var O=v.stateNode.containerInfo,R=rv(l);ff(l,R,O);break;default:throw Error(e(161))}}catch(z){ai(l,l.return,z)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function H_(l,h,m){ke=l,ov(l)}function ov(l,h,m){for(var v=(l.mode&1)!==0;ke!==null;){var _=ke,C=_.child;if(_.tag===22&&v){var O=_.memoizedState!==null||Yu;if(!O){var R=_.alternate,z=R!==null&&R.memoizedState!==null||Bi;R=Yu;var G=Bi;if(Yu=O,(Bi=z)&&!G)for(ke=_;ke!==null;)O=ke,z=O.child,O.tag===22&&O.memoizedState!==null?hv(_):z!==null?(z.return=O,ke=z):hv(_);for(;C!==null;)ke=C,ov(C),C=C.sibling;ke=_,Yu=R,Bi=G}lv(l)}else _.subtreeFlags&8772&&C!==null?(C.return=_,ke=C):lv(l)}}function lv(l){for(;ke!==null;){var h=ke;if(h.flags&8772){var m=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Bi||Uu(5,h);break;case 1:var v=h.stateNode;if(h.flags&4&&!Bi)if(m===null)v.componentDidMount();else{var _=h.elementType===h.type?m.memoizedProps:Hr(h.type,m.memoizedProps);v.componentDidUpdate(_,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=h.updateQueue;C!==null&&uy(h,C,v);break;case 3:var O=h.updateQueue;if(O!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=h.child.stateNode;break;case 1:m=h.child.stateNode}uy(h,O,m)}break;case 5:var R=h.stateNode;if(m===null&&h.flags&4){m=R;var z=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&m.focus();break;case"img":z.src&&(m.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var G=h.alternate;if(G!==null){var he=G.memoizedState;if(he!==null){var de=he.dehydrated;de!==null&&Oo(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Bi||h.flags&512&&df(h)}catch(le){ai(h,h.return,le)}}if(h===l){ke=null;break}if(m=h.sibling,m!==null){m.return=h.return,ke=m;break}ke=h.return}}function uv(l){for(;ke!==null;){var h=ke;if(h===l){ke=null;break}var m=h.sibling;if(m!==null){m.return=h.return,ke=m;break}ke=h.return}}function hv(l){for(;ke!==null;){var h=ke;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{Uu(4,h)}catch(z){ai(h,m,z)}break;case 1:var v=h.stateNode;if(typeof v.componentDidMount=="function"){var _=h.return;try{v.componentDidMount()}catch(z){ai(h,_,z)}}var C=h.return;try{df(h)}catch(z){ai(h,C,z)}break;case 5:var O=h.return;try{df(h)}catch(z){ai(h,O,z)}}}catch(z){ai(h,h.return,z)}if(h===l){ke=null;break}var R=h.sibling;if(R!==null){R.return=h.return,ke=R;break}ke=h.return}}var W_=Math.ceil,Xu=T.ReactCurrentDispatcher,mf=T.ReactCurrentOwner,Sr=T.ReactCurrentBatchConfig,Ct=0,ji=null,mi=null,Vi=0,dr=0,Xa=rs(0),_i=0,qo=null,Us=0,$u=0,gf=0,Jo=null,qi=null,yf=0,$a=1/0,In=null,Gu=!1,vf=null,us=null,Ku=!1,hs=null,Zu=0,el=0,bf=null,Qu=-1,qu=0;function Ui(){return Ct&6?Xt():Qu!==-1?Qu:Qu=Xt()}function cs(l){return l.mode&1?Ct&2&&Vi!==0?Vi&-Vi:j_.transition!==null?(qu===0&&(qu=rg()),qu):(l=Rt,l!==0||(l=window.event,l=l===void 0?16:dg(l.type)),l):1}function Ur(l,h,m,v){if(50<el)throw el=0,bf=null,Error(e(185));Co(l,m,v),(!(Ct&2)||l!==ji)&&(l===ji&&(!(Ct&2)&&($u|=m),_i===4&&ds(l,Vi)),Ji(l,v),m===1&&Ct===0&&!(h.mode&1)&&($a=Xt()+500,ju&&ss()))}function Ji(l,h){var m=l.callbackNode;jw(l,h);var v=ou(l,l===ji?Vi:0);if(v===0)m!==null&&Sa(m),l.callbackNode=null,l.callbackPriority=0;else if(h=v&-v,l.callbackPriority!==h){if(m!=null&&Sa(m),h===1)l.tag===0?S_(dv.bind(null,l)):Qg(dv.bind(null,l)),w_(function(){!(Ct&6)&&ss()}),m=null;else{switch(ng(v)){case 1:m=Vt;break;case 4:m=xi;break;case 16:m=kn;break;case 536870912:m=ii;break;default:m=kn}m=xv(m,cv.bind(null,l))}l.callbackPriority=h,l.callbackNode=m}}function cv(l,h){if(Qu=-1,qu=0,Ct&6)throw Error(e(327));var m=l.callbackNode;if(Ga()&&l.callbackNode!==m)return null;var v=ou(l,l===ji?Vi:0);if(v===0)return null;if(v&30||v&l.expiredLanes||h)h=Ju(l,v);else{h=v;var _=Ct;Ct|=2;var C=pv();(ji!==l||Vi!==h)&&(In=null,$a=Xt()+500,$s(l,h));do try{X_();break}catch(R){fv(l,R)}while(!0);Id(),Xu.current=C,Ct=_,mi!==null?h=0:(ji=null,Vi=0,h=_i)}if(h!==0){if(h===2&&(_=qc(l),_!==0&&(v=_,h=xf(l,_))),h===1)throw m=qo,$s(l,0),ds(l,v),Ji(l,Xt()),m;if(h===6)ds(l,v);else{if(_=l.current.alternate,!(v&30)&&!Y_(_)&&(h=Ju(l,v),h===2&&(C=qc(l),C!==0&&(v=C,h=xf(l,C))),h===1))throw m=qo,$s(l,0),ds(l,v),Ji(l,Xt()),m;switch(l.finishedWork=_,l.finishedLanes=v,h){case 0:case 1:throw Error(e(345));case 2:Gs(l,qi,In);break;case 3:if(ds(l,v),(v&130023424)===v&&(h=yf+500-Xt(),10<h)){if(ou(l,0)!==0)break;if(_=l.suspendedLanes,(_&v)!==v){Ui(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=Sd(Gs.bind(null,l,qi,In),h);break}Gs(l,qi,In);break;case 4:if(ds(l,v),(v&4194240)===v)break;for(h=l.eventTimes,_=-1;0<v;){var O=31-Nr(v);C=1<<O,O=h[O],O>_&&(_=O),v&=~C}if(v=_,v=Xt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*W_(v/1960))-v,10<v){l.timeoutHandle=Sd(Gs.bind(null,l,qi,In),v);break}Gs(l,qi,In);break;case 5:Gs(l,qi,In);break;default:throw Error(e(329))}}}return Ji(l,Xt()),l.callbackNode===m?cv.bind(null,l):null}function xf(l,h){var m=Jo;return l.current.memoizedState.isDehydrated&&($s(l,h).flags|=256),l=Ju(l,h),l!==2&&(h=qi,qi=m,h!==null&&wf(h)),l}function wf(l){qi===null?qi=l:qi.push.apply(qi,l)}function Y_(l){for(var h=l;;){if(h.flags&16384){var m=h.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var _=m[v],C=_.getSnapshot;_=_.value;try{if(!zr(C(),_))return!1}catch{return!1}}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ds(l,h){for(h&=~gf,h&=~$u,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var m=31-Nr(h),v=1<<m;l[m]=-1,h&=~v}}function dv(l){if(Ct&6)throw Error(e(327));Ga();var h=ou(l,0);if(!(h&1))return Ji(l,Xt()),null;var m=Ju(l,h);if(l.tag!==0&&m===2){var v=qc(l);v!==0&&(h=v,m=xf(l,v))}if(m===1)throw m=qo,$s(l,0),ds(l,h),Ji(l,Xt()),m;if(m===6)throw Error(e(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,Gs(l,qi,In),Ji(l,Xt()),null}function _f(l,h){var m=Ct;Ct|=1;try{return l(h)}finally{Ct=m,Ct===0&&($a=Xt()+500,ju&&ss())}}function Xs(l){hs!==null&&hs.tag===0&&!(Ct&6)&&Ga();var h=Ct;Ct|=1;var m=Sr.transition,v=Rt;try{if(Sr.transition=null,Rt=1,l)return l()}finally{Rt=v,Sr.transition=m,Ct=h,!(Ct&6)&&ss()}}function Pf(){dr=Xa.current,Zt(Xa)}function $s(l,h){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,x_(m)),mi!==null)for(m=mi.return;m!==null;){var v=m;switch(Md(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Cu();break;case 3:Wa(),Zt(Ki),Zt(Li),Yd();break;case 5:Hd(v);break;case 4:Wa();break;case 13:Zt(ri);break;case 19:Zt(ri);break;case 10:Rd(v.type._context);break;case 22:case 23:Pf()}m=m.return}if(ji=l,mi=l=fs(l.current,null),Vi=dr=h,_i=0,qo=null,gf=$u=Us=0,qi=Jo=null,Hs!==null){for(h=0;h<Hs.length;h++)if(m=Hs[h],v=m.interleaved,v!==null){m.interleaved=null;var _=v.next,C=m.pending;if(C!==null){var O=C.next;C.next=_,v.next=O}m.pending=v}Hs=null}return l}function fv(l,h){do{var m=mi;try{if(Id(),Iu.current=zu,Ru){for(var v=ni.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Ru=!1}if(Ys=0,Si=wi=ni=null,Xo=!1,$o=0,mf.current=null,m===null||m.return===null){_i=1,qo=h,mi=null;break}e:{var C=l,O=m.return,R=m,z=h;if(h=Vi,R.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var G=z,he=R,de=he.tag;if(!(he.mode&1)&&(de===0||de===11||de===15)){var le=he.alternate;le?(he.updateQueue=le.updateQueue,he.memoizedState=le.memoizedState,he.lanes=le.lanes):(he.updateQueue=null,he.memoizedState=null)}var je=Ly(O);if(je!==null){je.flags&=-257,Ny(je,O,R,C,h),je.mode&1&&Ry(C,G,h),h=je,z=G;var Te=h.updateQueue;if(Te===null){var Ee=new Set;Ee.add(z),h.updateQueue=Ee}else Te.add(z);break e}else{if(!(h&1)){Ry(C,G,h),Cf();break e}z=Error(e(426))}}else if(Jt&&R.mode&1){var ui=Ly(O);if(ui!==null){!(ui.flags&65536)&&(ui.flags|=256),Ny(ui,O,R,C,h),Vd(Ya(z,R));break e}}C=z=Ya(z,R),_i!==4&&(_i=2),Jo===null?Jo=[C]:Jo.push(C),C=O;do{switch(C.tag){case 3:C.flags|=65536,h&=-h,C.lanes|=h;var X=Ay(C,z,h);ly(C,X);break e;case 1:R=z;var W=C.type,$=C.stateNode;if(!(C.flags&128)&&(typeof W.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(us===null||!us.has($)))){C.flags|=65536,h&=-h,C.lanes|=h;var ve=Iy(C,R,h);ly(C,ve);break e}}C=C.return}while(C!==null)}gv(m)}catch(Re){h=Re,mi===m&&m!==null&&(mi=m=m.return);continue}break}while(!0)}function pv(){var l=Xu.current;return Xu.current=zu,l===null?zu:l}function Cf(){(_i===0||_i===3||_i===2)&&(_i=4),ji===null||!(Us&268435455)&&!($u&268435455)||ds(ji,Vi)}function Ju(l,h){var m=Ct;Ct|=2;var v=pv();(ji!==l||Vi!==h)&&(In=null,$s(l,h));do try{U_();break}catch(_){fv(l,_)}while(!0);if(Id(),Ct=m,Xu.current=v,mi!==null)throw Error(e(261));return ji=null,Vi=0,_i}function U_(){for(;mi!==null;)mv(mi)}function X_(){for(;mi!==null&&!Is();)mv(mi)}function mv(l){var h=bv(l.alternate,l,dr);l.memoizedProps=l.pendingProps,h===null?gv(l):mi=h,mf.current=null}function gv(l){var h=l;do{var m=h.alternate;if(l=h.return,h.flags&32768){if(m=N_(m,h),m!==null){m.flags&=32767,mi=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{_i=6,mi=null;return}}else if(m=L_(m,h,dr),m!==null){mi=m;return}if(h=h.sibling,h!==null){mi=h;return}mi=h=l}while(h!==null);_i===0&&(_i=5)}function Gs(l,h,m){var v=Rt,_=Sr.transition;try{Sr.transition=null,Rt=1,$_(l,h,m,v)}finally{Sr.transition=_,Rt=v}return null}function $_(l,h,m,v){do Ga();while(hs!==null);if(Ct&6)throw Error(e(327));m=l.finishedWork;var _=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(e(177));l.callbackNode=null,l.callbackPriority=0;var C=m.lanes|m.childLanes;if(Dw(l,C),l===ji&&(mi=ji=null,Vi=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||Ku||(Ku=!0,xv(kn,function(){return Ga(),null})),C=(m.flags&15990)!==0,m.subtreeFlags&15990||C){C=Sr.transition,Sr.transition=null;var O=Rt;Rt=1;var R=Ct;Ct|=4,mf.current=null,B_(l,m),av(m,l),f_(Pd),hu=!!_d,Pd=_d=null,l.current=m,H_(m),Dn(),Ct=R,Rt=O,Sr.transition=C}else l.current=m;if(Ku&&(Ku=!1,hs=l,Zu=_),C=l.pendingLanes,C===0&&(us=null),Qc(m.stateNode),Ji(l,Xt()),h!==null)for(v=l.onRecoverableError,m=0;m<h.length;m++)_=h[m],v(_.value,{componentStack:_.stack,digest:_.digest});if(Gu)throw Gu=!1,l=vf,vf=null,l;return Zu&1&&l.tag!==0&&Ga(),C=l.pendingLanes,C&1?l===bf?el++:(el=0,bf=l):el=0,ss(),null}function Ga(){if(hs!==null){var l=ng(Zu),h=Sr.transition,m=Rt;try{if(Sr.transition=null,Rt=16>l?16:l,hs===null)var v=!1;else{if(l=hs,hs=null,Zu=0,Ct&6)throw Error(e(331));var _=Ct;for(Ct|=4,ke=l.current;ke!==null;){var C=ke,O=C.child;if(ke.flags&16){var R=C.deletions;if(R!==null){for(var z=0;z<R.length;z++){var G=R[z];for(ke=G;ke!==null;){var he=ke;switch(he.tag){case 0:case 11:case 15:Qo(8,he,C)}var de=he.child;if(de!==null)de.return=he,ke=de;else for(;ke!==null;){he=ke;var le=he.sibling,je=he.return;if(tv(he),he===G){ke=null;break}if(le!==null){le.return=je,ke=le;break}ke=je}}}var Te=C.alternate;if(Te!==null){var Ee=Te.child;if(Ee!==null){Te.child=null;do{var ui=Ee.sibling;Ee.sibling=null,Ee=ui}while(Ee!==null)}}ke=C}}if(C.subtreeFlags&2064&&O!==null)O.return=C,ke=O;else e:for(;ke!==null;){if(C=ke,C.flags&2048)switch(C.tag){case 0:case 11:case 15:Qo(9,C,C.return)}var X=C.sibling;if(X!==null){X.return=C.return,ke=X;break e}ke=C.return}}var W=l.current;for(ke=W;ke!==null;){O=ke;var $=O.child;if(O.subtreeFlags&2064&&$!==null)$.return=O,ke=$;else e:for(O=W;ke!==null;){if(R=ke,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Uu(9,R)}}catch(Re){ai(R,R.return,Re)}if(R===O){ke=null;break e}var ve=R.sibling;if(ve!==null){ve.return=R.return,ke=ve;break e}ke=R.return}}if(Ct=_,ss(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Lr,l)}catch{}v=!0}return v}finally{Rt=m,Sr.transition=h}}return!1}function yv(l,h,m){h=Ya(m,h),h=Ay(l,h,1),l=os(l,h,1),h=Ui(),l!==null&&(Co(l,1,h),Ji(l,h))}function ai(l,h,m){if(l.tag===3)yv(l,l,m);else for(;h!==null;){if(h.tag===3){yv(h,l,m);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(us===null||!us.has(v))){l=Ya(m,l),l=Iy(h,l,1),h=os(h,l,1),l=Ui(),h!==null&&(Co(h,1,l),Ji(h,l));break}}h=h.return}}function G_(l,h,m){var v=l.pingCache;v!==null&&v.delete(h),h=Ui(),l.pingedLanes|=l.suspendedLanes&m,ji===l&&(Vi&m)===m&&(_i===4||_i===3&&(Vi&130023424)===Vi&&500>Xt()-yf?$s(l,0):gf|=m),Ji(l,h)}function vv(l,h){h===0&&(l.mode&1?(h=au,au<<=1,!(au&130023424)&&(au=4194304)):h=1);var m=Ui();l=En(l,h),l!==null&&(Co(l,h,m),Ji(l,m))}function K_(l){var h=l.memoizedState,m=0;h!==null&&(m=h.retryLane),vv(l,m)}function Z_(l,h){var m=0;switch(l.tag){case 13:var v=l.stateNode,_=l.memoizedState;_!==null&&(m=_.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(e(314))}v!==null&&v.delete(h),vv(l,m)}var bv;bv=function(l,h,m){if(l!==null)if(l.memoizedProps!==h.pendingProps||Ki.current)Qi=!0;else{if(!(l.lanes&m)&&!(h.flags&128))return Qi=!1,R_(l,h,m);Qi=!!(l.flags&131072)}else Qi=!1,Jt&&h.flags&1048576&&qg(h,ku,h.index);switch(h.lanes=0,h.tag){case 2:var v=h.type;Wu(l,h),l=h.pendingProps;var _=Ia(h,Li.current);Ha(h,m),_=$d(null,h,v,l,_,m);var C=Gd();return h.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Zi(v)?(C=!0,Su(h)):C=!1,h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,zd(h),_.updater=Bu,h.stateNode=_,_._reactInternals=h,ef(h,v,l,m),h=sf(null,h,v,!0,C,m)):(h.tag=0,Jt&&C&&Td(h),Yi(null,h,_,m),h=h.child),h;case 16:v=h.elementType;e:{switch(Wu(l,h),l=h.pendingProps,_=v._init,v=_(v._payload),h.type=v,_=h.tag=q_(v),l=Hr(v,l),_){case 0:h=nf(null,h,v,l,m);break e;case 1:h=Uy(null,h,v,l,m);break e;case 11:h=zy(null,h,v,l,m);break e;case 14:h=By(null,h,v,Hr(v.type,l),m);break e}throw Error(e(306,v,""))}return h;case 0:return v=h.type,_=h.pendingProps,_=h.elementType===v?_:Hr(v,_),nf(l,h,v,_,m);case 1:return v=h.type,_=h.pendingProps,_=h.elementType===v?_:Hr(v,_),Uy(l,h,v,_,m);case 3:e:{if(Xy(h),l===null)throw Error(e(387));v=h.pendingProps,C=h.memoizedState,_=C.element,oy(l,h),Vu(h,v,null,m);var O=h.memoizedState;if(v=O.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){_=Ya(Error(e(423)),h),h=$y(l,h,v,m,_);break e}else if(v!==_){_=Ya(Error(e(424)),h),h=$y(l,h,v,m,_);break e}else for(cr=is(h.stateNode.containerInfo.firstChild),hr=h,Jt=!0,Br=null,m=sy(h,null,v,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Na(),v===_){h=An(l,h,m);break e}Yi(l,h,v,m)}h=h.child}return h;case 5:return hy(h),l===null&&Ed(h),v=h.type,_=h.pendingProps,C=l!==null?l.memoizedProps:null,O=_.children,Cd(v,_)?O=null:C!==null&&Cd(v,C)&&(h.flags|=32),Yy(l,h),Yi(l,h,O,m),h.child;case 6:return l===null&&Ed(h),null;case 13:return Gy(l,h,m);case 4:return Bd(h,h.stateNode.containerInfo),v=h.pendingProps,l===null?h.child=za(h,null,v,m):Yi(l,h,v,m),h.child;case 11:return v=h.type,_=h.pendingProps,_=h.elementType===v?_:Hr(v,_),zy(l,h,v,_,m);case 7:return Yi(l,h,h.pendingProps,m),h.child;case 8:return Yi(l,h,h.pendingProps.children,m),h.child;case 12:return Yi(l,h,h.pendingProps.children,m),h.child;case 10:e:{if(v=h.type._context,_=h.pendingProps,C=h.memoizedProps,O=_.value,$t(Mu,v._currentValue),v._currentValue=O,C!==null)if(zr(C.value,O)){if(C.children===_.children&&!Ki.current){h=An(l,h,m);break e}}else for(C=h.child,C!==null&&(C.return=h);C!==null;){var R=C.dependencies;if(R!==null){O=C.child;for(var z=R.firstContext;z!==null;){if(z.context===v){if(C.tag===1){z=Vn(-1,m&-m),z.tag=2;var G=C.updateQueue;if(G!==null){G=G.shared;var he=G.pending;he===null?z.next=z:(z.next=he.next,he.next=z),G.pending=z}}C.lanes|=m,z=C.alternate,z!==null&&(z.lanes|=m),Ld(C.return,m,h),R.lanes|=m;break}z=z.next}}else if(C.tag===10)O=C.type===h.type?null:C.child;else if(C.tag===18){if(O=C.return,O===null)throw Error(e(341));O.lanes|=m,R=O.alternate,R!==null&&(R.lanes|=m),Ld(O,m,h),O=C.sibling}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===h){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}Yi(l,h,_.children,m),h=h.child}return h;case 9:return _=h.type,v=h.pendingProps.children,Ha(h,m),_=Pr(_),v=v(_),h.flags|=1,Yi(l,h,v,m),h.child;case 14:return v=h.type,_=Hr(v,h.pendingProps),_=Hr(v.type,_),By(l,h,v,_,m);case 15:return Hy(l,h,h.type,h.pendingProps,m);case 17:return v=h.type,_=h.pendingProps,_=h.elementType===v?_:Hr(v,_),Wu(l,h),h.tag=1,Zi(v)?(l=!0,Su(h)):l=!1,Ha(h,m),Ey(h,v,_),ef(h,v,_,m),sf(null,h,v,!0,l,m);case 19:return Zy(l,h,m);case 22:return Wy(l,h,m)}throw Error(e(156,h.tag))};function xv(l,h){return or(l,h)}function Q_(l,h,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(l,h,m,v){return new Q_(l,h,m,v)}function Sf(l){return l=l.prototype,!(!l||!l.isReactComponent)}function q_(l){if(typeof l=="function")return Sf(l)?1:0;if(l!=null){if(l=l.$$typeof,l===ne)return 11;if(l===ze)return 14}return 2}function fs(l,h){var m=l.alternate;return m===null?(m=jr(l.tag,h,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=h,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,h=l.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function eh(l,h,m,v,_,C){var O=2;if(v=l,typeof l=="function")Sf(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case A:return Ks(m.children,_,C,h);case I:O=8,_|=8;break;case L:return l=jr(12,m,h,_|2),l.elementType=L,l.lanes=C,l;case Fe:return l=jr(13,m,h,_),l.elementType=Fe,l.lanes=C,l;case ut:return l=jr(19,m,h,_),l.elementType=ut,l.lanes=C,l;case Ae:return th(m,_,C,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case J:O=10;break e;case ie:O=9;break e;case ne:O=11;break e;case ze:O=14;break e;case be:O=16,v=null;break e}throw Error(e(130,l==null?l:typeof l,""))}return h=jr(O,m,h,_),h.elementType=l,h.type=v,h.lanes=C,h}function Ks(l,h,m,v){return l=jr(7,l,v,h),l.lanes=m,l}function th(l,h,m,v){return l=jr(22,l,v,h),l.elementType=Ae,l.lanes=m,l.stateNode={isHidden:!1},l}function jf(l,h,m){return l=jr(6,l,null,h),l.lanes=m,l}function Df(l,h,m){return h=jr(4,l.children!==null?l.children:[],l.key,h),h.lanes=m,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function J_(l,h,m,v,_){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jc(0),this.expirationTimes=Jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function kf(l,h,m,v,_,C,O,R,z){return l=new J_(l,h,m,R,z),h===1?(h=1,C===!0&&(h|=8)):h=0,C=jr(3,null,null,h),l.current=C,C.stateNode=l,C.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(C),l}function eP(l,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:v==null?null:""+v,children:l,containerInfo:h,implementation:m}}function wv(l){if(!l)return ns;l=l._reactInternals;e:{if(Tt(l)!==l||l.tag!==1)throw Error(e(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Zi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(e(171))}if(l.tag===1){var m=l.type;if(Zi(m))return Kg(l,m,h)}return h}function _v(l,h,m,v,_,C,O,R,z){return l=kf(m,v,!0,l,_,C,O,R,z),l.context=wv(null),m=l.current,v=Ui(),_=cs(m),C=Vn(v,_),C.callback=h??null,os(m,C,_),l.current.lanes=_,Co(l,_,v),Ji(l,v),l}function ih(l,h,m,v){var _=h.current,C=Ui(),O=cs(_);return m=wv(m),h.context===null?h.context=m:h.pendingContext=m,h=Vn(C,O),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=os(_,h,O),l!==null&&(Ur(l,_,O,C),Eu(l,_,O)),O}function rh(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Pv(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<h?m:h}}function Of(l,h){Pv(l,h),(l=l.alternate)&&Pv(l,h)}var Cv=typeof reportError=="function"?reportError:function(l){console.error(l)};function Tf(l){this._internalRoot=l}nh.prototype.render=Tf.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(e(409));ih(l,h,null,null)},nh.prototype.unmount=Tf.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;Xs(function(){ih(null,l,null,null)}),h[On]=null}};function nh(l){this._internalRoot=l}nh.prototype.unstable_scheduleHydration=function(l){if(l){var h=og();l={blockedOn:null,target:l,priority:h};for(var m=0;m<Jn.length&&h!==0&&h<Jn[m].priority;m++);Jn.splice(m,0,l),m===0&&hg(l)}};function Mf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function sh(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function tP(l,h,m,v,_){if(_){if(typeof v=="function"){var C=v;v=function(){var G=rh(O);C.call(G)}}var O=_v(h,v,l,0,null,!1,!1,"",Sv);return l._reactRootContainer=O,l[On]=O.current,Lo(l.nodeType===8?l.parentNode:l),Xs(),O}for(;_=l.lastChild;)l.removeChild(_);if(typeof v=="function"){var R=v;v=function(){var G=rh(z);R.call(G)}}var z=kf(l,0,!1,null,null,!1,!1,"",Sv);return l._reactRootContainer=z,l[On]=z.current,Lo(l.nodeType===8?l.parentNode:l),Xs(function(){ih(h,z,m,v)}),z}function ah(l,h,m,v,_){var C=m._reactRootContainer;if(C){var O=C;if(typeof _=="function"){var R=_;_=function(){var z=rh(O);R.call(z)}}ih(h,O,l,_)}else O=tP(m,h,l,_,v);return rh(O)}sg=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var m=Po(h.pendingLanes);m!==0&&(ed(h,m|1),Ji(h,Xt()),!(Ct&6)&&($a=Xt()+500,ss()))}break;case 13:Xs(function(){var v=En(l,1);if(v!==null){var _=Ui();Ur(v,l,1,_)}}),Of(l,1)}},td=function(l){if(l.tag===13){var h=En(l,134217728);if(h!==null){var m=Ui();Ur(h,l,134217728,m)}Of(l,134217728)}},ag=function(l){if(l.tag===13){var h=cs(l),m=En(l,h);if(m!==null){var v=Ui();Ur(m,l,h,v)}Of(l,h)}},og=function(){return Rt},lg=function(l,h){var m=Rt;try{return Rt=l,h()}finally{Rt=m}},Ca=function(l,h,m){switch(h){case"input":if(sn(l,m),h=m.name,m.type==="radio"&&h!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<m.length;h++){var v=m[h];if(v!==l&&v.form===l.form){var _=Pu(v);if(!_)throw Error(e(90));vr(v),sn(v,_)}}}break;case"textarea":Yn(l,m);break;case"select":h=m.value,h!=null&&vi(l,!!m.multiple,h,!1)}},nu=_f,B=Xs;var iP={usingClientEntryPoint:!1,Events:[Bo,Va,Pu,As,ru,_f]},tl={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rP={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Kn(l),l===null?null:l.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Lr=oh.inject(rP),lr=oh}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iP,er.createPortal=function(l,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mf(h))throw Error(e(200));return eP(l,h,null,m)},er.createRoot=function(l,h){if(!Mf(l))throw Error(e(299));var m=!1,v="",_=Cv;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onRecoverableError!==void 0&&(_=h.onRecoverableError)),h=kf(l,1,!1,null,null,m,!1,v,_),l[On]=h.current,Lo(l.nodeType===8?l.parentNode:l),new Tf(h)},er.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(e(188)):(l=Object.keys(l).join(","),Error(e(268,l)));return l=Kn(h),l=l===null?null:l.stateNode,l},er.flushSync=function(l){return Xs(l)},er.hydrate=function(l,h,m){if(!sh(h))throw Error(e(200));return ah(null,l,h,!0,m)},er.hydrateRoot=function(l,h,m){if(!Mf(l))throw Error(e(405));var v=m!=null&&m.hydratedSources||null,_=!1,C="",O=Cv;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),h=_v(h,null,l,1,m??null,_,!1,C,O),l[On]=h.current,Lo(l),v)for(l=0;l<v.length;l++)m=v[l],_=m._getVersion,_=_(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,_]:h.mutableSourceEagerHydrationData.push(m,_);return new nh(h)},er.render=function(l,h,m){if(!sh(h))throw Error(e(200));return ah(null,l,h,!1,m)},er.unmountComponentAtNode=function(l){if(!sh(l))throw Error(e(40));return l._reactRootContainer?(Xs(function(){ah(null,null,l,!1,function(){l._reactRootContainer=null,l[On]=null})}),!0):!1},er.unstable_batchedUpdates=_f,er.unstable_renderSubtreeIntoContainer=function(l,h,m,v){if(!sh(m))throw Error(e(200));if(l==null||l._reactInternals===void 0)throw Error(e(38));return ah(l,h,m,!1,v)},er.version="18.3.1-next-f1338f8080-20240426",er}var Ev;function Mx(){if(Ev)return Vf.exports;Ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Vf.exports=cP(),Vf.exports}var Vv;function dP(){if(Vv)return lh;Vv=1;var n=Mx();return lh.createRoot=n.createRoot,lh.hydrateRoot=n.hydrateRoot,lh}var fP=dP(),E=sm();const ia=sP(E);var rl={},Av;function pP(){if(Av)return rl;Av=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.parse=a,rl.serialize=c;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function a(g,y){const b=new s,x=g.length;if(x<2)return b;const w=(y==null?void 0:y.decode)||f;let P=0;do{const S=g.indexOf("=",P);if(S===-1)break;const k=g.indexOf(";",P),T=k===-1?x:k;if(S>T){P=g.lastIndexOf(";",S-1)+1;continue}const j=o(g,P,S),V=u(g,S,j),A=g.slice(j,V);if(b[A]===void 0){let I=o(g,S+1,T),L=u(g,T,I);const J=w(g.slice(I,L));b[A]=J}P=T+1}while(P<x);return b}function o(g,y,b){do{const x=g.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<b);return b}function u(g,y,b){for(;y>b;){const x=g.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return b}function c(g,y,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const w=x(y);if(!t.test(w))throw new TypeError(`argument val is invalid: ${y}`);let P=g+"="+w;if(!b)return P;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);P+="; Max-Age="+b.maxAge}if(b.domain){if(!e.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);P+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);P+="; Path="+b.path}if(b.expires){if(!p(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);P+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(P+="; HttpOnly"),b.secure&&(P+="; Secure"),b.partitioned&&(P+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return P}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return r.call(g)==="[object Date]"}return rl}pP();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iv="popstate";function mP(n={}){function t(i,r){let{pathname:s,search:a,hash:o}=i.location;return Cl("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Ps(r)}return yP(t,e,null,n)}function yt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ti(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gP(){return Math.random().toString(36).substring(2,10)}function Rv(n,t){return{usr:n.state,key:n.key,idx:t}}function Cl(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ks(t):t,state:e,key:t&&t.key||i||gP()}}function Ps({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ks(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function yP(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let w=f(),P=w==null?null:w-c;c=w,u&&u({action:o,location:x.location,delta:P})}function g(w,P){o="PUSH";let S=Cl(x.location,w,P);c=f()+1;let k=Rv(S,c),T=x.createHref(S);try{a.pushState(k,"",T)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(T)}s&&u&&u({action:o,location:x.location,delta:1})}function y(w,P){o="REPLACE";let S=Cl(x.location,w,P);c=f();let k=Rv(S,c),T=x.createHref(S);a.replaceState(k,"",T),s&&u&&u({action:o,location:x.location,delta:0})}function b(w){let P=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof w=="string"?w:Ps(w);return S=S.replace(/ $/,"%20"),yt(P,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,P)}let x={get action(){return o},get location(){return n(r,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Iv,p),u=w,()=>{r.removeEventListener(Iv,p),u=null}},createHref(w){return t(r,w)},createURL:b,encodeLocation(w){let P=b(w);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:g,replace:y,go(w){return a.go(w)}};return x}var vP=new Set(["lazy","caseSensitive","path","id","index","children"]);function bP(n){return n.index===!0}function Nh(n,t,e=[],i={}){return n.map((r,s)=>{let a=[...e,String(s)],o=typeof r.id=="string"?r.id:a.join("-");if(yt(r.index!==!0||!r.children,"Cannot specify children on an index route"),yt(!i[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),bP(r)){let u={...r,...t(r),id:o};return i[o]=u,u}else{let u={...r,...t(r),id:o,children:void 0};return i[o]=u,r.children&&(u.children=Nh(r.children,t,a,i)),u}})}function vs(n,t,e="/"){return Sh(n,t,e,!1)}function Sh(n,t,e,i){let r=typeof t=="string"?ks(t):t,s=Kr(r.pathname||"/",e);if(s==null)return null;let a=Fx(n);wP(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=FP(s);o=TP(a[u],c,i)}return o}function xP(n,t){let{route:e,pathname:i,params:r}=n;return{id:e.id,pathname:i,params:r,data:t[e.id],handle:e.handle}}function Fx(n,t=[],e=[],i=""){let r=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(yt(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let c=gn([i,u.relativePath]),f=e.concat(u);s.children&&s.children.length>0&&(yt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Fx(s.children,t,f,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:kP(c,s.index),routesMeta:f})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let u of Ex(s.path))r(s,a,u)}),t}function Ex(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),s=e.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=Ex(i.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&o.push(...a),o.map(u=>n.startsWith("/")&&u===""?"/":u)}function wP(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:OP(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var _P=/^:[\w-]+$/,PP=3,CP=2,SP=1,jP=10,DP=-2,Lv=n=>n==="*";function kP(n,t){let e=n.split("/"),i=e.length;return e.some(Lv)&&(i+=DP),t&&(i+=CP),e.filter(r=>!Lv(r)).reduce((r,s)=>r+(_P.test(s)?PP:s===""?SP:jP),i)}function OP(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function TP(n,t,e=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let u=i[o],c=o===i.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=zh({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p&&c&&e&&!i[i.length-1].route.index&&(p=zh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:gn([s,p.pathname]),pathnameBase:AP(gn([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=gn([s,p.pathnameBase]))}return a}function zh(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=MP(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[g];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:n}}function MP(n,t=!1,e=!0){Ti(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function FP(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ti(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Kr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function EP(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?ks(n):n;return{pathname:e?e.startsWith("/")?e:VP(e,t):t,search:IP(i),hash:RP(r)}}function VP(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Rf(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vx(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function yc(n){let t=Vx(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function vc(n,t,e,i=!1){let r;typeof n=="string"?r=ks(n):(r={...n},yt(!r.pathname||!r.pathname.includes("?"),Rf("?","pathname","search",r)),yt(!r.pathname||!r.pathname.includes("#"),Rf("#","pathname","hash",r)),yt(!r.search||!r.search.includes("#"),Rf("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=e;else{let p=t.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}o=p>=0?t[p]:"/"}let u=EP(r,o),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var gn=n=>n.join("/").replace(/\/\/+/g,"/"),AP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Bh=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function bc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ax=["POST","PUT","PATCH","DELETE"],LP=new Set(Ax),NP=["GET",...Ax],zP=new Set(NP),BP=new Set([301,302,303,307,308]),HP=new Set([307,308]),Lf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},am=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YP=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Ix="remix-router-transitions",Rx=Symbol("ResetLoaderData");function UP(n){const t=n.window?n.window:typeof window<"u"?window:void 0,e=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";yt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||YP,r={},s=Nh(n.routes,i,void 0,r),a,o=n.basename||"/",u=n.dataStrategy||ZP,c=n.patchRoutesOnNavigation,f={...n.future},p=null,g=new Set,y=null,b=null,x=null,w=n.hydrationData!=null,P=vs(s,n.history.location,o),S=null;if(P==null&&!c){let B=kr(404,{pathname:n.history.location.pathname}),{matches:U,route:Z}=Kv(s);P=U,S={[Z.id]:B}}P&&!n.hydrationData&&Vs(P,s,n.history.location.pathname).active&&(P=null);let k;if(P)if(P.some(B=>B.route.lazy))k=!1;else if(!P.some(B=>B.route.loader))k=!0;else{let B=n.hydrationData?n.hydrationData.loaderData:null,U=n.hydrationData?n.hydrationData.errors:null;if(U){let Z=P.findIndex(ue=>U[ue.route.id]!==void 0);k=P.slice(0,Z+1).every(ue=>!xp(ue.route,B,U))}else k=P.every(Z=>!xp(Z.route,B,U))}else{k=!1,P=[];let B=Vs(null,s,n.history.location.pathname);B.active&&B.matches&&(P=B.matches)}let T,j={historyAction:n.history.action,location:n.history.location,matches:P,initialized:k,navigation:Lf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||S,fetchers:new Map,blockers:new Map},V="POP",A=!1,I,L=!1,J=new Map,ie=null,ne=!1,Fe=!1,ut=new Set,ze=new Map,be=0,Ae=-1,se=new Map,ye=new Set,fe=new Map,H=new Map,Y=new Set,xe=new Map,Pe,He=null;function Ze(){if(p=n.history.listen(({action:B,location:U,delta:Z})=>{if(Pe){Pe(),Pe=void 0;return}Ti(xe.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Pa({currentLocation:j.location,nextLocation:U,historyAction:B});if(ue&&Z!=null){let Ce=new Promise(Ie=>{Pe=Ie});n.history.go(Z*-1),Xn(ue,{state:"blocked",location:U,proceed(){Xn(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),Ce.then(()=>n.history.go(Z))},reset(){let Ie=new Map(j.blockers);Ie.set(ue,nl),Ge({blockers:Ie})}});return}return Fi(B,U)}),e){oC(t,J);let B=()=>lC(t,J);t.addEventListener("pagehide",B),ie=()=>t.removeEventListener("pagehide",B)}return j.initialized||Fi("POP",j.location,{initialHydration:!0}),T}function lt(){p&&p(),ie&&ie(),g.clear(),I&&I.abort(),j.fetchers.forEach((B,U)=>Dt(U)),j.blockers.forEach((B,U)=>iu(U))}function nt(B){return g.add(B),()=>g.delete(B)}function Ge(B,U={}){j={...j,...B};let Z=[],ue=[];j.fetchers.forEach((Ce,Ie)=>{Ce.state==="idle"&&(Y.has(Ie)?Z.push(Ie):ue.push(Ie))}),Y.forEach(Ce=>{!j.fetchers.has(Ce)&&!ze.has(Ce)&&Z.push(Ce)}),[...g].forEach(Ce=>Ce(j,{deletedFetchers:Z,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),Z.forEach(Ce=>Dt(Ce)),ue.forEach(Ce=>j.fetchers.delete(Ce))}function jt(B,U,{flushSync:Z}={}){var we,et;let ue=j.actionData!=null&&j.navigation.formMethod!=null&&Xr(j.navigation.formMethod)&&j.navigation.state==="loading"&&((we=B.state)==null?void 0:we._isRedirect)!==!0,Ce;U.actionData?Object.keys(U.actionData).length>0?Ce=U.actionData:Ce=null:ue?Ce=j.actionData:Ce=null;let Ie=U.loaderData?$v(j.loaderData,U.loaderData,U.matches||[],U.errors):j.loaderData,Je=j.blockers;Je.size>0&&(Je=new Map(Je),Je.forEach((dt,Ut)=>Je.set(Ut,nl)));let De=A===!0||j.navigation.formMethod!=null&&Xr(j.navigation.formMethod)&&((et=B.state)==null?void 0:et._isRedirect)!==!0;a&&(s=a,a=void 0),ne||V==="POP"||(V==="PUSH"?n.history.push(B,B.state):V==="REPLACE"&&n.history.replace(B,B.state));let Me;if(V==="POP"){let dt=J.get(j.location.pathname);dt&&dt.has(B.pathname)?Me={currentLocation:j.location,nextLocation:B}:J.has(B.pathname)&&(Me={currentLocation:B,nextLocation:j.location})}else if(L){let dt=J.get(j.location.pathname);dt?dt.add(B.pathname):(dt=new Set([B.pathname]),J.set(j.location.pathname,dt)),Me={currentLocation:j.location,nextLocation:B}}Ge({...U,actionData:Ce,loaderData:Ie,historyAction:V,location:B,initialized:!0,navigation:Lf,revalidation:"idle",restoreScrollPosition:jn(B,U.matches||j.matches),preventScrollReset:De,blockers:Je},{viewTransitionOpts:Me,flushSync:Z===!0}),V="POP",A=!1,L=!1,ne=!1,Fe=!1,He==null||He.resolve(),He=null}async function Wi(B,U){if(typeof B=="number"){n.history.go(B);return}let Z=bp(j.location,j.matches,o,B,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:ue,submission:Ce,error:Ie}=Nv(!1,Z,U),Je=j.location,De=Cl(j.location,ue,U&&U.state);De={...De,...n.history.encodeLocation(De)};let Me=U&&U.replace!=null?U.replace:void 0,we="PUSH";Me===!0?we="REPLACE":Me===!1||Ce!=null&&Xr(Ce.formMethod)&&Ce.formAction===j.location.pathname+j.location.search&&(we="REPLACE");let et=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,dt=(U&&U.flushSync)===!0,Ut=Pa({currentLocation:Je,nextLocation:De,historyAction:we});if(Ut){Xn(Ut,{state:"blocked",location:De,proceed(){Xn(Ut,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),Wi(B,U)},reset(){let bi=new Map(j.blockers);bi.set(Ut,nl),Ge({blockers:bi})}});return}await Fi(we,De,{submission:Ce,pendingError:Ie,preventScrollReset:et,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:dt})}function vr(){He||(He=uC()),Yn(),Ge({revalidation:"loading"});let B=He.promise;return j.navigation.state==="submitting"?B:j.navigation.state==="idle"?(Fi(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),B):(Fi(V||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:L===!0}),B)}async function Fi(B,U,Z){I&&I.abort(),I=null,V=B,ne=(Z&&Z.startUninterruptedRevalidation)===!0,$n(j.location,j.matches),A=(Z&&Z.preventScrollReset)===!0,L=(Z&&Z.enableViewTransition)===!0;let ue=a||s,Ce=Z&&Z.overrideNavigation,Ie=vs(ue,U,o),Je=(Z&&Z.flushSync)===!0,De=Vs(Ie,ue,U.pathname);if(De.active&&De.matches&&(Ie=De.matches),!Ie){let{error:Tt,notFoundMatches:Nt,route:si}=Es(U.pathname);jt(U,{matches:Nt,loaderData:{},errors:{[si.id]:Tt}},{flushSync:Je});return}if(j.initialized&&!Fe&&iC(j.location,U)&&!(Z&&Z.submission&&Xr(Z.submission.formMethod))){jt(U,{matches:Ie},{flushSync:Je});return}I=new AbortController;let Me=Ka(n.history,U,I.signal,Z&&Z.submission),we;if(Z&&Z.pendingError)we=[qs(Ie).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Xr(Z.submission.formMethod)){let Tt=await Pn(Me,U,Z.submission,Ie,De.active,{replace:Z.replace,flushSync:Je});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[Nt,si]=Tt.pendingActionResult;if(pr(si)&&bc(si.error)&&si.error.status===404){I=null,jt(U,{matches:Tt.matches,loaderData:{},errors:{[Nt]:si.error}});return}}Ie=Tt.matches||Ie,we=Tt.pendingActionResult,Ce=Nf(U,Z.submission),Je=!1,De.active=!1,Me=Ka(n.history,Me.url,Me.signal)}let{shortCircuited:et,matches:dt,loaderData:Ut,errors:bi}=await Ir(Me,U,Ie,De.active,Ce,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Je,we);et||(I=null,jt(U,{matches:dt||Ie,...Gv(we),loaderData:Ut,errors:bi}))}async function Pn(B,U,Z,ue,Ce,Ie={}){Yn();let Je=sC(U,Z);if(Ge({navigation:Je},{flushSync:Ie.flushSync===!0}),Ce){let we=await As(ue,U.pathname,B.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let et=qs(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[et,{type:"error",error:we.error}]}}else if(we.matches)ue=we.matches;else{let{notFoundMatches:et,error:dt,route:Ut}=Es(U.pathname);return{matches:et,pendingActionResult:[Ut.id,{type:"error",error:dt}]}}}let De,Me=fl(ue,U);if(!Me.route.action&&!Me.route.lazy)De={type:"error",error:kr(405,{method:B.method,pathname:U.pathname,routeId:Me.route.id})};else if(De=(await sr("action",j,B,[Me],ue,null))[Me.route.id],B.signal.aborted)return{shortCircuited:!0};if(Js(De)){let we;return Ie&&Ie.replace!=null?we=Ie.replace:we=Yv(De.response.headers.get("Location"),new URL(B.url),o)===j.location.pathname+j.location.search,await vi(B,De,!0,{submission:Z,replace:we}),{shortCircuited:!0}}if(pr(De)){let we=qs(ue,Me.route.id);return(Ie&&Ie.replace)!==!0&&(V="PUSH"),{matches:ue,pendingActionResult:[we.route.id,De]}}return{matches:ue,pendingActionResult:[Me.route.id,De]}}async function Ir(B,U,Z,ue,Ce,Ie,Je,De,Me,we,et){let dt=Ce||Nf(U,Ie),Ut=Ie||Je||Qv(dt),bi=!ne&&!Me;if(ue){if(bi){let xi=nn(et);Ge({navigation:dt,...xi!==void 0?{actionData:xi}:{}},{flushSync:we})}let Vt=await As(Z,U.pathname,B.signal);if(Vt.type==="aborted")return{shortCircuited:!0};if(Vt.type==="error"){let xi=qs(Vt.partialMatches).route.id;return{matches:Vt.partialMatches,loaderData:{},errors:{[xi]:Vt.error}}}else if(Vt.matches)Z=Vt.matches;else{let{error:xi,notFoundMatches:kn,route:Rs}=Es(U.pathname);return{matches:kn,loaderData:{},errors:{[Rs.id]:xi}}}}let Tt=a||s,[Nt,si]=Bv(n.history,j,Z,Ut,U,Me===!0,Fe,ut,Y,fe,ye,Tt,o,et);if(Ae=++be,Nt.length===0&&si.length===0){let Vt=eu();return jt(U,{matches:Z,loaderData:{},errors:et&&pr(et[1])?{[et[0]]:et[1].error}:null,...Gv(et),...Vt?{fetchers:new Map(j.fetchers)}:{}},{flushSync:we}),{shortCircuited:!0}}if(bi){let Vt={};if(!ue){Vt.navigation=dt;let xi=nn(et);xi!==void 0&&(Vt.actionData=xi)}si.length>0&&(Vt.fetchers=sn(si)),Ge(Vt,{flushSync:we})}si.forEach(Vt=>{It(Vt.key),Vt.controller&&ze.set(Vt.key,Vt.controller)});let Gn=()=>si.forEach(Vt=>It(Vt.key));I&&I.signal.addEventListener("abort",Gn);let{loaderResults:Kn,fetcherResults:xr}=await Fs(j,Z,Nt,si,B);if(B.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Gn),si.forEach(Vt=>ze.delete(Vt.key));let or=uh(Kn);if(or)return await vi(B,or.result,!0,{replace:De}),{shortCircuited:!0};if(or=uh(xr),or)return ye.add(or.key),await vi(B,or.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Sa,errors:Is}=Xv(j,Z,Kn,et,si,xr);Me&&j.errors&&(Is={...j.errors,...Is});let Dn=eu(),Xt=wo(Ae),ja=Dn||Xt||si.length>0;return{matches:Z,loaderData:Sa,errors:Is,...ja?{fetchers:new Map(j.fetchers)}:{}}}function nn(B){if(B&&!pr(B[1]))return{[B[0]]:B[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function sn(B){return B.forEach(U=>{let Z=j.fetchers.get(U.key),ue=sl(void 0,Z?Z.data:void 0);j.fetchers.set(U.key,ue)}),new Map(j.fetchers)}async function Cn(B,U,Z,ue){It(B);let Ce=(ue&&ue.flushSync)===!0,Ie=a||s,Je=bp(j.location,j.matches,o,Z,U,ue==null?void 0:ue.relative),De=vs(Ie,Je,o),Me=Vs(De,Ie,Je);if(Me.active&&Me.matches&&(De=Me.matches),!De){Gi(B,U,kr(404,{pathname:Je}),{flushSync:Ce});return}let{path:we,submission:et,error:dt}=Nv(!0,Je,ue);if(dt){Gi(B,U,dt,{flushSync:Ce});return}let Ut=fl(De,we),bi=(ue&&ue.preventScrollReset)===!0;if(et&&Xr(et.formMethod)){await an(B,U,we,Ut,De,Me.active,Ce,bi,et);return}fe.set(B,{routeId:U,path:we}),await br(B,U,we,Ut,De,Me.active,Ce,bi,et)}async function an(B,U,Z,ue,Ce,Ie,Je,De,Me){Yn(),fe.delete(B);function we(ii){if(!ii.route.action&&!ii.route.lazy){let Lr=kr(405,{method:Me.formMethod,pathname:Z,routeId:U});return Gi(B,U,Lr,{flushSync:Je}),!0}return!1}if(!Ie&&we(ue))return;let et=j.fetchers.get(B);ar(B,aC(Me,et),{flushSync:Je});let dt=new AbortController,Ut=Ka(n.history,Z,dt.signal,Me);if(Ie){let ii=await As(Ce,Z,Ut.signal);if(ii.type==="aborted")return;if(ii.type==="error"){Gi(B,U,ii.error,{flushSync:Je});return}else if(ii.matches){if(Ce=ii.matches,ue=fl(Ce,Z),we(ue))return}else{Gi(B,U,kr(404,{pathname:Z}),{flushSync:Je});return}}ze.set(B,dt);let bi=be,Nt=(await sr("action",j,Ut,[ue],Ce,B))[ue.route.id];if(Ut.signal.aborted){ze.get(B)===dt&&ze.delete(B);return}if(Y.has(B)){if(Js(Nt)||pr(Nt)){ar(B,ys(void 0));return}}else{if(Js(Nt))if(ze.delete(B),Ae>bi){ar(B,ys(void 0));return}else return ye.add(B),ar(B,sl(Me)),vi(Ut,Nt,!1,{fetcherSubmission:Me,preventScrollReset:De});if(pr(Nt)){Gi(B,U,Nt.error);return}}let si=j.navigation.location||j.location,Gn=Ka(n.history,si,dt.signal),Kn=a||s,xr=j.navigation.state!=="idle"?vs(Kn,j.navigation.location,o):j.matches;yt(xr,"Didn't find any matches after fetcher action");let or=++be;se.set(B,or);let Sa=sl(Me,Nt.data);j.fetchers.set(B,Sa);let[Is,Dn]=Bv(n.history,j,xr,Me,si,!1,Fe,ut,Y,fe,ye,Kn,o,[ue.route.id,Nt]);Dn.filter(ii=>ii.key!==B).forEach(ii=>{let Lr=ii.key,lr=j.fetchers.get(Lr),Qc=sl(void 0,lr?lr.data:void 0);j.fetchers.set(Lr,Qc),It(Lr),ii.controller&&ze.set(Lr,ii.controller)}),Ge({fetchers:new Map(j.fetchers)});let Xt=()=>Dn.forEach(ii=>It(ii.key));dt.signal.addEventListener("abort",Xt);let{loaderResults:ja,fetcherResults:Vt}=await Fs(j,xr,Is,Dn,Gn);if(dt.signal.aborted)return;dt.signal.removeEventListener("abort",Xt),se.delete(B),ze.delete(B),Dn.forEach(ii=>ze.delete(ii.key));let xi=uh(ja);if(xi)return vi(Gn,xi.result,!1,{preventScrollReset:De});if(xi=uh(Vt),xi)return ye.add(xi.key),vi(Gn,xi.result,!1,{preventScrollReset:De});let{loaderData:kn,errors:Rs}=Xv(j,xr,ja,void 0,Dn,Vt);if(j.fetchers.has(B)){let ii=ys(Nt.data);j.fetchers.set(B,ii)}wo(or),j.navigation.state==="loading"&&or>Ae?(yt(V,"Expected pending action"),I&&I.abort(),jt(j.navigation.location,{matches:xr,loaderData:kn,errors:Rs,fetchers:new Map(j.fetchers)})):(Ge({errors:Rs,loaderData:$v(j.loaderData,kn,xr,Rs),fetchers:new Map(j.fetchers)}),Fe=!1)}async function br(B,U,Z,ue,Ce,Ie,Je,De,Me){let we=j.fetchers.get(B);ar(B,sl(Me,we?we.data:void 0),{flushSync:Je});let et=new AbortController,dt=Ka(n.history,Z,et.signal);if(Ie){let Nt=await As(Ce,Z,dt.signal);if(Nt.type==="aborted")return;if(Nt.type==="error"){Gi(B,U,Nt.error,{flushSync:Je});return}else if(Nt.matches)Ce=Nt.matches,ue=fl(Ce,Z);else{Gi(B,U,kr(404,{pathname:Z}),{flushSync:Je});return}}ze.set(B,et);let Ut=be,Tt=(await sr("loader",j,dt,[ue],Ce,B))[ue.route.id];if(ze.get(B)===et&&ze.delete(B),!dt.signal.aborted){if(Y.has(B)){ar(B,ys(void 0));return}if(Js(Tt))if(Ae>Ut){ar(B,ys(void 0));return}else{ye.add(B),await vi(dt,Tt,!1,{preventScrollReset:De});return}if(pr(Tt)){Gi(B,U,Tt.error);return}ar(B,ys(Tt.data))}}async function vi(B,U,Z,{submission:ue,fetcherSubmission:Ce,preventScrollReset:Ie,replace:Je}={}){U.response.headers.has("X-Remix-Revalidate")&&(Fe=!0);let De=U.response.headers.get("Location");yt(De,"Expected a Location header on the redirect Response"),De=Yv(De,new URL(B.url),o);let Me=Cl(j.location,De,{_isRedirect:!0});if(e){let Tt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(am.test(De)){const Nt=n.history.createURL(De);Tt=Nt.origin!==t.location.origin||Kr(Nt.pathname,o)==null}if(Tt){Je?t.location.replace(De):t.location.assign(De);return}}I=null;let we=Je===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:et,formAction:dt,formEncType:Ut}=j.navigation;!ue&&!Ce&&et&&dt&&Ut&&(ue=Qv(j.navigation));let bi=ue||Ce;if(HP.has(U.response.status)&&bi&&Xr(bi.formMethod))await Fi(we,Me,{submission:{...bi,formAction:De},preventScrollReset:Ie||A,enableViewTransition:Z?L:void 0});else{let Tt=Nf(Me,ue);await Fi(we,Me,{overrideNavigation:Tt,fetcherSubmission:Ce,preventScrollReset:Ie||A,enableViewTransition:Z?L:void 0})}}async function sr(B,U,Z,ue,Ce,Ie){let Je,De={};try{Je=await QP(u,B,U,Z,ue,Ce,Ie,r,i)}catch(Me){return ue.forEach(we=>{De[we.route.id]={type:"error",error:Me}}),De}for(let[Me,we]of Object.entries(Je))if(rC(we)){let et=we.result;De[Me]={type:"redirect",response:eC(et,Z,Me,Ce,o)}}else De[Me]=await JP(we);return De}async function Fs(B,U,Z,ue,Ce){let Ie=sr("loader",B,Ce,Z,U,null),Je=Promise.all(ue.map(async we=>{if(we.matches&&we.match&&we.controller){let dt=(await sr("loader",B,Ka(n.history,we.path,we.controller.signal),[we.match],we.matches,we.key))[we.match.route.id];return{[we.key]:dt}}else return Promise.resolve({[we.key]:{type:"error",error:kr(404,{pathname:we.path})}})})),De=await Ie,Me=(await Je).reduce((we,et)=>Object.assign(we,et),{});return{loaderResults:De,fetcherResults:Me}}function Yn(){Fe=!0,fe.forEach((B,U)=>{ze.has(U)&&ut.add(U),It(U)})}function ar(B,U,Z={}){j.fetchers.set(B,U),Ge({fetchers:new Map(j.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Gi(B,U,Z,ue={}){let Ce=qs(j.matches,U);Dt(B),Ge({errors:{[Ce.route.id]:Z},fetchers:new Map(j.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Sn(B){return H.set(B,(H.get(B)||0)+1),Y.has(B)&&Y.delete(B),j.fetchers.get(B)||WP}function Dt(B){let U=j.fetchers.get(B);ze.has(B)&&!(U&&U.state==="loading"&&se.has(B))&&It(B),fe.delete(B),se.delete(B),ye.delete(B),Y.delete(B),ut.delete(B),j.fetchers.delete(B)}function Rr(B){let U=(H.get(B)||0)-1;U<=0?(H.delete(B),Y.add(B)):H.set(B,U),Ge({fetchers:new Map(j.fetchers)})}function It(B){let U=ze.get(B);U&&(U.abort(),ze.delete(B))}function Un(B){for(let U of B){let Z=Sn(U),ue=ys(Z.data);j.fetchers.set(U,ue)}}function eu(){let B=[],U=!1;for(let Z of ye){let ue=j.fetchers.get(Z);yt(ue,`Expected fetcher: ${Z}`),ue.state==="loading"&&(ye.delete(Z),B.push(Z),U=!0)}return Un(B),U}function wo(B){let U=[];for(let[Z,ue]of se)if(ue<B){let Ce=j.fetchers.get(Z);yt(Ce,`Expected fetcher: ${Z}`),Ce.state==="loading"&&(It(Z),se.delete(Z),U.push(Z))}return Un(U),U.length>0}function tu(B,U){let Z=j.blockers.get(B)||nl;return xe.get(B)!==U&&xe.set(B,U),Z}function iu(B){j.blockers.delete(B),xe.delete(B)}function Xn(B,U){let Z=j.blockers.get(B)||nl;yt(Z.state==="unblocked"&&U.state==="blocked"||Z.state==="blocked"&&U.state==="blocked"||Z.state==="blocked"&&U.state==="proceeding"||Z.state==="blocked"&&U.state==="unblocked"||Z.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${U.state}`);let ue=new Map(j.blockers);ue.set(B,U),Ge({blockers:ue})}function Pa({currentLocation:B,nextLocation:U,historyAction:Z}){if(xe.size===0)return;xe.size>1&&Ti(!1,"A router only supports one blocker at a time");let ue=Array.from(xe.entries()),[Ce,Ie]=ue[ue.length-1],Je=j.blockers.get(Ce);if(!(Je&&Je.state==="proceeding")&&Ie({currentLocation:B,nextLocation:U,historyAction:Z}))return Ce}function Es(B){let U=kr(404,{pathname:B}),Z=a||s,{matches:ue,route:Ce}=Kv(Z);return{notFoundMatches:ue,route:Ce,error:U}}function _o(B,U,Z){if(y=B,x=U,b=Z||null,!w&&j.navigation===Lf){w=!0;let ue=jn(j.location,j.matches);ue!=null&&Ge({restoreScrollPosition:ue})}return()=>{y=null,x=null,b=null}}function Ca(B,U){return b&&b(B,U.map(ue=>xP(ue,j.loaderData)))||B.key}function $n(B,U){if(y&&x){let Z=Ca(B,U);y[Z]=x()}}function jn(B,U){if(y){let Z=Ca(B,U),ue=y[Z];if(typeof ue=="number")return ue}return null}function Vs(B,U,Z){if(c)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:Sh(U,Z,o,!0)}}else return{active:!0,matches:Sh(U,Z,o,!0)||[]};return{active:!1,matches:null}}async function As(B,U,Z){if(!c)return{type:"success",matches:B};let ue=B;for(;;){let Ce=a==null,Ie=a||s,Je=r;try{await c({path:U,matches:ue,patch:(we,et)=>{Z.aborted||Wv(we,et,Ie,Je,i)}})}catch(we){return{type:"error",error:we,partialMatches:ue}}finally{Ce&&!Z.aborted&&(s=[...s])}if(Z.aborted)return{type:"aborted"};let De=vs(Ie,U,o);if(De)return{type:"success",matches:De};let Me=Sh(Ie,U,o,!0);if(!Me||ue.length===Me.length&&ue.every((we,et)=>we.route.id===Me[et].route.id))return{type:"success",matches:null};ue=Me}}function ru(B){r={},a=Nh(B,i,void 0,r)}function nu(B,U){let Z=a==null;Wv(B,U,a||s,r,i),Z&&(s=[...s],Ge({}))}return T={get basename(){return o},get future(){return f},get state(){return j},get routes(){return s},get window(){return t},initialize:Ze,subscribe:nt,enableScrollRestoration:_o,navigate:Wi,fetch:Cn,revalidate:vr,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:Sn,deleteFetcher:Rr,dispose:lt,getBlocker:tu,deleteBlocker:iu,patchRoutes:nu,_internalFetchControllers:ze,_internalSetRoutes:ru},T}function XP(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function bp(n,t,e,i,r,s){let a,o;if(r){a=[];for(let c of t)if(a.push(c),c.route.id===r){o=c;break}}else a=t,o=t[t.length-1];let u=vc(i||".",yc(a),Kr(n.pathname,e)||n.pathname,s==="path");if(i==null&&(u.search=n.search,u.hash=n.hash),(i==null||i===""||i===".")&&o){let c=om(u.search);if(o.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return e!=="/"&&(u.pathname=u.pathname==="/"?e:gn([e,u.pathname])),Ps(u)}function Nv(n,t,e){if(!e||!XP(e))return{path:t};if(e.formMethod&&!nC(e.formMethod))return{path:t,error:kr(405,{method:e.formMethod})};let i=()=>({path:t,error:kr(400,{type:"invalid-body"})}),s=(e.formMethod||"get").toUpperCase(),a=Nx(t);if(e.body!==void 0){if(e.formEncType==="text/plain"){if(!Xr(s))return i();let p=typeof e.body=="string"?e.body:e.body instanceof FormData||e.body instanceof URLSearchParams?Array.from(e.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(e.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:e.formEncType,formData:void 0,json:void 0,text:p}}}else if(e.formEncType==="application/json"){if(!Xr(s))return i();try{let p=typeof e.body=="string"?JSON.parse(e.body):e.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:e.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}yt(typeof FormData=="function","FormData is not available in this environment");let o,u;if(e.formData)o=wp(e.formData),u=e.formData;else if(e.body instanceof FormData)o=wp(e.body),u=e.body;else if(e.body instanceof URLSearchParams)o=e.body,u=Uv(o);else if(e.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(e.body),u=Uv(o)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Xr(c.formMethod))return{path:t,submission:c};let f=ks(t);return n&&f.search&&om(f.search)&&o.append("index",""),f.search=`?${o}`,{path:Ps(f),submission:c}}function zv(n,t,e=!1){let i=n.findIndex(r=>r.route.id===t);return i>=0?n.slice(0,e?i+1:i):n}function Bv(n,t,e,i,r,s,a,o,u,c,f,p,g,y){let b=y?pr(y[1])?y[1].error:y[1].data:void 0,x=n.createURL(t.location),w=n.createURL(r),P=e;s&&t.errors?P=zv(e,Object.keys(t.errors)[0],!0):y&&pr(y[1])&&(P=zv(e,y[0]));let S=y?y[1].statusCode:void 0,k=S&&S>=400,T=P.filter((V,A)=>{let{route:I}=V;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return xp(I,t.loaderData,t.errors);if($P(t.loaderData,t.matches[A],V))return!0;let L=t.matches[A],J=V;return Hv(V,{currentUrl:x,currentParams:L.params,nextUrl:w,nextParams:J.params,...i,actionResult:b,actionStatus:S,defaultShouldRevalidate:k?!1:a||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||GP(L,J)})}),j=[];return c.forEach((V,A)=>{if(s||!e.some(ne=>ne.route.id===V.routeId)||u.has(A))return;let I=vs(p,V.path,g);if(!I){j.push({key:A,routeId:V.routeId,path:V.path,matches:null,match:null,controller:null});return}let L=t.fetchers.get(A),J=fl(I,V.path),ie=!1;f.has(A)?ie=!1:o.has(A)?(o.delete(A),ie=!0):L&&L.state!=="idle"&&L.data===void 0?ie=a:ie=Hv(J,{currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:e[e.length-1].params,...i,actionResult:b,actionStatus:S,defaultShouldRevalidate:k?!1:a}),ie&&j.push({key:A,routeId:V.routeId,path:V.path,matches:I,match:J,controller:new AbortController})}),[T,j]}function xp(n,t,e){if(n.lazy)return!0;if(!n.loader)return!1;let i=t!=null&&t[n.id]!==void 0,r=e!=null&&e[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function $P(n,t,e){let i=!t||e.route.id!==t.route.id,r=!n.hasOwnProperty(e.route.id);return i||r}function GP(n,t){let e=n.route.path;return n.pathname!==t.pathname||e!=null&&e.endsWith("*")&&n.params["*"]!==t.params["*"]}function Hv(n,t){if(n.route.shouldRevalidate){let e=n.route.shouldRevalidate(t);if(typeof e=="boolean")return e}return t.defaultShouldRevalidate}function Wv(n,t,e,i,r){let s;if(n){let u=i[n];yt(u,`No route found to patch children into: routeId = ${n}`),u.children||(u.children=[]),s=u.children}else s=e;let a=t.filter(u=>!s.some(c=>Lx(u,c))),o=Nh(a,r,[n||"_","patch",String((s==null?void 0:s.length)||"0")],i);s.push(...o)}function Lx(n,t){return"id"in n&&"id"in t&&n.id===t.id?!0:n.index===t.index&&n.path===t.path&&n.caseSensitive===t.caseSensitive?(!n.children||n.children.length===0)&&(!t.children||t.children.length===0)?!0:n.children.every((e,i)=>{var r;return(r=t.children)==null?void 0:r.some(s=>Lx(e,s))}):!1}async function KP(n,t,e){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=e[n.id];yt(r,"No route found in manifest");let s={};for(let a in i){let u=r[a]!==void 0&&a!=="hasErrorBoundary";Ti(!u,`Route "${r.id}" has a static property "${a}" defined but its lazy function is also returning a value for this property. The lazy route property "${a}" will be ignored.`),!u&&!vP.has(a)&&(s[a]=i[a])}Object.assign(r,s),Object.assign(r,{...t(r),lazy:void 0})}async function ZP({matches:n}){let t=n.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,r,s)=>Object.assign(i,{[t[s].route.id]:r}),{})}async function QP(n,t,e,i,r,s,a,o,u,c){let f=s.map(y=>y.route.lazy?KP(y.route,u,o):void 0),p=s.map((y,b)=>{let x=f[b],w=r.some(S=>S.route.id===y.route.id);return{...y,shouldLoad:w,resolve:async S=>(S&&i.method==="GET"&&(y.route.lazy||y.route.loader)&&(w=!0),w?qP(t,i,y,x,S,c):Promise.resolve({type:"data",result:void 0}))}}),g=await n({matches:p,request:i,params:s[0].params,fetcherKey:a,context:c});try{await Promise.all(f)}catch{}return g}async function qP(n,t,e,i,r,s){let a,o,u=c=>{let f,p=new Promise((b,x)=>f=x);o=()=>f(),t.signal.addEventListener("abort",o);let g=b=>typeof c!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${e.route.id}]`)):c({request:t,params:e.params,context:s},...b!==void 0?[b]:[]),y=(async()=>{try{return{type:"data",result:await(r?r(x=>g(x)):g())}}catch(b){return{type:"error",result:b}}})();return Promise.race([y,p])};try{let c=e.route[n];if(i)if(c){let f,[p]=await Promise.all([u(c).catch(g=>{f=g}),i]);if(f!==void 0)throw f;a=p}else if(await i,c=e.route[n],c)a=await u(c);else if(n==="action"){let f=new URL(t.url),p=f.pathname+f.search;throw kr(405,{method:t.method,pathname:p,routeId:e.route.id})}else return{type:"data",result:void 0};else if(c)a=await u(c);else{let f=new URL(t.url),p=f.pathname+f.search;throw kr(404,{pathname:p})}}catch(c){return{type:"error",result:c}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function JP(n){var i,r,s,a;let{result:t,type:e}=n;if(zx(t)){let o;try{let u=t.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?t.body==null?o=null:o=await t.json():o=await t.text()}catch(u){return{type:"error",error:u}}return e==="error"?{type:"error",error:new Bh(t.status,t.statusText,o),statusCode:t.status,headers:t.headers}:{type:"data",data:o,statusCode:t.status,headers:t.headers}}if(e==="error"){if(Zv(t)){if(t.data instanceof Error)return{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status};t=new Bh(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:"error",error:t,statusCode:bc(t)?t.status:void 0}}return Zv(t)?{type:"data",data:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function eC(n,t,e,i,r){let s=n.headers.get("Location");if(yt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!am.test(s)){let a=i.slice(0,i.findIndex(o=>o.route.id===e)+1);s=bp(new URL(t.url),a,r,s),n.headers.set("Location",s)}return n}function Yv(n,t,e){if(am.test(n)){let i=n,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),s=Kr(r.pathname,e)!=null;if(r.origin===t.origin&&s)return r.pathname+r.search+r.hash}return n}function Ka(n,t,e,i){let r=n.createURL(Nx(t)).toString(),s={signal:e};if(i&&Xr(i.formMethod)){let{formMethod:a,formEncType:o}=i;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(i.json)):o==="text/plain"?s.body=i.text:o==="application/x-www-form-urlencoded"&&i.formData?s.body=wp(i.formData):s.body=i.formData}return new Request(r,s)}function wp(n){let t=new URLSearchParams;for(let[e,i]of n.entries())t.append(e,typeof i=="string"?i:i.name);return t}function Uv(n){let t=new FormData;for(let[e,i]of n.entries())t.append(e,i);return t}function tC(n,t,e,i=!1,r=!1){let s={},a=null,o,u=!1,c={},f=e&&pr(e[1])?e[1].error:void 0;return n.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(yt(!Js(y),"Cannot handle redirect results in processLoaderData"),pr(y)){let b=y.error;if(f!==void 0&&(b=f,f=void 0),a=a||{},r)a[g]=b;else{let x=qs(n,g);a[x.route.id]==null&&(a[x.route.id]=b)}i||(s[g]=Rx),u||(u=!0,o=bc(y.error)?y.error.status:500),y.headers&&(c[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(o=y.statusCode),y.headers&&(c[g]=y.headers)}),f!==void 0&&e&&(a={[e[0]]:f},s[e[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function Xv(n,t,e,i,r,s){let{loaderData:a,errors:o}=tC(t,e,i);return r.forEach(u=>{let{key:c,match:f,controller:p}=u,g=s[c];if(yt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(pr(g)){let y=qs(n.matches,f==null?void 0:f.route.id);o&&o[y.route.id]||(o={...o,[y.route.id]:g.error}),n.fetchers.delete(c)}else if(Js(g))yt(!1,"Unhandled fetcher revalidation redirect");else{let y=ys(g.data);n.fetchers.set(c,y)}}),{loaderData:a,errors:o}}function $v(n,t,e,i){let r=Object.entries(t).filter(([,s])=>s!==Rx).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of e){let a=s.route.id;if(!t.hasOwnProperty(a)&&n.hasOwnProperty(a)&&s.route.loader&&(r[a]=n[a]),i&&i.hasOwnProperty(a))break}return r}function Gv(n){return n?pr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function qs(n,t){return(t?n.slice(0,n.findIndex(i=>i.route.id===t)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Kv(n){let t=n.length===1?n[0]:n.find(e=>e.index||!e.path||e.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function kr(n,{pathname:t,routeId:e,method:i,type:r,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return n===400?(a="Bad Request",i&&t&&e?o=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${e}", so there is no way to handle the request.`:r==="invalid-body"&&(o="Unable to encode submission body")):n===403?(a="Forbidden",o=`Route "${e}" does not match URL "${t}"`):n===404?(a="Not Found",o=`No route matches URL "${t}"`):n===405&&(a="Method Not Allowed",i&&t&&e?o=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${e}", so there is no way to handle the request.`:i&&(o=`Invalid request method "${i.toUpperCase()}"`)),new Bh(n||500,a,new Error(o),!0)}function uh(n){let t=Object.entries(n);for(let e=t.length-1;e>=0;e--){let[i,r]=t[e];if(Js(r))return{key:i,result:r}}}function Nx(n){let t=typeof n=="string"?ks(n):n;return Ps({...t,hash:""})}function iC(n,t){return n.pathname!==t.pathname||n.search!==t.search?!1:n.hash===""?t.hash!=="":n.hash===t.hash?!0:t.hash!==""}function rC(n){return zx(n.result)&&BP.has(n.result.status)}function pr(n){return n.type==="error"}function Js(n){return(n&&n.type)==="redirect"}function Zv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function zx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function nC(n){return zP.has(n.toUpperCase())}function Xr(n){return LP.has(n.toUpperCase())}function om(n){return new URLSearchParams(n).getAll("index").some(t=>t==="")}function fl(n,t){let e=typeof t=="string"?ks(t).search:t.search;if(n[n.length-1].route.index&&om(e||""))return n[n.length-1];let i=Vx(n);return i[i.length-1]}function Qv(n){let{formMethod:t,formAction:e,formEncType:i,text:r,formData:s,json:a}=n;if(!(!t||!e||!i)){if(r!=null)return{formMethod:t,formAction:e,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:t,formAction:e,formEncType:i,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:e,formEncType:i,formData:void 0,json:a,text:void 0}}}function Nf(n,t){return t?{state:"loading",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sC(n,t){return{state:"submitting",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function sl(n,t){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function aC(n,t){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t?t.data:void 0}}function ys(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function oC(n,t){try{let e=n.sessionStorage.getItem(Ix);if(e){let i=JSON.parse(e);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(r,new Set(s||[]))}}catch{}}function lC(n,t){if(t.size>0){let e={};for(let[i,r]of t)e[i]=[...r];try{n.sessionStorage.setItem(Ix,JSON.stringify(e))}catch(i){Ti(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function uC(){let n,t,e=new Promise((i,r)=>{n=async s=>{i(s);try{await e}catch{}},t=async s=>{r(s);try{await e}catch{}}});return{promise:e,resolve:n,reject:t}}var ya=E.createContext(null);ya.displayName="DataRouter";var Nl=E.createContext(null);Nl.displayName="DataRouterState";var lm=E.createContext({isTransitioning:!1});lm.displayName="ViewTransition";var Bx=E.createContext(new Map);Bx.displayName="Fetchers";var hC=E.createContext(null);hC.displayName="Await";var tn=E.createContext(null);tn.displayName="Navigation";var xc=E.createContext(null);xc.displayName="Location";var Vr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var um=E.createContext(null);um.displayName="RouteError";function cC(n,{relative:t}={}){yt(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=E.useContext(tn),{hash:r,pathname:s,search:a}=zl(n,{relative:t}),o=s;return e!=="/"&&(o=s==="/"?e:gn([e,s])),i.createHref({pathname:o,search:a,hash:r})}function po(){return E.useContext(xc)!=null}function Ar(){return yt(po(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(xc).location}var Hx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wx(n){E.useContext(tn).static||E.useLayoutEffect(n)}function nr(){let{isDataRoute:n}=E.useContext(Vr);return n?jC():dC()}function dC(){yt(po(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(ya),{basename:t,navigator:e}=E.useContext(tn),{matches:i}=E.useContext(Vr),{pathname:r}=Ar(),s=JSON.stringify(yc(i)),a=E.useRef(!1);return Wx(()=>{a.current=!0}),E.useCallback((u,c={})=>{if(Ti(a.current,Hx),!a.current)return;if(typeof u=="number"){e.go(u);return}let f=vc(u,JSON.parse(s),r,c.relative==="path");n==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gn([t,f.pathname])),(c.replace?e.replace:e.push)(f,c.state,c)},[t,e,s,r,n])}var fC=E.createContext(null);function pC(n){let t=E.useContext(Vr).outlet;return t&&E.createElement(fC.Provider,{value:n},t)}function xn(){let{matches:n}=E.useContext(Vr),t=n[n.length-1];return t?t.params:{}}function zl(n,{relative:t}={}){let{matches:e}=E.useContext(Vr),{pathname:i}=Ar(),r=JSON.stringify(yc(e));return E.useMemo(()=>vc(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function mC(n,t,e,i){yt(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=E.useContext(tn),{matches:s}=E.useContext(Vr),a=s[s.length-1],o=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",f=a&&a.route;{let P=f&&f.path||"";Yx(u,!f||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let p=Ar(),g;g=p;let y=g.pathname||"/",b=y;if(c!=="/"){let P=c.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(P.length).join("/")}let x=vs(n,{pathname:b});return Ti(f||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ti(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xC(x&&x.map(P=>Object.assign({},P,{params:Object.assign({},o,P.params),pathname:gn([c,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:gn([c,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,e,i)}function gC(){let n=SC(),t=bc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),e?E.createElement("pre",{style:r},e):null,a)}var yC=E.createElement(gC,null),vC=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?E.createElement(Vr.Provider,{value:this.props.routeContext},E.createElement(um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bC({routeContext:n,match:t,children:e}){let i=E.useContext(ya);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Vr.Provider,{value:n},e)}function xC(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,s=e==null?void 0:e.errors;if(s!=null){let u=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);yt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let a=!1,o=-1;if(e)for(let u=0;u<r.length;u++){let c=r[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=u),c.route.id){let{loaderData:f,errors:p}=e,g=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){a=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((u,c,f)=>{let p,g=!1,y=null,b=null;e&&(p=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||yC,a&&(o<0&&f===0?(Yx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):o===f&&(g=!0,b=c.route.hydrateFallbackElement||null)));let x=t.concat(r.slice(0,f+1)),w=()=>{let P;return p?P=y:g?P=b:c.route.Component?P=E.createElement(c.route.Component,null):c.route.element?P=c.route.element:P=u,E.createElement(bC,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:e!=null},children:P})};return e&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?E.createElement(vC,{location:e.location,revalidation:e.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function hm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wC(n){let t=E.useContext(ya);return yt(t,hm(n)),t}function _C(n){let t=E.useContext(Nl);return yt(t,hm(n)),t}function PC(n){let t=E.useContext(Vr);return yt(t,hm(n)),t}function cm(n){let t=PC(n),e=t.matches[t.matches.length-1];return yt(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function CC(){return cm("useRouteId")}function SC(){var i;let n=E.useContext(um),t=_C("useRouteError"),e=cm("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function jC(){let{router:n}=wC("useNavigate"),t=cm("useNavigate"),e=E.useRef(!1);return Wx(()=>{e.current=!0}),E.useCallback(async(r,s={})=>{Ti(e.current,Hx),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...s}))},[n,t])}var qv={};function Yx(n,t,e){!t&&!qv[n]&&(qv[n]=!0,Ti(!1,e))}var Jv={};function eb(n,t){!n&&!Jv[t]&&(Jv[t]=!0,console.warn(t))}function DC(n){let t={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Ti(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:E.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Ti(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:E.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Ti(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:E.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),t}var kC=class{constructor(){this.status="pending",this.promise=new Promise((n,t)=>{this.resolve=e=>{this.status==="pending"&&(this.status="resolved",n(e))},this.reject=e=>{this.status==="pending"&&(this.status="rejected",t(e))}})}};function OC({router:n,flushSync:t}){let[e,i]=E.useState(n.state),[r,s]=E.useState(),[a,o]=E.useState({isTransitioning:!1}),[u,c]=E.useState(),[f,p]=E.useState(),[g,y]=E.useState(),b=E.useRef(new Map),x=E.useCallback((k,{deletedFetchers:T,flushSync:j,viewTransitionOpts:V})=>{k.fetchers.forEach((I,L)=>{I.data!==void 0&&b.current.set(L,I.data)}),T.forEach(I=>b.current.delete(I)),eb(j===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(eb(V==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!A){t&&j?t(()=>i(k)):E.startTransition(()=>i(k));return}if(t&&j){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let I=n.window.document.startViewTransition(()=>{t(()=>i(k))});I.finished.finally(()=>{t(()=>{c(void 0),p(void 0),s(void 0),o({isTransitioning:!1})})}),t(()=>p(I));return}f?(u&&u.resolve(),f.skipTransition(),y({state:k,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(s(k),o({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,t,f,u]);E.useLayoutEffect(()=>n.subscribe(x),[n,x]),E.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new kC)},[a]),E.useEffect(()=>{if(u&&r&&n.window){let k=r,T=u.promise,j=n.window.document.startViewTransition(async()=>{E.startTransition(()=>i(k)),await T});j.finished.finally(()=>{c(void 0),p(void 0),s(void 0),o({isTransitioning:!1})}),p(j)}},[r,u,n.window]),E.useEffect(()=>{u&&r&&e.location.key===r.location.key&&u.resolve()},[u,f,e.location,r]),E.useEffect(()=>{!a.isTransitioning&&g&&(s(g.state),o({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[a.isTransitioning,g]);let w=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,T,j)=>n.navigate(k,{state:T,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(k,T,j)=>n.navigate(k,{replace:!0,state:T,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),P=n.basename||"/",S=E.useMemo(()=>({router:n,navigator:w,static:!1,basename:P}),[n,w,P]);return E.createElement(E.Fragment,null,E.createElement(ya.Provider,{value:S},E.createElement(Nl.Provider,{value:e},E.createElement(Bx.Provider,{value:b.current},E.createElement(lm.Provider,{value:a},E.createElement(FC,{basename:P,location:e.location,navigationType:e.historyAction,navigator:w},E.createElement(TC,{routes:n.routes,future:n.future,state:e})))))),null)}var TC=E.memo(MC);function MC({routes:n,future:t,state:e}){return mC(n,void 0,e,t)}function Ux({to:n,replace:t,state:e,relative:i}){yt(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=E.useContext(tn);Ti(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(Vr),{pathname:a}=Ar(),o=nr(),u=vc(n,yc(s),a,i==="path"),c=JSON.stringify(u);return E.useEffect(()=>{o(JSON.parse(c),{replace:t,state:e,relative:i})},[o,c,i,t,e]),null}function Xx(n){return pC(n.context)}function FC({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:s=!1}){yt(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),o=E.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof e=="string"&&(e=ks(e));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:g="default"}=e,y=E.useMemo(()=>{let b=Kr(u,a);return b==null?null:{location:{pathname:b,search:c,hash:f,state:p,key:g},navigationType:i}},[a,u,c,f,p,g,i]);return Ti(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(tn.Provider,{value:o},E.createElement(xc.Provider,{children:t,value:y}))}var jh="get",Dh="application/x-www-form-urlencoded";function wc(n){return n!=null&&typeof n.tagName=="string"}function EC(n){return wc(n)&&n.tagName.toLowerCase()==="button"}function VC(n){return wc(n)&&n.tagName.toLowerCase()==="form"}function AC(n){return wc(n)&&n.tagName.toLowerCase()==="input"}function IC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RC(n,t){return n.button===0&&(!t||t==="_self")&&!IC(n)}var hh=null;function LC(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var NC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(n){return n!=null&&!NC.has(n)?(Ti(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):n}function zC(n,t){let e,i,r,s,a;if(VC(n)){let o=n.getAttribute("action");i=o?Kr(o,t):null,e=n.getAttribute("method")||jh,r=zf(n.getAttribute("enctype"))||Dh,s=new FormData(n)}else if(EC(n)||AC(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||o.getAttribute("action");if(i=u?Kr(u,t):null,e=n.getAttribute("formmethod")||o.getAttribute("method")||jh,r=zf(n.getAttribute("formenctype"))||zf(o.getAttribute("enctype"))||Dh,s=new FormData(o,n),!LC()){let{name:c,type:f,value:p}=n;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(wc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=jh,i=null,r=Dh,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:s,body:a}}function dm(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function BC(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function WC(n,t,e){let i=await Promise.all(n.map(async r=>{let s=t.routes[r.route.id];if(s){let a=await BC(s,e);return a.links?a.links():[]}return[]}));return $C(i.flat(1).filter(HC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function tb(n,t,e,i,r,s){let a=(u,c)=>e[c]?u.route.id!==e[c].route.id:!0,o=(u,c)=>{var f;return e[c].pathname!==u.pathname||((f=e[c].route.path)==null?void 0:f.endsWith("*"))&&e[c].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,c)=>a(u,c)||o(u,c)):s==="data"?t.filter((u,c)=>{var p;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=e[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function YC(n,t){return UC(n.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function UC(n){return[...new Set(n)]}function XC(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function $C(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let s=JSON.stringify(XC(r));return e.has(s)||(e.add(s),i.push({key:s,link:r})),i},[])}function GC(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function KC(){let n=E.useContext(ya);return dm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZC(){let n=E.useContext(Nl);return dm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fm=E.createContext(void 0);fm.displayName="FrameworkContext";function $x(){let n=E.useContext(fm);return dm(n,"You must render this element inside a <HydratedRouter> element"),n}function QC(n,t){let e=E.useContext(fm),[i,r]=E.useState(!1),[s,a]=E.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,g=E.useRef(null);E.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let x=P=>{P.forEach(S=>{a(S.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[n]),E.useEffect(()=>{if(i){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[i]);let y=()=>{r(!0)},b=()=>{r(!1),a(!1)};return e?n!=="intent"?[s,g,{}]:[s,g,{onFocus:al(o,y),onBlur:al(u,b),onMouseEnter:al(c,y),onMouseLeave:al(f,b),onTouchStart:al(p,y)}]:[!1,g,{}]}function al(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function qC({page:n,...t}){let{router:e}=KC(),i=E.useMemo(()=>vs(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?E.createElement(eS,{page:n,matches:i,...t}):null}function JC(n){let{manifest:t,routeModules:e}=$x(),[i,r]=E.useState([]);return E.useEffect(()=>{let s=!1;return WC(n,t,e).then(a=>{s||r(a)}),()=>{s=!0}},[n,t,e]),i}function eS({page:n,matches:t,...e}){let i=Ar(),{manifest:r,routeModules:s}=$x(),{loaderData:a,matches:o}=ZC(),u=E.useMemo(()=>tb(n,t,o,r,i,"data"),[n,t,o,r,i]),c=E.useMemo(()=>tb(n,t,o,r,i,"assets"),[n,t,o,r,i]),f=E.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let y=new Set,b=!1;if(t.forEach(w=>{var S;let P=r.routes[w.route.id];!P||!P.hasLoader||(!u.some(k=>k.route.id===w.route.id)&&w.route.id in a&&((S=s[w.route.id])!=null&&S.shouldRevalidate)||P.hasClientLoader?b=!0:y.add(w.route.id))}),y.size===0)return[];let x=GC(n);return b&&y.size>0&&x.searchParams.set("_routes",t.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[a,i,r,u,t,n,s]),p=E.useMemo(()=>YC(c,r),[c,r]),g=JC(c);return E.createElement(E.Fragment,null,f.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...e})),p.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...e})),g.map(({key:y,link:b})=>E.createElement("link",{key:y,...b})))}function tS(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gx&&(window.__reactRouterVersion="7.1.3")}catch{}function iS(n,t){return UP({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:mP({window:t==null?void 0:t.window}),hydrationData:rS(),routes:n,mapRouteProperties:DC,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function rS(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:nS(n.errors)}),n}function nS(n){if(!n)return null;let t=Object.entries(n),e={};for(let[i,r]of t)if(r&&r.__type==="RouteErrorResponse")e[i]=new Bh(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let a=new s(r.message);a.stack="",e[i]=a}catch{}}if(e[i]==null){let s=new Error(r.message);s.stack="",e[i]=s}}else e[i]=r;return e}var Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zx=E.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:f,viewTransition:p,...g},y){let{basename:b}=E.useContext(tn),x=typeof c=="string"&&Kx.test(c),w,P=!1;if(typeof c=="string"&&x&&(w=c,Gx))try{let L=new URL(window.location.href),J=c.startsWith("//")?new URL(L.protocol+c):new URL(c),ie=Kr(J.pathname,b);J.origin===L.origin&&ie!=null?c=ie+J.search+J.hash:P=!0}catch{Ti(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=cC(c,{relative:r}),[k,T,j]=QC(i,g),V=lS(c,{replace:a,state:o,target:u,preventScrollReset:f,relative:r,viewTransition:p});function A(L){t&&t(L),L.defaultPrevented||V(L)}let I=E.createElement("a",{...g,...j,href:w||S,onClick:P||s?t:A,ref:tS(y,T),target:u,"data-discover":!x&&e==="render"?"true":void 0});return k&&!x?E.createElement(E.Fragment,null,I,E.createElement(qC,{page:S})):I});Zx.displayName="Link";var sS=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:u,...c},f){let p=zl(a,{relative:c.relative}),g=Ar(),y=E.useContext(Nl),{navigator:b,basename:x}=E.useContext(tn),w=y!=null&&fS(p)&&o===!0,P=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,S=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;e||(S=S.toLowerCase(),k=k?k.toLowerCase():null,P=P.toLowerCase()),k&&x&&(k=Kr(k,x)||k);const T=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let j=S===P||!r&&S.startsWith(P)&&S.charAt(T)==="/",V=k!=null&&(k===P||!r&&k.startsWith(P)&&k.charAt(P.length)==="/"),A={isActive:j,isPending:V,isTransitioning:w},I=j?t:void 0,L;typeof i=="function"?L=i(A):L=[i,j?"active":null,V?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let J=typeof s=="function"?s(A):s;return E.createElement(Zx,{...c,"aria-current":I,className:L,ref:f,style:J,to:a,viewTransition:o},typeof u=="function"?u(A):u)});sS.displayName="NavLink";var aS=E.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:s,method:a=jh,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,...g},y)=>{let b=cS(),x=dS(o,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",P=typeof o=="string"&&Kx.test(o),S=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let T=k.nativeEvent.submitter,j=(T==null?void 0:T.getAttribute("formmethod"))||a;b(T||k.currentTarget,{fetcherKey:t,method:j,navigate:e,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:p})};return E.createElement("form",{ref:y,method:w,action:x,onSubmit:i?u:S,...g,"data-discover":!P&&n==="render"?"true":void 0})});aS.displayName="Form";function oS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qx(n){let t=E.useContext(ya);return yt(t,oS(n)),t}function lS(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let o=nr(),u=Ar(),c=zl(n,{relative:s});return E.useCallback(f=>{if(RC(f,t)){f.preventDefault();let p=e!==void 0?e:Ps(u)===Ps(c);o(n,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,o,c,e,i,t,n,r,s,a])}var uS=0,hS=()=>`__${String(++uS)}__`;function cS(){let{router:n}=Qx("useSubmit"),{basename:t}=E.useContext(tn),e=CC();return E.useCallback(async(i,r={})=>{let{action:s,method:a,encType:o,formData:u,body:c}=zC(i,t);if(r.navigate===!1){let f=r.fetcherKey||hS();await n.fetch(f,e,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function dS(n,{relative:t}={}){let{basename:e}=E.useContext(tn),i=E.useContext(Vr);yt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...zl(n||".",{relative:t})},a=Ar();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(s.pathname=s.pathname==="/"?e:gn([e,s.pathname])),Ps(s)}function fS(n,t={}){let e=E.useContext(lm);yt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Qx("useViewTransitionState"),r=zl(n,{relative:t.relative});if(!e.isTransitioning)return!1;let s=Kr(e.currentLocation.pathname,i)||e.currentLocation.pathname,a=Kr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return zh(r.pathname,a)!=null||zh(r.pathname,s)!=null}new TextEncoder;var pS=Mx();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mS(n){return E.createElement(OC,{flushSync:pS.flushSync,...n})}const qx=({size:n="md",text:t,customClass:e})=>{let i=` ${e} `;return n==="xs"?i+="text-xs":n==="sm"?i+="text-sm":n==="md"?i+="text-md":n==="lg"?i+="text-lg":n==="xl"?i+="text-xl":n==="2xl"?i+="text-2xl":n==="3xl"&&(i+="text-3xl"),d.jsx("h1",{className:` ${i} `,children:t})},mo=({size:n="md",text:t,customClass:e,children:i})=>{let r=` ${e} `;return n==="xs"?r+="text-xs":n==="sm"?r+="text-sm":n==="md"?r+="text-md":n==="lg"?r+="text-lg":n==="xl"?r+="text-xl":n==="2xl"?r+="text-2xl":n==="3xl"&&(r+="text-3xl"),d.jsxs("p",{className:` ${r} `,children:[t,i]})},re=({description:n="",color:t,label:e,customClass:i="",size:r="sm",children:s})=>{const a=t==="info"?"text-info":t==="error"?"text-error":t==="success"?"text-success":t==="warning"?"text-warning":t==="accent"?"text-accent":t==="primary"?"text-primary":"text-base",u=`w-full ${r==="xs"?"text-xs":r==="sm"?"text-sm":r==="md"?"text-md":r==="lg"?"text-lg":r==="xl"?"text-xl":"text-sm"} ${i}`;return d.jsxs("label",{className:`${u}`,children:[d.jsx("span",{className:`${a}`,children:e}),s,d.jsx(mo,{text:n,customClass:"w-full text-xs text-base font-light"})]})},$e=({children:n,click:t,color:e,url:i,ico:r,text:s,variant:a="default",customClass:o,type:u="button",size:c="sm"})=>{const f=nr(),p=!(a=="border"||a=="bottom"||a=="link"),g=e==="info"?`${p?"btn-info text-black":`${a==="bottom"?"border-b-info rounded-none btn-transparent":a=="link"?"":"border-info"} text-info hover:btn-info hover:text-white`}  `:e==="error"?`${p?"btn-error text-white":`${a==="bottom"?"border-b-error rounded-none btn-transparent":a=="link"?"":"border-error"} text-error hover:btn-error hover:text-white`}  `:e==="success"?`${p?"btn-success text-white":`${a==="bottom"?"border-b-success rounded-none btn-transparent":a=="link"?"":"border-success"} text-success hover:btn-success hover:text-white`}  `:e==="warning"?`${p?"btn-warning text-base-100 ":`${a==="bottom"?"border-b-warning rounded-none btn-transparent":a=="link"?"":"border-warning"} text-warning hover:btn-warning hover:text-base-100`}  `:e==="accent"?`${p?"btn-accent text-white":`${a==="bottom"?"border-b-accent rounded-none btn-transparent":a=="link"?"":"border-accent"} text-accent hover:btn-accent hover:text-white`}  `:e==="primary"?`${p?"btn-primary text-white":`${a==="bottom"?"border-b-primary rounded-none btn-transparent":a=="link"?"":"border-primary"} text-primary hover:btn-primary hover:text-white`}  `:`${p?"btn-base text-white":`${a==="bottom"?"border-b-base rounded-none bg-transparent":a=="link"?"":"border-base"} text-base hover:text-white`}  `,y=c==="sm"?"btn-sm":c==="md"?"btn-md":c==="lg"?"btn-lg":"btn-sm",b=` flex justify-center items-center gap-3 btn px-3 py-1 ${y||""} ${o||""} ${g}`,x=()=>{i&&f(i,{viewTransition:!0}),t&&t()};return a==="border"?d.jsxs("button",{onClick:x,className:`${b} border`,children:[n," ",r," ",s]}):a==="link"?d.jsxs("button",{onClick:x,className:`${b} `,children:[n," ",r," ",s]}):a==="bottom"?d.jsxs("button",{onClick:x,className:`${b} `,children:[n," ",r," ",s]}):d.jsxs("button",{type:u,onClick:x,className:`${b}`,children:[n," ",r," ",s]})};var Jx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ib=ia.createContext&&ia.createContext(Jx),gS=["attr","size","title"];function yS(n,t){if(n==null)return{};var e=vS(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function vS(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Hh(){return Hh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Hh.apply(this,arguments)}function rb(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Wh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(e),!0).forEach(function(i){bS(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):rb(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function bS(n,t,e){return t=xS(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function xS(n){var t=wS(n,"string");return typeof t=="symbol"?t:t+""}function wS(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function e0(n){return n&&n.map((t,e)=>ia.createElement(t.tag,Wh({key:e},t.attr),e0(t.child)))}function rt(n){return t=>ia.createElement(_S,Hh({attr:Wh({},n.attr)},t),e0(n.child))}function _S(n){var t=e=>{var{attr:i,size:r,title:s}=n,a=yS(n,gS),o=r||e.size||"1em",u;return e.className&&(u=e.className),n.className&&(u=(u?u+" ":"")+n.className),ia.createElement("svg",Hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,a,{className:u,style:Wh(Wh({color:n.color||e.color},e.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&ia.createElement("title",null,s),n.children)};return ib!==void 0?ia.createElement(ib.Consumer,null,e=>t(e)):t(Jx)}function PS(n){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z"},child:[]}]})(n)}function CS(n){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.669.864 8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 12l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 6l.306-1.854-1.337-1.32-.842-1.68zm1.196 1.193.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702z"},child:[]},{tag:"path",attr:{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1z"},child:[]}]})(n)}function SS(n){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"},child:[]},{tag:"path",attr:{d:"M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5z"},child:[]}]})(n)}function jS(n){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},child:[]}]})(n)}function DS(n){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"},child:[]}]})(n)}function _p({param:n,regex:t}){switch(t){case"email":return kS.test(n);case"letters":return OS.test(n);case"lettersMin3Max64":return MS.test(n);case"number":return TS.test(n);case"username":return FS.test(n);case"password":return ES.test(n)}}const kS=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,OS=/^[a-zA-ZÀ-ÿ\s]{1,}$/,TS=/^[0-9]+$/,MS=/^[a-zA-ZÀ-ÿ]{3,64}$/,FS=/^(?=.*[a-zA-Z])[a-zA-Z0-9._-]{3,32}$/,ES=/^(?:(?=.*[a-z])?(?=.*[A-Z])?(?=.*\d)?(?=.*[-+*/._-])?.{3,64})$/,q=({value:n,regex:t,name:e,type:i="text",color:r="default",customClass:s="",placeholder:a="",change:o=()=>{},size:u="sm"})=>{const[c,f]=E.useState(r),p=x=>{if(t){const w=_p({param:x.target.value,regex:t});x.target.value.length>3&&f(w?"success":"error")}o(x)},b=`w-full outline-none focus:outline-none input ${u==="sm"?"input-sm":u==="md"?"input-md":u==="lg"?"input-lg":"input-sm"} ${c==="info"?"text-info border-info focus:border-info active:bg-info focus:bg-info active:bg-opacity-40 focus:bg-opacity-20 duration-200":c==="error"?"text-error border-error focus:border-error active:bg-error focus:bg-error active:bg-opacity-40 focus:bg-opacity-20 duration-200":c==="success"?"text-success border-success focus:border-success active:bg-success focus:bg-success active:bg-opacity-40 focus:bg-opacity-20 duration-200":c==="warning"?"text-warning border-warning focus:border-warning active:bg-warning focus:bg-warning active:bg-opacity-40 focus:bg-opacity-20 duration-200":c==="accent"?"text-accent border-accent focus:border-accent active:bg-accent focus:bg-accent active:bg-opacity-40 focus:bg-opacity-20 duration-200":c==="primary"?"text-primary border-primary focus:border-primary active:bg-primary focus:bg-primary active:bg-opacity-40 focus:bg-opacity-20 duration-200":"text-base border-base focus:border-base active:bg-base focus:bg-base active:bg-opacity-40 focus:bg-opacity-20 duration-200"} ${s}`;return d.jsx("input",{onChange:p,type:i,className:`${b}`,placeholder:a,name:e,value:n})},t0=async({body:n,token:t,url:e,type:i,update:r})=>await(await fetch(e,{method:r?"PUT":"POST",headers:{token:t||"","Content-Type":i||""},body:JSON.stringify(n)})).json(),VS="http://127.0.0.1:3200",Ke=`${VS}/api/v2`,qe=()=>{const n=window.localStorage.getItem("sf_sibci_token");return n||null},AS=n=>(window.localStorage.setItem("sf_sibci_token",n),n),i0=()=>{window.localStorage.removeItem("sf_sibci_token")},r0=E.createContext({user:{},session:!1,setSession:()=>{}}),IS=({children:n})=>{const t=window.localStorage.getItem("user"),e=qe(),[i,r]=E.useState(!!e);return d.jsx(r0.Provider,{value:{user:t,session:i,setSession:r},children:n})},_c=()=>E.useContext(r0);function RS(n){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(n)}function LS(n){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function NS(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.1 378.8l-26.7-160c-2.6-15.4-15.9-26.7-31.6-26.7H208v-64h96c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16H48c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96v64H59.1c-15.6 0-29 11.3-31.6 26.7L.8 378.7c-.6 3.5-.9 7-.9 10.5V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32v-90.7c.1-3.5-.2-7-.8-10.5zM280 248c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16zm-32 64h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16zm-32-80c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16zM80 80V48h192v32H80zm40 200h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16zm16 64v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16zm216 112c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16zm24-112c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16zm48-80c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16z"},child:[]}]})(n)}function n0(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function zS(n){return rt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(n)}function BS(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(n)}function s0(n){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function HS(n){return rt({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"},child:[]}]})(n)}function WS(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function YS(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(n)}function US(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"},child:[]}]})(n)}function XS(n){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function $S(n){return rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M383.9 308.3l23.9-62.6c4-10.5-3.7-21.7-15-21.7h-58.5c11-18.9 17.8-40.6 17.8-64v-.3c39.2-7.8 64-19.1 64-31.7 0-13.3-27.3-25.1-70.1-33-9.2-32.8-27-65.8-40.6-82.8-9.5-11.9-25.9-15.6-39.5-8.8l-27.6 13.8c-9 4.5-19.6 4.5-28.6 0L182.1 3.4c-13.6-6.8-30-3.1-39.5 8.8-13.5 17-31.4 50-40.6 82.8-42.7 7.9-70 19.7-70 33 0 12.6 24.8 23.9 64 31.7v.3c0 23.4 6.8 45.1 17.8 64H56.3c-11.5 0-19.2 11.7-14.7 22.3l25.8 60.2C27.3 329.8 0 372.7 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-48.4-25.8-90.4-64.1-114.1zM176 480l-41.6-192 49.6 32 24 40-32 120zm96 0l-32-120 24-40 49.6-32L272 480zm41.7-298.5c-3.9 11.9-7 24.6-16.5 33.4-10.1 9.3-48 22.4-64-25-2.8-8.4-15.4-8.4-18.3 0-17 50.2-56 32.4-64 25-9.5-8.8-12.7-21.5-16.5-33.4-.8-2.5-6.3-5.7-6.3-5.8v-10.8c28.3 3.6 61 5.8 96 5.8s67.7-2.1 96-5.8v10.8c-.1.1-5.6 3.2-6.4 5.8z"},child:[]}]})(n)}function GS(n){return rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function KS(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(n)}function ZS(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(n)}function QS(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"},child:[]}]})(n)}function qS(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(n)}function JS(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m10 17 5-5-5-5v10z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 24V0h24v24H0z"},child:[]}]})(n)}function e2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(n)}function t2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 6h16v2H4zm2-4h12v2H6zm14 8H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm0 10H4v-8h16v8zm-10-7.27v6.53L16 16z"},child:[]}]})(n)}function i2(n){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 128c0-35.3-28.7-64-64-64L205.3 64c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7L512 448c35.3 0 64-28.7 64-64l0-256zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"},child:[]}]})(n)}function r2(n){return rt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223 149.5c48.6-44.3 123-50.8 179.3-11.7c60.8 42.4 78.9 123.2 44.2 186.9L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3L223 149.5zm223.1 298L83.1 161.5c-11 14.4-20.5 28.7-28.4 42.2l339 265.7c18.7-5.5 36.2-13 52.6-21.8zM34.5 268.3c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c3.1 0 6.1-.1 9.2-.2L33.1 247.8c-1.8 6.8-1.3 14 1.4 20.5z"},child:[]}]})(n)}function n2(n){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 112c0 35.3-28.7 64-64 64l0 160c35.3 0 64 28.7 64 64l352 0c0-35.3 28.7-64 64-64l0-160c-35.3 0-64-28.7-64-64l-352 0zM0 128C0 92.7 28.7 64 64 64l448 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM176 256a112 112 0 1 1 224 0 112 112 0 1 1 -224 0zm80-48c0 8.8 7.2 16 16 16l0 64-8 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l24 0 24 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-8 0 0-80c0-8.8-7.2-16-16-16l-16 0c-8.8 0-16 7.2-16 16z"},child:[]}]})(n)}function s2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 21.5C4.51472 21.5 2.5 19.4853 2.5 17C2.5 14.5147 4.51472 12.5 7 12.5C9.48528 12.5 11.5 14.5147 11.5 17C11.5 19.4853 9.48528 21.5 7 21.5ZM17 11.5C14.5147 11.5 12.5 9.48528 12.5 7C12.5 4.51472 14.5147 2.5 17 2.5C19.4853 2.5 21.5 4.51472 21.5 7C21.5 9.48528 19.4853 11.5 17 11.5ZM3 8C3 5.23858 5.23858 3 8 3H11V5H8C6.34315 5 5 6.34315 5 8V11H3V8ZM19 13V16C19 17.6569 17.6569 19 16 19H13V21H16C18.7614 21 21 18.7614 21 16V13H19Z"},child:[]}]})(n)}function a2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.00001 20V14C4.00001 9.58172 7.58173 6 12 6C16.4183 6 20 9.58172 20 14V20H21V22H3.00001V20H4.00001ZM6.00001 14H8.00001C8.00001 11.7909 9.79087 10 12 10V8C8.6863 8 6.00001 10.6863 6.00001 14ZM11 2H13V5H11V2ZM19.7782 4.80761L21.1924 6.22183L19.0711 8.34315L17.6569 6.92893L19.7782 4.80761ZM2.80762 6.22183L4.22183 4.80761L6.34315 6.92893L4.92894 8.34315L2.80762 6.22183Z"},child:[]}]})(n)}function o2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 7V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V7H2V5H22V7H20ZM11 10V17H13V10H11ZM7 2H17V4H7V2Z"},child:[]}]})(n)}function l2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM21 17H22V22H14V17H15V16C15 14.3431 16.3431 13 18 13C19.6569 13 21 14.3431 21 16V17ZM19 17V16C19 15.4477 18.5523 15 18 15C17.4477 15 17 15.4477 17 16V17H19Z"},child:[]}]})(n)}function u2(n){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M200,164v8h12a12,12,0,0,1,0,24H200v12a12,12,0,0,1-24,0V152a12,12,0,0,1,12-12h32a12,12,0,0,1,0,24ZM92,172a32,32,0,0,1-32,32H56v4a12,12,0,0,1-24,0V152a12,12,0,0,1,12-12H60A32,32,0,0,1,92,172Zm-24,0a8,8,0,0,0-8-8H56v16h4A8,8,0,0,0,68,172Zm100,8a40,40,0,0,1-40,40H112a12,12,0,0,1-12-12V152a12,12,0,0,1,12-12h16A40,40,0,0,1,168,180Zm-24,0a16,16,0,0,0-16-16h-4v32h4A16,16,0,0,0,144,180ZM36,108V40A20,20,0,0,1,56,20h96a12,12,0,0,1,8.49,3.52l56,56A12,12,0,0,1,220,88v20a12,12,0,0,1-24,0v-4H148a12,12,0,0,1-12-12V44H60v64a12,12,0,0,1-24,0ZM160,57V80h23Z"},child:[]}]})(n)}function h2(n){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M152,80a8,8,0,0,1,8-8h88a8,8,0,0,1,0,16H160A8,8,0,0,1,152,80Zm96,40H160a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm0,48H184a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16ZM109.29,142a48,48,0,1,0-58.58,0c-20.62,8.73-36.87,26.3-42.46,48A8,8,0,0,0,16,200H144a8,8,0,0,0,7.75-10C146.16,168.29,129.91,150.72,109.29,142Z"},child:[]}]})(n)}function c2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M1.7507,16.0022 C3.3517,20.0982 7.3367,23.0002 11.9997,23.0002 C18.0747,23.0002 22.9997,18.0752 22.9997,12.0002 M22.2497,7.9982 C20.6487,3.9012 16.6627,1.0002 11.9997,1.0002 C5.9247,1.0002 0.9997,5.9252 0.9997,12.0002 M8.9997,16.0002 L0.9997,16.0002 L0.9997,24.0002 M22.9997,0.0002 L22.9997,8.0002 L14.9997,8.0002"},child:[]}]})(n)}function d2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Login"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.944,18.432a2.577,2.577,0,0,1-2.729,2.5c-2.153.012-4.307,0-6.46,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.63a1.545,1.545,0,0,0-.969-1.471,3.027,3.027,0,0,0-1.061-.095H11.755a.5.5,0,0,1,0-1c2.225,0,4.465-.085,6.688,0a2.566,2.566,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M15.794,12.354a.459.459,0,0,0,.138-.312A.3.3,0,0,0,15.938,12a.29.29,0,0,0-.006-.041.455.455,0,0,0-.138-.313L12.125,7.978a.5.5,0,0,0-.707.707L14.234,11.5H3.492a.5.5,0,0,0,0,1H14.234l-2.816,2.815a.5.5,0,0,0,.707.707Z"},child:[]}]}]}]})(n)}function f2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Shop"},child:[{tag:"path",attr:{d:"M20.6,5.26a2.512,2.512,0,0,0-2.48-2.2H5.885a2.512,2.512,0,0,0-2.48,2.19l-.3,2.47a3.411,3.411,0,0,0,1.16,2.56v8.16a2.5,2.5,0,0,0,2.5,2.5h10.47a2.5,2.5,0,0,0,2.5-2.5V10.28A3.411,3.411,0,0,0,20.9,7.72Zm-6.59,14.68h-4V15.86a1.5,1.5,0,0,1,1.5-1.5h1a1.5,1.5,0,0,1,1.5,1.5Zm4.73-1.5a1.5,1.5,0,0,1-1.5,1.5h-2.23V15.86a2.5,2.5,0,0,0-2.5-2.5h-1a2.5,2.5,0,0,0-2.5,2.5v4.08H6.765a1.5,1.5,0,0,1-1.5-1.5V10.87a3.223,3.223,0,0,0,1.24.24,3.358,3.358,0,0,0,2.58-1.19.241.241,0,0,1,.34,0,3.358,3.358,0,0,0,2.58,1.19A3.393,3.393,0,0,0,14.6,9.92a.219.219,0,0,1,.16-.07.238.238,0,0,1,.17.07,3.358,3.358,0,0,0,2.58,1.19,3.173,3.173,0,0,0,1.23-.24Zm-1.23-8.33a2.386,2.386,0,0,1-1.82-.83,1.2,1.2,0,0,0-.92-.43h-.01a1.194,1.194,0,0,0-.92.42,2.476,2.476,0,0,1-3.65,0,1.24,1.24,0,0,0-1.86,0A2.405,2.405,0,0,1,4.1,7.78l.3-2.4a1.517,1.517,0,0,1,1.49-1.32h12.23a1.5,1.5,0,0,1,1.49,1.32l.29,2.36A2.392,2.392,0,0,1,17.505,10.11Z"},child:[]}]}]})(n)}function p2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.5 2.75a.75.75 0 0 0-1.5 0v18.5c0 .414.336.75.75.75H20a.75.75 0 0 0 0-1.5H2.5V2.75Z"},child:[]},{tag:"path",attr:{d:"M22.28 7.78a.75.75 0 0 0-1.06-1.06l-5.72 5.72-3.72-3.72a.75.75 0 0 0-1.06 0l-6 6a.75.75 0 1 0 1.06 1.06l5.47-5.47 3.72 3.72a.75.75 0 0 0 1.06 0l6.25-6.25Z"},child:[]}]})(n)}function nb(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm244.5 0l-81.9-81.1c-7.5-7.5-7.5-19.8 0-27.3s19.8-7.5 27.3 0l95.4 95.7c7.3 7.3 7.5 19.1.6 26.6l-94 94.3c-3.8 3.8-8.7 5.7-13.7 5.7-4.9 0-9.9-1.9-13.6-5.6-7.5-7.5-7.6-19.7 0-27.3l79.9-81z"},child:[]}]})(n)}function m2(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M210.7 147.6c7.5-7.5 19.8-7.5 27.3 0l95.4 95.7c7.3 7.3 7.5 19.1.6 26.6l-94 94.3c-3.8 3.8-8.7 5.7-13.7 5.7-4.9 0-9.9-1.9-13.6-5.6-7.5-7.5-7.6-19.7 0-27.3l79.9-81.1-81.9-81.1c-7.6-7.4-7.6-19.6 0-27.2z"},child:[]},{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm32 0c0-47 18.3-91.2 51.6-124.4C164.8 98.3 209 80 256 80s91.2 18.3 124.4 51.6C413.7 164.8 432 209 432 256s-18.3 91.2-51.6 124.4C347.2 413.7 303 432 256 432s-91.2-18.3-124.4-51.6C98.3 347.2 80 303 80 256z"},child:[]}]})(n)}function g2(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M331.3 308.7L278.6 256l52.7-52.7c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-52.7-52.7c-6.2-6.2-15.6-7.1-22.6 0-7.1 7.1-6 16.6 0 22.6l52.7 52.7-52.7 52.7c-6.7 6.7-6.4 16.3 0 22.6 6.4 6.4 16.4 6.2 22.6 0l52.7-52.7 52.7 52.7c6.2 6.2 16.4 6.2 22.6 0 6.3-6.2 6.3-16.4 0-22.6z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(n)}function y2(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M70.5 265.4l59.6-59.4c2.6-2.6 6.1-4.1 9.9-4.1 3.7 0 7.3 1.4 9.9 4.1 2.6 2.6 4.1 6.1 4.1 9.9s-1.5 7.3-4.1 9.9l-.1.1-41.1 40.1H370c13.2 0 25.8-5.2 35.3-14.7 9.5-9.4 14.7-21.9 14.7-35.3v-48c0-7.7 6.3-14 14-14s14 6.3 14 14v48c0 20.8-8.1 40.3-22.9 55.1-14.8 14.8-34.3 22.9-55.1 22.9H108.3l39.6 40.2c2.6 2.6 4.1 6.1 4.1 9.9 0 3.7-1.4 7.3-4.1 9.9l-.1.1c-2.7 2.5-6.2 3.9-9.8 3.9-3.9 0-7.3-1.4-9.9-4.1l-57.6-57.4c-4.2-4.2-6.5-9.8-6.5-15.7 0-5.8 2.3-11.3 6.5-15.4z"},child:[]}]})(n)}function v2(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(n)}function b2(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 464c22.779 0 41.411-18.719 41.411-41.6h-82.823c0 22.881 18.633 41.6 41.412 41.6zm134.589-124.8V224.8c0-63.44-44.516-117.518-103.53-131.041V79.2c0-17.682-13.457-31.2-31.059-31.2s-31.059 13.518-31.059 31.2v14.559c-59.015 13.523-103.53 67.601-103.53 131.041v114.4L80 380.8v20.8h352v-20.8l-41.411-41.6z"},child:[]}]})(n)}function x2(n){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"352",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]},{tag:"circle",attr:{cx:"336",cy:"176",r:"32",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m304 335.79-90.66-90.49a32 32 0 0 0-43.87-1.3L48 352m176 80 123.34-123.34a32 32 0 0 1 43.11-2L464 368"},child:[]}]})(n)}function w2(n){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}const _e=({ico:n})=>n==="config"?d.jsx(zS,{}):n==="create"?d.jsx(ZS,{}):n==="delete-row"?d.jsx(i2,{}):n==="delete"?d.jsx(o2,{}):n==="list"?d.jsx(WS,{}):n==="report"?d.jsx(u2,{}):n==="reload"?d.jsx(c2,{}):n==="update"?d.jsx(YS,{}):n==="logout"?d.jsx(US,{}):n==="singin"?d.jsx(d2,{}):n==="subscription"?d.jsx(t2,{}):n==="dashboard"?d.jsx(p2,{}):n==="payments"?d.jsx(e2,{}):n==="shop"?d.jsx(f2,{}):n==="user"?d.jsx(GS,{}):n==="unique"?d.jsx(s0,{}):n==="master"?d.jsx(l2,{}):n==="down"?d.jsx(JS,{}):n==="drop"?d.jsx(v2,{}):n==="money"?d.jsx(n2,{}):n==="secure"?d.jsx(QS,{}):n==="image"?d.jsx(x2,{}):n==="error"?d.jsx(KS,{}):n==="success"?d.jsx(n0,{}):n==="info"?d.jsx(HS,{}):n==="warning"?d.jsx(w2,{}):n==="notification"?d.jsx(b2,{}):n==="x"?d.jsx(DS,{}):n==="return"?d.jsx(y2,{}):n==="finanzas"?d.jsx(NS,{}):n==="distribucion"?d.jsx(LS,{}):n==="agend"?d.jsx(SS,{}):n==="exchange"?d.jsx(BS,{}):n==="menu"?d.jsx(qS,{}):n==="select"?d.jsx(d.Fragment,{}):n==="change"?d.jsx(s2,{}):n==="consult"?d.jsx(h2,{}):d.jsx(d.Fragment,{}),Be=({children:n,click:t,color:e,ico:i,text:r,variant:s="default",customClass:a,type:o="button",size:u="sm"})=>{const c=!(s=="border"||s=="bottom"||s=="link"),f=e==="info"?`${c?"btn-info text-white":`${s==="bottom"?"border-b-info rounded-none btn-transparent":s=="link"?"":"border-info"} text-info hover:btn-info hover:text-white`}  `:e==="error"?`${c?"btn-error text-white":`${s==="bottom"?"border-b-error rounded-none btn-transparent":s=="link"?"":"border-error"} text-error hover:btn-error hover:text-white`}  `:e==="success"?`${c?"btn-success text-white":`${s==="bottom"?"border-b-success rounded-none btn-transparent":s=="link"?"":"border-success"} text-success hover:btn-success hover:text-white`}  `:e==="warning"?`${c?"btn-warning text-base-100 ":`${s==="bottom"?"border-b-warning rounded-none btn-transparent":s=="link"?"":"border-warning"} text-warning hover:btn-warning hover:text-base-100`}  `:e==="accent"?`${c?"btn-accent text-white":`${s==="bottom"?"border-b-accent rounded-none btn-transparent":s=="link"?"":"border-accent"} text-accent hover:btn-accent hover:text-white`}  `:e==="primary"?`${c?"btn-primary text-white":`${s==="bottom"?"border-b-primary rounded-none btn-transparent":s=="link"?"":"border-primary"} text-primary hover:btn-primary hover:text-white`}  `:`${c?"btn-base text-white":`${s==="bottom"?"border-b-base rounded-none bg-transparent":s=="link"?"":"border-base"} text-base hover:text-white`}  `,p=u==="sm"?"btn-sm":u==="md"?"btn-md":u==="lg"?"btn-lg":"btn-sm",g=` flex justify-center items-center gap-3 btn px-3 py-1 ${p||""} ${a||""} ${f}`,y=()=>{t&&t()};return s==="border"?d.jsxs("button",{onClick:y,className:`${g} border`,children:[n," ",i," ",r]}):s==="link"?d.jsxs("button",{onClick:y,className:`${g} `,children:[n," ",i," ",r]}):s==="bottom"?d.jsxs("button",{onClick:y,className:`${g} `,children:[n," ",i," ",r]}):d.jsxs("button",{type:o,onClick:y,className:`${g}`,children:[n," ",i," ",r]})},_2={close:()=>{},init:()=>{}},a0=E.createContext(_2),P2=({children:n})=>{const[t,e]=E.useState(!1),[i,r]=E.useState(""),[s,a]=E.useState("error"),o=(c,f)=>{r(c),a(f),e(!0)},u=()=>e(!1);return d.jsxs(a0.Provider,{value:{close:u,init:o},children:[t&&d.jsx("div",{className:"flex justify-center items-center fixed pt-8 w-full z-50",children:d.jsxs("div",{className:"pl-3 bg-base-300 p-3 rounded-lg min-w-72 border border-primary",children:[d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsxs("p",{tabIndex:0,className:"focus:outline-none text-sm leading-none flex justify-start items-center gap-2",children:[d.jsx("i",{className:"text-primary text-xl",children:d.jsx(_e,{ico:s})}),i]}),d.jsx(Be,{click:u,ico:d.jsx(_e,{ico:"x"})})]}),d.jsx("p",{tabIndex:0,className:"focus:outline-none text-xs leading-3 pt-1 text-gray-500",children:"justo ahora"})]})}),n]})},qt=()=>E.useContext(a0),Sl=({alt:n,customClass:t,src:e,title:i,h:r,w:s})=>d.jsx("img",{src:e,alt:n,title:i||"",className:`${t}`,width:s,height:r}),mr=({size:n="md",text:t,customClass:e})=>{let i=` ${e} `;return n==="xs"?i+="text-xs":n==="sm"?i+="text-sm":n==="md"?i+="text-md":n==="lg"?i+="text-lg":n==="xl"?i+="text-xl":n==="2xl"?i+="text-2xl":n==="3xl"&&(i+="text-3xl"),d.jsx("span",{className:` ${i} `,children:t})},C2=({})=>{const n=nr(),t=qt(),e=_c(),[i,r]=E.useState({email:"",password:""}),s=o=>{if(o.preventDefault(),!_p({param:i.email,regex:"email"}))return t.init("Correo no válido","error");if(!_p({param:i.password,regex:"password"}))return t.init("Contraseña no válida","error");(async()=>{const c=`${Ke}/auth/login`,f=await t0({body:i,url:c,type:"application/json"});if(f.token)return e.setSession(!0),AS(f.token),console.log(f),window.localStorage.setItem("rolName",f.user.rolReference.name),t.init("Inicio exitoso","success"),n("/dashboard",{viewTransition:!0});t.init("Verifica tus credenciales","error")})()},a=o=>{o.target.name==="email"?r({...i,email:o.target.value}):o.target.name==="password"&&r({...i,password:o.target.value})};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-primary/5 to-secondary/10 flex items-center justify-center p-4","data-theme":"nutringest",children:d.jsxs("div",{className:"w-full max-w-4xl grid md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center p-8 animate-float",children:[d.jsx("div",{className:"mask mask-squircle bg-gradient-to-br from-base-100 to-base-300 p-6 mb-6",children:d.jsx(Sl,{alt:"",customClass:"",h:150,w:150,src:"/logo.png"})}),d.jsx(qx,{text:"Bienvenido a NutriNgest",customClass:"text-4xl font-bold text-base-content mb-4 text-center",size:"3xl"}),d.jsx(mo,{text:"Tu plataforma integral para la gestión nutricional profesional",customClass:"text-base-content/70 text-center text-lg max-w-sm"})]}),d.jsxs("div",{className:"animate-slide-up",children:[d.jsxs("div",{className:"bg-base-300 rounded-3xl shadow-2xl p-8 backdrop-blur-sm",children:[d.jsxs("div",{className:"md:hidden text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("div",{className:"mask mask-squircle bg-primary p-3",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),d.jsx("path",{d:"M12 22v-6"}),d.jsx("path",{d:"M12 8v6"})]})})}),d.jsx("h1",{className:"text-3xl font-bold text-base-content",children:"NutriNgest"})]}),d.jsx("h2",{className:"text-2xl font-bold text-base-content mb-2",children:"Iniciar Sesión"}),d.jsx("p",{className:"text-base mb-8",children:"Ingresa tus credenciales para continuar"}),d.jsxs("form",{onSubmit:s,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-base-content",children:"Correo electrónico"}),d.jsxs("div",{className:"relative",children:[d.jsx(q,{color:"primary",customClass:"input input-bordered w-full pl-10",placeholder:"micorreo@gmail.com",size:"sm",type:"email",name:"email",regex:"email",change:a}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),d.jsx("polyline",{points:"22,6 12,13 2,6"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-base-content",children:"Contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(q,{color:"primary",customClass:"input input-bordered w-full pl-10",placeholder:"••••••••",size:"sm",type:"password",name:"password",regex:"password",change:a}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),d.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center"}),d.jsx(mr,{text:"¿Olvidaste tu contraseña?",customClass:"xt-sm text-primary hover:text-primary/80 font-medium transition-colors"})]}),d.jsx($e,{type:"submit",customClass:"btn btn-primary w-full hover:shadow-lg transition-all duration-300",text:"Iniciar sesión"})]}),d.jsx("div",{className:"divider text-base-content/40 my-8",children:"o"}),d.jsxs("p",{className:"text-center text-base-content/60 flex justify-between items-center",children:["¿No tienes una cuenta?"," ",d.jsx($e,{url:"/register",variant:"border",color:"primary",customClass:"text-primary hover:text-primary/80 font-medium transition-colors",text:"Regístrate aquí"})]})]}),d.jsx("p",{className:"text-center mt-8 text-base-content/60 text-sm",children:"© 2025 NutriNgest. Todos los derechos reservados."})]})]})})},S2=({})=>{const[n,t]=E.useState({name:"",lastname:"",email:"",password:"",repeatPassword:""}),e=r=>{r.preventDefault(),console.log(n)},i=r=>{t({...n,[r.target.name]:r.target.value})};return d.jsxs("div",{className:"min-h-screen flex",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-base-300 to-primary/20 p-12 flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center",children:d.jsx($e,{url:"/",children:d.jsx("h1",{className:"text-4xl font-bold text-base-content ml-2",children:"Nutringest"})})}),d.jsxs("div",{className:"mt-12",children:[d.jsx("h2",{className:"text-3xl font-semibold text-base-content leading-tight",children:"Únete a la comunidad líder de nutricionistas profesionales"}),d.jsx("p",{className:"mt-4 text-lg text-dark dark:text-white",children:"Potencia tu práctica profesional con herramientas diseñadas específicamente para nutricionistas. Gestiona pacientes, crea planes nutricionales y haz seguimiento de manera eficiente."})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-primary/80 rounded-full p-3"}),d.jsx("p",{className:"ml-4 text-dark dark:text-white",children:"Gestiona tus consultas"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-primary/80 rounded-full p-3"}),d.jsx("p",{className:"ml-4 text-dark dark:text-white",children:"Gestiona tus menús"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-primary/80 rounded-full p-3"}),d.jsx("p",{className:"ml-4 text-dark dark:text-white",children:"Gestiona tus pacientes"})]})]})]}),d.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-gradient-to-b from-base-300 to-primary/10",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsx("div",{className:"lg:hidden flex items-center justify-center mb-8",children:d.jsx("h2",{className:"text-3xl font-bold text-base-content ml-2",children:"Nutringest"})}),d.jsx("h3",{className:"text-2xl font-semibold text-center text-base-content mb-8",children:"Crear cuenta de nutricionista"}),d.jsx("form",{onSubmit:e,className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(re,{color:"primary",label:"Nombre",children:d.jsx(q,{change:i,color:"primary",name:"name",placeholder:"Steven",value:n.name})}),d.jsx(re,{color:"primary",label:"Apellido",children:d.jsx(q,{change:i,color:"primary",name:"lastname",placeholder:"Doe",value:n.lastname})}),d.jsx(re,{color:"primary",label:"Correo",customClass:"lg:col-span-2",children:d.jsx(q,{change:i,color:"primary",name:"email",placeholder:"steven.dow@gmail.com",value:n.email})}),d.jsx(re,{color:"primary",label:"Nombre",children:d.jsx(q,{change:i,color:"primary",name:"password",placeholder:"***********",value:n.password})}),d.jsx(re,{color:"primary",label:"Apellido",children:d.jsx(q,{change:i,color:"primary",name:"repeatPassword",placeholder:"***********",value:n.repeatPassword})}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition duration-200 font-medium shadow-sm",children:"Registrarse"})]})}),d.jsx("p",{className:"mt-6 flex justify-center",children:d.jsx($e,{url:"/login",text:"¿Ya tienes una cuenta? Iniciar sesión",customClass:"text-green-600 hover:text-green-700 font-medium"})})]})})]})},bt=({size:n="md",text:t,customClass:e})=>{let i=` ${e} `;return n==="xs"?i+="text-xs":n==="sm"?i+="text-sm":n==="md"?i+="text-md":n==="lg"?i+="text-lg":n==="xl"?i+="text-xl":n==="2xl"?i+="text-2xl":n==="3xl"&&(i+="text-3xl"),d.jsx("h2",{className:` ${i} `,children:t})},j2={close:()=>{},init:()=>{},status:!1},o0=E.createContext(j2),D2=({children:n})=>{const[t,e]=E.useState(!1),[i,r]=E.useState(d.jsx(d.Fragment,{})),s=()=>e(!1),a=o=>{e(!0),r(d.jsx("div",{className:"bg-base-300 bg-opacity-70 z-30 min-h-screen max-h-full w-screen fixed top-0 left-0 flex justify-center items-center",children:d.jsx("div",{className:"z-50 w-full flex justify-center items-center",children:o})}))};return d.jsxs(o0.Provider,{value:{status:t,close:s,init:a},children:[t&&i,n]})},Bt=()=>E.useContext(o0),k2=({path:n,id:t,change:e,field:i})=>{const[r,s]=E.useState(""),[a,o]=E.useState(!1),[u,c]=E.useState([]),f=E.useRef(null),p=b=>{s(b.target.value)},g=(b,x)=>{s(x),e({name:i.name,value:b})},y=E.useCallback(async b=>{const x=`${Ke}${n}?param=${b}&parentId=${t}`,P=await(await fetch(x,{headers:{token:`${qe()}`}})).json();console.log(P),c(P)},[]);return E.useEffect(()=>{const b=setTimeout(()=>y(r),300);return()=>{clearTimeout(b)}},[r]),E.useEffect(()=>{const b=x=>{f.current&&!f.current.contains(x.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),d.jsxs("div",{className:"relative w-full",ref:f,children:[d.jsxs("label",{children:[i.label,d.jsx("input",{type:"text",value:r,onChange:p,onFocus:()=>o(!0),onFocusCapture:()=>o(!1),placeholder:"Buscar...",className:"w-full input input-sm border border-base-content"})]}),a&&u.length>0&&d.jsx("ul",{className:"absolute w-full bg-base-300 border rounded-md border-none mt-1 max-h-40 overflow-auto shadow-lg",children:u.map(b=>d.jsx("li",{onClick:()=>g(b.value.toString(),b.label),className:"p-2 hover:bg-base-100 cursor-pointer",children:b.label},b.value))})]})},Pp=({form:n,reload:t,init:e,id:i})=>{const{close:r}=Bt(),s=qt(),[a,o]=E.useState(e||{}),u=p=>{const g={...a,[p.target.name]:p.target.value};o(g)},c=({name:p,value:g})=>{const y={...a,[p]:g};o(y)},f=p=>{p.preventDefault(),(async()=>{const g=`${Ke}${n.path}${i?`?id=${i}`:""}`;if(alert(g),(await t0({update:n.method==="PUT",body:a,url:g,token:`${qe()}`,type:"application/json"})).statusMessage==="error")return s.init("Error temporal","error");s.init(n.method==="POST"?"Creación Exitosa":"Actualización Exitoza","success"),t(),o({}),r()})()};return d.jsxs("form",{onSubmit:f,children:[d.jsx(bt,{text:n.label,customClass:"text-start font-semibold text-xl"}),d.jsx("div",{className:"grid gap-3 lg:grid-cols-2 my-3",children:n.fields.map(p=>{if(p.type=="select-api"){const g=p.field;return d.jsx(k2,{change:c,id:i,field:g,path:p.path,type:p.type})}if(p.type=="select"){const g=p.field;return d.jsxs("label",{children:[d.jsx(mr,{text:g.label,customClass:"text-xs font-black"}),d.jsxs("select",{onChange:u,name:g.name,className:"select select-sm w-full outline-none focus:outline-none border border-primary",children:[d.jsx("option",{value:`${a[g.name]}`,children:a[g.name]}),g.options.map(y=>d.jsx("option",{value:y.value,children:y.label}))]})]})}if(p.type=="textarea"){const g=p.field;return d.jsx("label",{className:"col-span-2",children:d.jsx("textarea",{onChange:u,name:g.name,className:`${g.customClass} text-sm col-span-2 w-full input input-sm border border-primary min-h-16 max-h-24`,children:g.value},g.key)})}if(p.type=="input"){const g=p.field;return d.jsxs("label",{children:[d.jsx(mr,{text:g.label,customClass:"text-xs font-black"}),d.jsx(q,{type:p.field.type,value:a[g.name],color:"primary",name:g.name,placeholder:g.placeholder,change:u,regex:g.validation})]})}})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(Be,{click:r,color:"warning",variant:"border",ico:d.jsx(g2,{}),text:"Cancelar"}),d.jsx(Be,{color:"primary",type:"submit",customClass:"flex-[.3]",ico:d.jsx(PS,{}),text:n.method==="POST"?"Crear":n.method==="PUT"?"Actualizar":"Enviar"})]})]})},O2=n=>({label:"Actualizar Datos",method:"PUT",path:"/profile/update/data",fields:[{type:"input",field:{key:"user.create.input.name",label:"Nombre",name:"name",placeholder:`${n.name?n.name:""}`,type:"text",requiere:!0,value:n.name}},{type:"input",field:{key:"user.create.input.lastname",label:"Apellido",name:"lastname",placeholder:`${n.lastname?n.lastname:""}`,type:"text",requiere:!0,value:n.lastname}},{type:"input",field:{key:"user.create.input.email",label:"Correo",name:"email",placeholder:`${n.email?n.email:""}`,type:"email",requiere:!0,value:n.email}},{type:"input",field:{key:"user.create.input.username",label:"Usuario",name:"username",placeholder:`${n.username?n.username:""}`,type:"text",requiere:!0,value:n.username}},{type:"input",field:{key:"user.create.input.ci",label:"Cédula",name:"ci",placeholder:`${n.ci?n.ci:""}`,type:"text",requiere:!0,value:n.ci}}]}),T2=()=>({label:"Actualizar Contraseña",method:"PUT",path:"/profile/update/password",fields:[{type:"input",field:{key:"user.create.input.name",label:"Contraseña Actual",name:"lastPassword",placeholder:"",type:"password",requiere:!0}},{type:"input",field:{key:"user.create.input.lastname",label:"Nueva Contraseña",name:"newPassword",placeholder:"",type:"password",requiere:!0}},{type:"input",field:{key:"user.create.input.email",label:"Repetir Contraseña",name:"repeatPassword",placeholder:"",type:"password",requiere:!0}}]}),M2=()=>{const{close:n}=Bt(),[t,e]=E.useState(null),i=s=>{s.target.files&&e(s.target.files[0])},r=s=>{s.preventDefault()};return d.jsxs("div",{className:"bg-base-100 rounded-md w-[40%] p-4",children:[d.jsx(bt,{text:"Actualizar Foto de Perfíl",customClass:"text-2xl font-bold mb-3"}),d.jsxs("form",{onSubmit:r,children:[d.jsx("label",{children:d.jsxs("fieldset",{className:"fieldset",children:[d.jsx("legend",{className:"fieldset-legend",children:"Seleccionar Foto"}),d.jsx("input",{onChange:i,type:"file",className:"file-input w-full"}),d.jsx("label",{className:"fieldset-label text-xs",children:"Imagen para el perfíl"})]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(Be,{click:n,variant:"border",customClass:"mt-3",color:"warning",text:"Cerrar",ico:d.jsx(_e,{ico:"update"})}),d.jsx(Be,{customClass:"mt-3",color:"info",text:"Actualizar",ico:d.jsx(_e,{ico:"update"})})]})]})]})};function Yt(n){var t=n.width,e=n.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function ra(n,t){return n.width===t.width&&n.height===t.height}var F2=function(){function n(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function E2(n){return new F2(n)}var V2=function(){function n(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=Yt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(s){return s},this._allowResizeObserver=(r=i==null?void 0:i.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return Yt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=Yt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(t){var e=this.bitmapSize;ra(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},n.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=Yt(this._transformBitmapSize(t,this._canvasElementClientSize)),r=ra(this.bitmapSize,i)?null:i;e===null&&r===null||e!==null&&r!==null&&ra(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},n.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}I2().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=sb(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=E2(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var i=sb(this._canvasElement);if(i!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:i.devicePixelRatio,s=this._canvasElement.getClientRects(),a=s[0]!==void 0?R2(s[0],r):Yt({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(a)}}},n.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(a){return a.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var r=i.devicePixelContentBoxSize[0],s=Yt({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function A2(n,t){if(t.type==="device-pixel-content-box")return new V2(n,t.transform,t.options);throw new Error("Unsupported binding target")}function sb(n){return n.ownerDocument.defaultView}function I2(){return new Promise(function(n){var t=new ResizeObserver(function(e){n(e.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function R2(n,t){return Yt({width:Math.round(n.left*t+n.width*t)-Math.round(n.left*t),height:Math.round(n.top*t+n.height*t)-Math.round(n.top*t)})}var L2=function(){function n(t,e,i){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return n.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function sa(n,t){var e=n.canvasElementClientSize;if(e.width===0||e.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var r=n.canvasElement.getContext("2d",t);return r===null?null:new L2(r,e,i)}/*!
 * @license
 * TradingView Lightweight Charts™ v5.0.2
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const l0={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var ab,ob;function aa(n,t){const e={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[t];n.setLineDash(e)}function u0(n,t,e,i){n.beginPath();const r=n.lineWidth%2?.5:0;n.moveTo(e,t+r),n.lineTo(i,t+r),n.stroke()}function Xi(n,t){if(!n)throw new Error("Assertion failed"+(t?": "+t:""))}function ir(n){if(n===void 0)throw new Error("Value is undefined");return n}function me(n){if(n===null)throw new Error("Value is null");return n}function ea(n){return me(ir(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(ab||(ab={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(ob||(ob={}));class pi{constructor(){this.t=[]}i(t,e,i){const r={h:t,l:e,o:i===!0};this.t.push(r)}_(t){const e=this.t.findIndex(i=>t===i.h);e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter(e=>e.l!==t)}p(t,e,i){const r=[...this.t];this.t=this.t.filter(s=>!s.o),r.forEach(s=>s.h(t,e,i))}v(){return this.t.length>0}m(){this.t=[]}}function Zr(n,...t){for(const e of t)for(const i in e)e[i]!==void 0&&Object.prototype.hasOwnProperty.call(e,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof e[i]!="object"||n[i]===void 0||Array.isArray(e[i])?n[i]=e[i]:Zr(n[i],e[i]));return n}function oo(n){return typeof n=="number"&&isFinite(n)}function jl(n){return typeof n=="number"&&n%1==0}function Bl(n){return typeof n=="string"}function ch(n){return typeof n=="boolean"}function Ln(n){const t=n;if(!t||typeof t!="object")return t;let e,i,r;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(r=t[i],e[i]=r&&typeof r=="object"?Ln(r):r);return e}function N2(n){return n!==null}function Cp(n){return n===null?void 0:n}const h0="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Yh(n,t,e){return t===void 0&&(t=h0),`${e=e!==void 0?`${e} `:""}${n}px ${t}`}class z2{constructor(t){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",V:0,I:0,A:0,B:0,L:0},this.O=t}N(){const t=this.M,e=this.W(),i=this.F();return t.k===e&&t.T===i||(t.k=e,t.T=i,t.P=Yh(e,i),t.B=2.5/12*e,t.V=t.B,t.I=e/12*t.C,t.A=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}W(){return this.O.N().layout.fontSize}F(){return this.O.N().layout.fontFamily}}function Bf(n){return n<0?0:n>255?255:Math.round(n)||0}function lb(n){return .199*n[0]+.687*n[1]+.114*n[2]}class B2{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const i=this.Z(t),r=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*r})`}K(t){const e=this.Z(t);return{X:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:lb(e)>160?"black":"white"}}J(t){return lb(this.Z(t))}tt(t,e,i){const[r,s,a,o]=this.Z(t),[u,c,f,p]=this.Z(e),g=[Bf(r+i*(u-r)),Bf(s+i*(c-s)),Bf(a+i*(f-a)),(y=o+i*(p-o),y<=0||y>1?Math.min(Math.max(y,0),1):Math.round(1e4*y)/1e4)];var y;return`rgba(${g[0]}, ${g[1]}, ${g[2]}, ${g[3]})`}Z(t){const e=this.q.get(t);if(e)return e;const i=function(a){const o=document.createElement("div");o.style.display="none",document.body.appendChild(o),o.style.color=a;const u=window.getComputedStyle(o).color;return document.body.removeChild(o),u}(t),r=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const a of this.Y){const o=a(t);if(o)return this.q.set(t,o),o}throw new Error(`Failed to parse color: ${t}`)}const s=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,s),s}}class c0{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach(r=>{r.nt(t,e,i)})}}class va{nt(t,e,i){t.useBitmapCoordinateSpace(r=>this.et(r,e,i))}}class H2 extends va{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,s=this.rt,a=Math.max(1,Math.floor(e))%2/2,o=u=>{t.beginPath();for(let c=r.to-1;c>=r.from;--c){const f=s.ot[c],p=Math.round(f._t*e)+a,g=f.ut*i,y=u*i+a;t.moveTo(p,g),t.arc(p,g,y,0,2*Math.PI)}t.fill()};s.ct>0&&(t.fillStyle=s.dt,o(s.ft+s.ct)),t.fillStyle=s.vt,o(s.ft)}}function W2(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Y2={from:0,to:1};class U2{constructor(t,e,i){this.Mt=new c0,this.bt=[],this.xt=[],this.St=!0,this.O=t,this.Ct=e,this.yt=i,this.Mt.st(this.bt)}kt(t){this.Pt(),this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Mt}Pt(){const t=this.yt.Dt();t.length!==this.bt.length&&(this.xt=t.map(W2),this.bt=this.xt.map(e=>{const i=new H2;return i.ht(e),i}),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.yt.It(),i=this.Ct.At(),r=this.O.Bt();this.Pt(),e.forEach((s,a)=>{const o=this.xt[a],u=s.Et(i),c=s.zt();!t&&u!==null&&s.Vt()&&c!==null?(o.vt=u.Lt,o.ft=u.ft,o.ct=u.Ot,o.ot[0].gt=u.gt,o.ot[0].ut=s.Wt().Nt(u.gt,c.Ft),o.dt=u.Ht??this.O.Ut(o.ot[0].ut/s.Wt().$t()),o.ot[0].wt=i,o.ot[0]._t=r.qt(i),o.lt=Y2):o.lt=null})}}class X2 extends va{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const s=this.Yt.jt.Vt,a=this.Yt.Zt.Vt;if(!s&&!a)return;const o=Math.round(this.Yt._t*i),u=Math.round(this.Yt.ut*r);t.lineCap="butt",s&&o>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*i),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,aa(t,this.Yt.jt.Kt),function(c,f,p,g){c.beginPath();const y=c.lineWidth%2?.5:0;c.moveTo(f+y,p),c.lineTo(f+y,g),c.stroke()}(t,o,0,e.height)),a&&u>=0&&(t.lineWidth=Math.floor(this.Yt.Zt.ct*r),t.strokeStyle=this.Yt.Zt.R,t.fillStyle=this.Yt.Zt.R,aa(t,this.Yt.Zt.Kt),u0(t,u,0,e.width))}}class $2{constructor(t,e){this.St=!0,this.Xt={jt:{ct:1,Kt:0,R:"",Vt:!1},Zt:{ct:1,Kt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new X2(this.Xt),this.Jt=t,this.yt=e}kt(){this.St=!0}Tt(t){return this.St&&(this.Rt(),this.St=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.yt.Qt().N().crosshair,i=this.Xt;if(e.mode===2)return i.Zt.Vt=!1,void(i.jt.Vt=!1);i.Zt.Vt=t&&this.Jt.ti(this.yt),i.jt.Vt=t&&this.Jt.ii(),i.Zt.ct=e.horzLine.width,i.Zt.Kt=e.horzLine.style,i.Zt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Kt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function Pc(n,t,e,i,r,s){n.save(),n.globalCompositeOperation="copy",n.fillStyle=s,n.fillRect(t,e,i,r),n.restore()}function ub(n,t,e,i,r,s){n.beginPath(),n.roundRect?n.roundRect(t,e,i,r,s):(n.lineTo(t+i-s[1],e),s[1]!==0&&n.arcTo(t+i,e,t+i,e+s[1],s[1]),n.lineTo(t+i,e+r-s[2]),s[2]!==0&&n.arcTo(t+i,e+r,t+i-s[2],e+r,s[2]),n.lineTo(t+s[3],e+r),s[3]!==0&&n.arcTo(t,e+r,t,e+r-s[3],s[3]),n.lineTo(t,e+s[0]),s[0]!==0&&n.arcTo(t,e,t+s[0],e,s[0]))}function hb(n,t,e,i,r,s,a=0,o=[0,0,0,0],u=""){if(n.save(),!a||!u||u===s)return ub(n,t,e,i,r,o),n.fillStyle=s,n.fill(),void n.restore();const c=a/2;var f;ub(n,t+c,e+c,i-a,r-a,(f=-c,o.map(p=>p===0?p:p+f))),s!=="transparent"&&(n.fillStyle=s,n.fill()),u!=="transparent"&&(n.lineWidth=a,n.strokeStyle=u,n.closePath(),n.stroke()),n.restore()}function d0(n,t,e,i,r,s,a){n.save(),n.globalCompositeOperation="copy";const o=n.createLinearGradient(0,0,0,r);o.addColorStop(0,s),o.addColorStop(1,a),n.fillStyle=o,n.fillRect(t,e,i,r),n.restore()}class cb{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.k+t.B+t.V:0}nt(t,e,i,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const s=this.Yt.R,a=this.ei.X,o=t.useBitmapCoordinateSpace(u=>{const c=u.context;c.font=e.P;const f=this.hi(u,e,i,r),p=f.ai;return f.li?hb(c,p.oi,p._i,p.ui,p.ci,a,p.di,[p.ft,0,0,p.ft],a):hb(c,p.fi,p._i,p.ui,p.ci,a,p.di,[0,p.ft,p.ft,0],a),this.Yt.pi&&(c.fillStyle=s,c.fillRect(p.fi,p.mi,p.wi-p.fi,p.gi)),this.Yt.Mi&&(c.fillStyle=e.D,c.fillRect(f.li?p.bi-p.di:0,p._i,p.di,p.xi-p._i)),f});t.useMediaCoordinateSpace(({context:u})=>{const c=o.Si;u.font=e.P,u.textAlign=o.li?"right":"left",u.textBaseline="middle",u.fillStyle=s,u.fillText(this.Yt.ri,c.Ci,(c._i+c.xi)/2+c.yi)})}hi(t,e,i,r){const{context:s,bitmapSize:a,mediaSize:o,horizontalPixelRatio:u,verticalPixelRatio:c}=t,f=this.Yt.pi||!this.Yt.ki?e.C:0,p=this.Yt.Pi?e.S:0,g=e.B+this.ei.Ti,y=e.V+this.ei.Ri,b=e.I,x=e.A,w=this.Yt.ri,P=e.k,S=i.Di(s,w),k=Math.ceil(i.Vi(s,w)),T=P+g+y,j=e.S+b+x+k+f,V=Math.max(1,Math.floor(c));let A=Math.round(T*c);A%2!=V%2&&(A+=1);const I=p>0?Math.max(1,Math.floor(p*u)):0,L=Math.round(j*u),J=Math.round(f*u),ie=this.ei.Ii??this.ei.Ai,ne=Math.round(ie*c)-Math.floor(.5*c),Fe=Math.floor(ne+V/2-A/2),ut=Fe+A,ze=r==="right",be=ze?o.width-p:p,Ae=ze?a.width-I:I;let se,ye,fe;return ze?(se=Ae-L,ye=Ae-J,fe=be-f-b-p):(se=Ae+L,ye=Ae+J,fe=be+f+b),{li:ze,ai:{_i:Fe,mi:ne,xi:ut,ui:L,ci:A,ft:2*u,di:I,oi:se,fi:Ae,wi:ye,gi:V,bi:a.width},Si:{_i:Fe/c,xi:ut/c,Ci:fe,yi:S}}}}class Cc{constructor(t){this.Bi={Ai:0,X:"#000",Ri:0,Ti:0},this.Ei={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.St=!0,this.Li=new(t||cb)(this.Ei,this.Bi),this.Oi=new(t||cb)(this.zi,this.Bi)}ri(){return this.Ni(),this.Ei.ri}Ai(){return this.Ni(),this.Bi.Ai}kt(){this.St=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Wi(){return this.Bi.Ii||0}Fi(t){this.Bi.Ii=t}Hi(){return this.Ni(),this.Ei.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ei.Vt}Tt(t){return this.Ni(),this.Ei.pi=this.Ei.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ei,this.Bi),this.Oi.ht(this.zi,this.Bi),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ei,this.Bi),this.Oi.ht(this.zi,this.Bi),this.Oi}Ni(){this.St&&(this.Ei.pi=!0,this.zi.pi=!1,this.qi(this.Ei,this.zi,this.Bi))}}class G2 extends Cc{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const s=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Zi()||s===null)return;const a=this.Yi.Ki().K(r.labelBackgroundColor);i.X=a.X,t.R=a.G;const o=2/12*this.Yi.k();i.Ti=o,i.Ri=o;const u=this.ji(this.Yi);i.Ai=u.Ai,t.ri=this.Yi.Xi(u.gt,s),t.Vt=!0}}const K2=/[1-9]/g;class f0{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=t.useMediaCoordinateSpace(({context:g})=>(g.font=e.P,Math.round(e.Gi.Vi(g,me(this.Yt).ri,K2))));if(i<=0)return;const r=e.Ji,s=i+2*r,a=s/2,o=this.Yt.Qi;let u=this.Yt.Ai,c=Math.floor(u-a)+.5;c<0?(u+=Math.abs(0-c),c=Math.floor(u-a)+.5):c+s>o&&(u-=Math.abs(o-(c+s)),c=Math.floor(u-a)+.5);const f=c+s,p=Math.ceil(0+e.S+e.C+e.B+e.k+e.V);t.useBitmapCoordinateSpace(({context:g,horizontalPixelRatio:y,verticalPixelRatio:b})=>{const x=me(this.Yt);g.fillStyle=x.X;const w=Math.round(c*y),P=Math.round(0*b),S=Math.round(f*y),k=Math.round(p*b),T=Math.round(2*y);if(g.beginPath(),g.moveTo(w,P),g.lineTo(w,k-T),g.arcTo(w,k,w+T,k,T),g.lineTo(S-T,k),g.arcTo(S,k,S,k-T,T),g.lineTo(S,P),g.fill(),x.pi){const j=Math.round(x.Ai*y),V=P,A=Math.round((V+e.C)*b);g.fillStyle=x.R;const I=Math.max(1,Math.floor(y)),L=Math.floor(.5*y);g.fillRect(j-L,V,I,A-V)}}),t.useMediaCoordinateSpace(({context:g})=>{const y=me(this.Yt),b=0+e.S+e.C+e.B+e.k/2;g.font=e.P,g.textAlign="left",g.textBaseline="middle",g.fillStyle=y.R;const x=e.Gi.Di(g,"Apr0");g.translate(c+r,b+x),g.fillText(y.ri,0,0)})}}class Z2{constructor(t,e,i){this.St=!0,this.Gt=new f0,this.Xt={Vt:!1,X:"#4c525e",R:"white",ri:"",Qi:0,Ai:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}kt(){this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Gt.ht(this.Xt),this.Gt}Rt(){const t=this.Xt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.Bt();if(i.Zi())return;t.Qi=i.Qi();const r=this.ji();if(r===null)return;t.Ai=r.Ai;const s=i.ss(this.Ct.At());t.ri=i.ns(me(s)),t.Vt=!0;const a=this.ts.Ki().K(e.labelBackgroundColor);t.X=a.X,t.R=a.G,t.pi=i.N().ticksVisible}}class p0{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Wt(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var db;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden"})(db||(db={}));class Q2 extends p0{constructor(t,e){super(),this.yt=null,this.ds=NaN,this.fs=0,this.ps=!0,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.xs=NaN,this.Ss=NaN,this.Cs=NaN,this.ts=t,this.ys=e,this.ks=((r,s)=>a=>{const o=s(),u=r();if(a===me(this.yt).Ps())return{gt:u,Ai:o};{const c=me(a.zt());return{gt:a.Ts(o,c),Ai:o}}})(()=>this.ds,()=>this.xs);const i=((r,s)=>()=>{const a=this.ts.Bt().Rs(r()),o=s();return a&&Number.isFinite(o)?{wt:a,Ai:o}:null})(()=>this.fs,()=>this.si());this.Ds=new Z2(this,t,i)}N(){return this.ys}Vs(t,e){this.Ss=t,this.Cs=e}Is(){this.Ss=NaN,this.Cs=NaN}As(){return this.Ss}Bs(){return this.Cs}Es(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}At(){return this.fs}si(){return this.bs}ni(){return this.xs}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.xs=NaN,this.yt=null,this.Is(),this.Ns()}Ws(t){let e=this.gs.get(t);e||(e=new $2(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new U2(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.yt&&this.ys.horzLine.visible}ii(){return this.ys.vertLine.visible}Fs(t,e){this.ps&&this.yt===t||this.vs.clear();const i=[];return this.yt===t&&i.push(this.Hs(this.vs,e,this.ks)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.yt}Ns(){this.ts.$s().forEach(t=>{var e,i;(e=this.gs.get(t))==null||e.kt(),(i=this.Ms.get(t))==null||i.kt()}),this.vs.forEach(t=>t.kt()),this.Ds.kt()}qs(t){return t&&!t.Ps().Zi()?t.Ps():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const r=this.bs,s=this.xs,a=this.ds,o=this.fs,u=this.yt,c=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Bt().qt(t),this.yt=i;const f=c!==null?c.zt():null;return c!==null&&f!==null?(this.ds=e,this.xs=c.Nt(e,f)):(this.ds=NaN,this.xs=NaN),r!==this.bs||s!==this.xs||o!==this.fs||a!==this.ds||u!==this.yt}Os(){const t=this.ts.js().map(i=>i.Ks().Zs()).filter(N2),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,i){let r=t.get(e);return r===void 0&&(r=new G2(this,e,i),t.set(e,r)),r}}function Sc(n){return n==="left"||n==="right"}class Ii{constructor(t){this.Xs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=function(r,s){return r===void 0?s:{tn:Math.max(r.tn,s.tn),sn:r.sn||s.sn}}(this.Xs.get(t),e);this.Xs.set(t,i)}nn(){return this.Js}en(t){const e=this.Xs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Ft:t}]}_n(t){this.un(),this.Gs.push({an:5,Ft:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Ft:t})}fn(t){this.hn(),this.Gs.push({an:3,Ft:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Xs.forEach((e,i)=>{this.Qs(i,e)})}static wn(){return new Ii(2)}static gn(){return new Ii(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Ft);break;case 2:this.dn(t.Ft);break;case 3:this.fn(t.Ft);break;case 4:this.cn();break;case 5:this._n(t.Ft);break;case 6:this.un()}}un(){const t=this.Gs.findIndex(e=>e.an===5);t!==-1&&this.Gs.splice(t,1)}}const fb=".";function Nn(n,t){if(!oo(n))return"n/a";if(!jl(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?n.toString():("0000000000000000"+n.toString()).slice(-t)}class jc{constructor(t,e){if(e||(e=1),oo(t)&&jl(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.xn(t)}bn(){if(this.Sn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.Sn++}}xn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),r="";const s=this.Sn!==void 0?this.Sn:NaN;if(e>1){let a=+(Math.round(t*e)-i*e).toFixed(this.Sn);a>=e&&(a-=e,i+=1),r=fb+Nn(+a.toFixed(this.Sn)*this.Mn,s)}else i=Math.round(i*e)/e,s>0&&(r=fb+Nn(0,s));return i.toFixed(0)+r}}class m0 extends jc{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class q2{constructor(t){this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.yn(t):t<999995?e+this.yn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.yn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.yn(t/1e9)+"B")}yn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(r,s)=>s)}}const J2=/[2-9]/g;class Uh{constructor(t=50){this.kn=0,this.Pn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.kn=0,this.Dn.clear(),this.Pn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.An(t,e,i).width}Di(t,e,i){const r=this.An(t,e,i);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}An(t,e,i){const r=i||J2,s=String(e).replace(r,"0");if(this.Dn.has(s))return ir(this.Dn.get(s)).Bn;if(this.kn===this.Vn){const o=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(o),this.Tn++,this.kn--}t.save(),t.textBaseline="middle";const a=t.measureText(s);return t.restore(),a.width===0&&e.length||(this.Dn.set(s,{Bn:a,En:this.Pn}),this.Rn[this.Pn]=s,this.kn++,this.Pn++),a}}class ej{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class g0{constructor(t,e,i){this.Wn=t,this.On=new Uh(50),this.Fn=e,this.O=i,this.W=-1,this.Gt=new ej(this.On)}Tt(){const t=this.O.Hn(this.Fn);if(t===null)return null;const e=t.Un(this.Fn)?t.$n():this.Fn.Wt();if(e===null)return null;const i=t.qn(e);if(i==="overlay")return null;const r=this.O.Yn();return r.k!==this.W&&(this.W=r.k,this.On.In()),this.Gt.Nn(this.Wn.$i(),r,i),this.Gt}}class tj extends va{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){var a;if(!((a=this.Yt)!=null&&a.Vt))return null;const{ut:i,ct:r,Zn:s}=this.Yt;return e>=i-r-7&&e<=i+r+7?{Kn:this.Yt,Zn:s}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const s=Math.round(this.Yt.ut*r);s<0||s>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*i),aa(t,this.Yt.Kt),u0(t,s,0,e.width))}}class pm{constructor(t){this.Xn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Kt:0,Vt:!1},this.Gn=new tj,this.St=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Xn)}kt(){this.St=!0}Tt(){return this.Jn.Vt()?(this.St&&(this.te(),this.St=!1),this.Gn):null}}class ij extends pm{constructor(t){super(t)}te(){this.Xn.Vt=!1;const t=this.Jn.Wt(),e=t.ie().ie;if(e!==2&&e!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Xn.Vt=!0,this.Xn.ut=t.Nt(r.Ft,r.Ft),this.Xn.R=i.baseLineColor,this.Xn.ct=i.baseLineWidth,this.Xn.Kt=i.baseLineStyle)}}class rj extends va{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const r=this.Yt;if(r===null)return;const s=Math.max(1,Math.floor(e)),a=s%2/2,o=Math.round(r.ne.x*e)+a,u=r.ne.y*i;t.fillStyle=r.ee,t.beginPath();const c=Math.max(2,1.5*r.re)*e;t.arc(o,u,c,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(o,u,r.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=s,t.strokeStyle=r.ae,t.beginPath(),t.arc(o,u,r.ft*e+s/2,0,2*Math.PI,!1),t.stroke()}}const nj=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class sj{constructor(t){this.Gt=new rj,this.St=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}kt(){this.St=!0}xe(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}Se(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.St?(this.Rt(),this.St=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Bt(),e=t.ye(),i=this.ge.zt();if(e===null||i===null)return;const r=this.ge.ke(!0);if(r.Pe||!e.Te(r.Re))return;const s={x:t.qt(r.Re),y:this.ge.Wt().Nt(r.gt,i.Ft)},a=r.R,o=this.ge.N().lineWidth,u=this.De(this.Ve(),a);this.Gt.ht({ee:a,re:o,he:u.he,ae:u.ae,ft:u.ft,ne:s})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.Se()?performance.now()-this.me:2599}Ie(t,e,i,r){const s=i+(r-i)*e;return this.ge.Qt().Ki().j(t,s)}De(t,e){const i=t%2600/2600;let r;for(const c of nj)if(i>=c.le&&i<=c.oe){r=c;break}Xi(r!==void 0,"Last price animation internal logic error");const s=(i-r.le)/(r.oe-r.le);return{he:this.Ie(e,s,r.ce,r.de),ae:this.Ie(e,s,r.fe,r.pe),ft:(a=s,o=r._e,u=r.ue,o+(u-o)*a)};var a,o,u}}class aj extends pm{constructor(t){super(t)}te(){const t=this.Xn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ke(e.priceLineSource===0);i.Pe||(t.Vt=!0,t.ut=i.Ai,t.R=this.Jn.Ae(i.R),t.ct=e.priceLineWidth,t.Kt=e.priceLineStyle)}}class oj extends Cc{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.Jt;if(!r.Vt())return;const s=r.N(),a=s.lastValueVisible,o=r.Be()!=="",u=s.seriesLastValueMode===0,c=r.ke(!1);if(c.Pe)return;a&&(t.ri=this.Ee(c,a,u),t.Vt=t.ri.length!==0),(o||u)&&(e.ri=this.ze(c,a,o,u),e.Vt=e.ri.length>0);const f=r.Ae(c.R),p=this.Jt.Qt().Ki().K(f);i.X=p.X,i.Ai=c.Ai,e.Ht=r.Qt().Ut(c.Ai/r.Wt().$t()),t.Ht=f,t.R=p.G,e.R=p.G}ze(t,e,i,r){let s="";const a=this.Jt.Be();return i&&a.length!==0&&(s+=`${a} `),e&&r&&(s+=this.Jt.Wt().Le()?t.Oe:t.Ne),s.trim()}Ee(t,e,i){return e?i?this.Jt.Wt().Le()?t.Ne:t.Oe:t.ri:""}}function pb(n,t,e,i){const r=Number.isFinite(t),s=Number.isFinite(e);return r&&s?n(t,e):r||s?r?t:e:i}class tr{constructor(t,e){this.We=t,this.Fe=e}He(t){return t!==null&&this.We===t.We&&this.Fe===t.Fe}Ue(){return new tr(this.We,this.Fe)}$e(){return this.We}qe(){return this.Fe}Ye(){return this.Fe-this.We}Zi(){return this.Fe===this.We||Number.isNaN(this.Fe)||Number.isNaN(this.We)}vn(t){return t===null?this:new tr(pb(Math.min,this.$e(),t.$e(),-1/0),pb(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!oo(t)||this.Fe-this.We===0)return;const e=.5*(this.Fe+this.We);let i=this.Fe-e,r=this.We-e;i*=t,r*=t,this.Fe=e+i,this.We=e+r}Ze(t){oo(t)&&(this.Fe+=t,this.We+=t)}Ke(){return{minValue:this.We,maxValue:this.Fe}}static Xe(t){return t===null?null:new tr(t.minValue,t.maxValue)}}class Xh{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Ke(){return{priceRange:this.Ge===null?null:this.Ge.Ke(),margins:this.Je||void 0}}static Xe(t){return t===null?null:new Xh(tr.Xe(t.priceRange),t.margins)}}class lj extends pm{constructor(t,e){super(t),this.ir=e}te(){const t=this.Xn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();i!==null&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Kt=e.lineStyle,t.Zn=this.ir.N().id)}}class uj extends Cc{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.ir.N(),s=r.axisLabelVisible,a=r.title!=="",o=this.ge;if(!s||!o.Vt())return;const u=this.ir.sr();if(u===null)return;a&&(e.ri=r.title,e.Vt=!0),e.Ht=o.Qt().Ut(u/o.Wt().$t()),t.ri=this.nr(r.price),t.Vt=!0;const c=this.ge.Qt().Ki().K(r.axisLabelColor||r.color);i.X=c.X;const f=r.axisLabelTextColor||c.G;t.R=f,e.R=f,i.Ai=u}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Wt().Xi(t,e.Ft)}}class hj{constructor(t,e){this.ge=t,this.ys=e,this.er=new lj(t,this),this.Wn=new uj(t,this),this.rr=new g0(this.Wn,t,t.Qt())}hr(t){Zr(this.ys,t),this.kt(),this.ge.Qt().ar()}N(){return this.ys}lr(){return this.er}_r(){return this.rr}ur(){return this.Wn}kt(){this.er.kt(),this.Wn.kt()}sr(){const t=this.ge,e=t.Wt();if(t.Qt().Bt().Zi()||e.Zi())return null;const i=t.zt();return i===null?null:e.Nt(this.ys.price,i.Ft)}}class cj extends p0{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const dj={Bar:(n,t,e,i)=>{const r=t.upColor,s=t.downColor,a=me(n(e,i)),o=ea(a.Ft[0])<=ea(a.Ft[3]);return{cr:a.R??(o?r:s)}},Candlestick:(n,t,e,i)=>{const r=t.upColor,s=t.downColor,a=t.borderUpColor,o=t.borderDownColor,u=t.wickUpColor,c=t.wickDownColor,f=me(n(e,i)),p=ea(f.Ft[0])<=ea(f.Ft[3]);return{cr:f.R??(p?r:s),dr:f.Ht??(p?a:o),pr:f.vr??(p?u:c)}},Custom:(n,t,e,i)=>({cr:me(n(e,i)).R??t.color}),Area:(n,t,e,i)=>{const r=me(n(e,i));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(n,t,e,i)=>{const r=me(n(e,i));return{cr:r.Ft[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,yr:r.yr??t.bottomFillColor2}},Line:(n,t,e,i)=>{const r=me(n(e,i));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(n,t,e,i)=>({cr:me(n(e,i)).R??t.color})};class fj{constructor(t){this.kr=(e,i)=>i!==void 0?i.Ft:this.ge.Ks().Pr(e),this.ge=t,this.Tr=dj[t.Rr()]}Dr(t,e){return this.Tr(this.kr,this.ge.N(),t,e)}}function y0(n,t,e,i,r=0,s=t.length){let a=s-r;for(;0<a;){const o=a>>1,u=r+o;i(t[u],e)===n?(r=u+1,a-=o+1):a=o}return r}const lo=y0.bind(null,!0),v0=y0.bind(null,!1);var mb;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(mb||(mb={}));const ms=30;class pj{constructor(){this.Vr=[],this.Ir=new Map,this.Ar=new Map,this.Br=[]}Er(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Zs(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Zi(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}Pr(t){return this.Wr(t)}Wr(t,e=0){const i=this.Nr(t,e);return i===null?null:{...this.Fr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Zi())return null;let r=null;for(const s of i)r=dh(r,this.$r(t,e,s));return r}ht(t){this.Ar.clear(),this.Ir.clear(),this.Vr=t,this.Br=t.map(e=>e.Re)}qr(){return this.Br}Or(t){return this.Vr[t].Re}Fr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(i===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Zr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Kr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Zr(t){const e=this.Xr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Kr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Kr(t){return lo(this.Vr,t,(e,i)=>e.Re<i)}Xr(t){return v0(this.Vr,t,(e,i)=>e.Re>i)}Gr(t,e,i){let r=null;for(let s=t;s<e;s++){const a=this.Vr[s].Ft[i];Number.isNaN(a)||(r===null?r={Jr:a,Qr:a}:(a<r.Jr&&(r.Jr=a),a>r.Qr&&(r.Qr=a)))}return r}$r(t,e,i){if(this.Zi())return null;let r=null;const s=me(this.Lr()),a=me(this.Zs()),o=Math.max(t,s),u=Math.min(e,a),c=Math.ceil(o/ms)*ms,f=Math.max(c,Math.floor(u/ms)*ms);{const g=this.Kr(o),y=this.Xr(Math.min(u,c,e));r=dh(r,this.Gr(g,y,i))}let p=this.Ir.get(i);p===void 0&&(p=new Map,this.Ir.set(i,p));for(let g=Math.max(c+1,o);g<f;g+=ms){const y=Math.floor(g/ms);let b=p.get(y);if(b===void 0){const x=this.Kr(y*ms),w=this.Xr((y+1)*ms-1);b=this.Gr(x,w,i),p.set(y,b)}r=dh(r,b)}{const g=this.Kr(f),y=this.Xr(u);r=dh(r,this.Gr(g,y,i))}return r}}function dh(n,t){return n===null?t:t===null?n:{Jr:Math.min(n.Jr,t.Jr),Qr:Math.max(n.Qr,t.Qr)}}class mj{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){var r,s;(s=(r=this.th).drawBackground)==null||s.call(r,t)}}class gj{constructor(t){this.Dn=null,this.sh=t}Tt(){var i;const t=this.sh.renderer();if(t===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===t)return this.Dn.eh;const e=new mj(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}class b0{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){var t,e;(e=(t=this.ah).updateAllViews)==null||e.call(t)}Ws(){var i,r,s;const t=((r=(i=this.ah).paneViews)==null?void 0:r.call(i))??[];if(((s=this.hh)==null?void 0:s.nh)===t)return this.hh.eh;const e=t.map(a=>new gj(a));return this.hh={nh:t,eh:e},e}jn(t,e){var i,r;return((r=(i=this.ah).hitTest)==null?void 0:r.call(i,t,e))??null}}let yj=class extends b0{us(){return[]}};class vj{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){var r,s;(s=(r=this.th).drawBackground)==null||s.call(r,t)}}class gb{constructor(t){this.Dn=null,this.sh=t}Tt(){var i;const t=this.sh.renderer();if(t===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===t)return this.Dn.eh;const e=new vj(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}function x0(n){var t,e,i;return{ri:n.text(),Ai:n.coordinate(),Ii:(t=n.fixedCoordinate)==null?void 0:t.call(n),R:n.textColor(),X:n.backColor(),Vt:((e=n.visible)==null?void 0:e.call(n))??!0,pi:((i=n.tickVisible)==null?void 0:i.call(n))??!0}}class bj{constructor(t,e){this.Gt=new f0,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...x0(this._h)}),this.Gt}}class xj extends Cc{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const r=x0(this._h);i.X=r.X,t.R=r.R;const s=2/12*this.Yi.k();i.Ti=s,i.Ri=s,i.Ai=r.Ai,i.Ii=r.Ii,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class wj extends b0{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){var r,s,a;const t=((s=(r=this.ah).timeAxisViews)==null?void 0:s.call(r))??[];if(((a=this.dh)==null?void 0:a.nh)===t)return this.dh.eh;const e=this.ge.Qt().Bt(),i=t.map(o=>new bj(o,e));return this.dh={nh:t,eh:i},i}Fs(){var r,s,a;const t=((s=(r=this.ah).priceAxisViews)==null?void 0:s.call(r))??[];if(((a=this.fh)==null?void 0:a.nh)===t)return this.fh.eh;const e=this.ge.Wt(),i=t.map(o=>new xj(o,e));return this.fh={nh:t,eh:i},i}wh(){var i,r,s;const t=((r=(i=this.ah).priceAxisPaneViews)==null?void 0:r.call(i))??[];if(((s=this.ph)==null?void 0:s.nh)===t)return this.ph.eh;const e=t.map(a=>new gb(a));return this.ph={nh:t,eh:e},e}gh(){var i,r,s;const t=((r=(i=this.ah).timeAxisPaneViews)==null?void 0:r.call(i))??[];if(((s=this.mh)==null?void 0:s.nh)===t)return this.mh.eh;const e=t.map(a=>new gb(a));return this.mh={nh:t,eh:e},e}Mh(t,e){var i,r;return((r=(i=this.ah).autoscaleInfo)==null?void 0:r.call(i,t,e))??null}}function Hf(n,t,e,i){n.forEach(r=>{t(r).forEach(s=>{s.rh()===e&&i.push(s)})})}function Wf(n){return n.Ws()}function _j(n){return n.wh()}function Pj(n){return n.gh()}const Cj=["Area","Line","Baseline"];class Dc extends cj{constructor(t,e,i,r,s){super(t),this.Yt=new pj,this.er=new aj(this),this.bh=[],this.xh=new ij(this),this.Sh=null,this.Ch=null,this.yh=null,this.kh=[],this.ys=i,this.Ph=e;const a=new oj(this);this.vs=[a],this.rr=new g0(a,this,t),Cj.includes(this.Ph)&&(this.Sh=new sj(this)),this.Th(),this.sh=r(this,this.Qt(),s)}m(){this.yh!==null&&clearTimeout(this.yh)}Ae(t){return this.ys.priceLineColor||t}ke(t){const e={Pe:!0},i=this.Wt();if(this.Qt().Bt().Zi()||i.Zi()||this.Yt.Zi())return e;const r=this.Qt().Bt().ye(),s=this.zt();if(r===null||s===null)return e;let a,o;if(t){const p=this.Yt.Er();if(p===null)return e;a=p,o=p.Re}else{const p=this.Yt.Wr(r.bi(),-1);if(p===null||(a=this.Yt.Pr(p.Re),a===null))return e;o=p.Re}const u=a.Ft[3],c=this.Rh().Dr(o,{Ft:a}),f=i.Nt(u,s.Ft);return{Pe:!1,gt:u,ri:i.Xi(u,s.Ft),Oe:i.Dh(u),Ne:i.Vh(u,s.Ft),R:c.cr,Ai:f,Re:o}}Rh(){return this.Ch!==null||(this.Ch=new fj(this)),this.Ch}N(){return this.ys}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.ys.priceScaleId&&this.Qt().Ih(this,e),Zr(this.ys,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Ah()),this.Qt().Bh(this),this.Qt().Eh(),this.sh.kt("options")}ht(t,e){this.Yt.ht(t),this.sh.kt("data"),this.Sh!==null&&(e&&e.zh?this.Sh.be():t.length===0&&this.Sh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Bh(this),this.Qt().Eh(),this.Qt().ar()}Oh(t){const e=new hj(this,t);return this.bh.push(e),this.Qt().Bh(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Bh(this)}Wh(){return this.bh}Rr(){return this.Ph}zt(){const t=this.Fh();return t===null?null:{Ft:t.Ft[3],Hh:t.wt}}Fh(){const t=this.Qt().Bt().ye();if(t===null)return null;const e=t.Uh();return this.Yt.Wr(e,1)}Ks(){return this.Yt}$h(t){const e=this.Yt.Pr(t);return e===null?null:this.Ph==="Bar"||this.Ph==="Candlestick"||this.Ph==="Custom"?{qh:e.Ft[0],Yh:e.Ft[1],jh:e.Ft[2],Zh:e.Ft[3]}:e.Ft[3]}Kh(t){const e=[];Hf(this.kh,Wf,"top",e);const i=this.Sh;return i!==null&&i.Vt()&&(this.yh===null&&i.Se()&&(this.yh=setTimeout(()=>{this.yh=null,this.Qt().Xh()},0)),i.xe(),e.unshift(i)),e}Ws(){const t=[];this.Gh()||t.push(this.xh),t.push(this.sh,this.er);const e=this.bh.map(i=>i.lr());return t.push(...e),Hf(this.kh,Wf,"normal",t),t}Jh(){return this.Qh(Wf,"bottom")}ta(t){return this.Qh(_j,t)}ia(t){return this.Qh(Pj,t)}sa(t,e){return this.kh.map(i=>i.jn(t,e)).filter(i=>i!==null)}us(){return[this.rr,...this.bh.map(t=>t._r())]}Fs(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const r of this.bh)i.push(r.ur());return this.kh.forEach(r=>{i.push(...r.Fs())}),i}cs(){const t=[];return this.kh.forEach(e=>{t.push(...e.cs())}),t}Mh(t,e){if(this.ys.autoscaleInfoProvider!==void 0){const i=this.ys.autoscaleInfoProvider(()=>{const r=this.na(t,e);return r===null?null:r.Ke()});return Xh.Xe(i)}return this.na(t,e)}ea(){return this.ys.priceFormat.minMove}ra(){return this.ha}Ns(){var t;this.sh.kt();for(const e of this.vs)e.kt();for(const e of this.bh)e.kt();this.er.kt(),this.xh.kt(),(t=this.Sh)==null||t.kt(),this.kh.forEach(e=>e.Ns())}Wt(){return me(super.Wt())}Et(t){if(!((this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline")&&this.ys.crosshairMarkerVisible))return null;const e=this.Yt.Pr(t);return e===null?null:{gt:e.Ft[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Be(){return this.ys.title}Vt(){return this.ys.visible}ua(t){this.kh.push(new wj(t,this))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t)}da(){if(this.Ph==="Custom")return t=>this.sh.fa(t)}pa(){if(this.Ph==="Custom")return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!Sc(this.Wt().wa())}na(t,e){if(!jl(t)||!jl(e)||this.Yt.Zi())return null;const i=this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline"||this.Ph==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,e,i);let s=r!==null?new tr(r.Jr,r.Qr):null,a=null;if(this.Rr()==="Histogram"){const o=this.ys.base,u=new tr(o,o);s=s!==null?s.vn(u):u}return this.kh.forEach(o=>{const u=o.Mh(t,e);if(u!=null&&u.priceRange){const c=new tr(u.priceRange.minValue,u.priceRange.maxValue);s=s!==null?s.vn(c):c}u!=null&&u.margins&&(a=u.margins)}),new Xh(s,a)}aa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerRadius}return 0}la(){switch(this.Ph){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}oa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.Ph){case"Line":case"Area":case"Baseline":{const e=this.ys.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.ys.priceFormat.type){case"custom":this.ha={format:this.ys.priceFormat.formatter};break;case"volume":this.ha=new q2(this.ys.priceFormat.precision);break;case"percent":this.ha=new m0(this.ys.priceFormat.precision);break;default:{const t=Math.pow(10,this.ys.priceFormat.precision);this.ha=new jc(t,this.ys.priceFormat.minMove*t)}}this.es!==null&&this.es.ga()}Qh(t,e){const i=[];return Hf(this.kh,t,e,i),i}}class Sj{constructor(t){this.ys=t}Ma(t,e,i){let r=t;if(this.ys.mode===0)return r;const s=i.Ps(),a=s.zt();if(a===null)return r;const o=s.Nt(t,a),u=i.ba().filter(f=>f instanceof Dc).reduce((f,p)=>{if(i.Un(p)||!p.Vt())return f;const g=p.Wt(),y=p.Ks();if(g.Zi()||!y.Te(e))return f;const b=y.Pr(e);if(b===null)return f;const x=ea(p.zt());return f.concat([g.Nt(b.Ft[3],x.Ft)])},[]);if(u.length===0)return r;u.sort((f,p)=>Math.abs(f-o)-Math.abs(p-o));const c=u[0];return r=s.Ts(c,a),r}}class jj extends va{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const s=Math.max(1,Math.floor(i));t.lineWidth=s,function(a,o){a.save(),a.lineWidth%2&&a.translate(.5,.5),o(),a.restore()}(t,()=>{const a=me(this.Yt);if(a.xa){t.strokeStyle=a.Sa,aa(t,a.Ca),t.beginPath();for(const o of a.ya){const u=Math.round(o.ka*i);t.moveTo(u,-s),t.lineTo(u,e.height+s)}t.stroke()}if(a.Pa){t.strokeStyle=a.Ta,aa(t,a.Ra),t.beginPath();for(const o of a.Da){const u=Math.round(o.ka*r);t.moveTo(-s,u),t.lineTo(e.width+s,u)}t.stroke()}})}}class Dj{constructor(t){this.Gt=new jj,this.St=!0,this.yt=t}kt(){this.St=!0}Tt(){if(this.St){const t=this.yt.Qt().N().grid,e={Pa:t.horzLines.visible,xa:t.vertLines.visible,Ta:t.horzLines.color,Sa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.yt.Ps().Va(),ya:(this.yt.Qt().Bt().Va()||[]).map(i=>({ka:i.coord}))};this.Gt.ht(e),this.St=!1}return this.Gt}}class kj{constructor(t){this.sh=new Dj(t)}lr(){return this.sh}}const Yf={Ia:4,Aa:1e-4};function eo(n,t){const e=100*(n-t)/t;return t<0?-e:e}function Oj(n,t){const e=eo(n.$e(),t),i=eo(n.qe(),t);return new tr(e,i)}function vl(n,t){const e=100*(n-t)/t+100;return t<0?-e:e}function Tj(n,t){const e=vl(n.$e(),t),i=vl(n.qe(),t);return new tr(e,i)}function $h(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.log10(e+t.Aa)+t.Ia;return n<0?-i:i}function bl(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.pow(10,e-t.Ia)-t.Aa;return n<0?-i:i}function ol(n,t){if(n===null)return null;const e=$h(n.$e(),t),i=$h(n.qe(),t);return new tr(e,i)}function fh(n,t){if(n===null)return null;const e=bl(n.$e(),t),i=bl(n.qe(),t);return new tr(e,i)}function Uf(n){if(n===null)return Yf;const t=Math.abs(n.qe()-n.$e());if(t>=1||t<1e-15)return Yf;const e=Math.ceil(Math.abs(Math.log10(t))),i=Yf.Ia+e;return{Ia:i,Aa:1/Math.pow(10,i)}}function xl(n,t,e){return Math.min(Math.max(n,t),e)}function ph(n,t,e){return t-n<=e}class Xf{constructor(t,e){if(this.Ba=t,this.Ea=e,function(i){if(i<0)return!1;for(let r=i;r>1;r/=10)if(r%10!=0)return!1;return!0}(this.Ba))this.za=[2,2.5,2];else{this.za=[];for(let i=this.Ba;i!==1;){if(i%2==0)this.za.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),i/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,i){const r=this.Ba===0?0:1/this.Ba;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),a=0,o=this.Ea[0];for(;;){const p=ph(s,r,1e-14)&&s>r+1e-14,g=ph(s,i*o,1e-14),y=ph(s,1,1e-14);if(!(p&&g&&y))break;s/=o,o=this.Ea[++a%this.Ea.length]}if(s<=r+1e-14&&(s=r),s=Math.max(1,s),this.za.length>0&&(u=s,c=1,f=1e-14,Math.abs(u-c)<f))for(a=0,o=this.za[0];ph(s,i*o,1e-14)&&s>r+1e-14;)s/=o,o=this.za[++a%this.za.length];var u,c,f;return s}}class yb{constructor(t,e,i,r){this.Oa=[],this.Yi=t,this.Ba=e,this.Na=i,this.Wa=r}La(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),r=(t-e)*this.Fa()/i,s=new Xf(this.Ba,[2,2.5,2]),a=new Xf(this.Ba,[2,2,2.5]),o=new Xf(this.Ba,[2.5,2,2]),u=[];return u.push(s.La(t,e,r),a.La(t,e,r),o.La(t,e,r)),function(c){if(c.length<1)throw Error("array is empty");let f=c[0];for(let p=1;p<c.length;++p)c[p]<f&&(f=c[p]);return f}(u)}Ha(){const t=this.Yi,e=t.zt();if(e===null)return void(this.Oa=[]);const i=t.$t(),r=this.Na(i-1,e),s=this.Na(0,e),a=this.Yi.N().entireTextOnly?this.Ua()/2:0,o=a,u=i-1-a,c=Math.max(r,s),f=Math.min(r,s);if(c===f)return void(this.Oa=[]);let p=this.La(c,f),g=c%p;g+=g<0?p:0;const y=c>=f?1:-1;let b=null,x=0;for(let w=c-g;w>f;w-=p){const P=this.Wa(w,e,!0);b!==null&&Math.abs(P-b)<this.Fa()||P<o||P>u||(x<this.Oa.length?(this.Oa[x].ka=P,this.Oa[x].$a=t.qa(w)):this.Oa.push({ka:P,$a:t.qa(w)}),x++,b=P,t.Ya()&&(p=this.La(w*y,f)))}this.Oa.length=x}Va(){return this.Oa}Ua(){return this.Yi.k()}Fa(){return Math.ceil(2.5*this.Ua())}}function w0(n){return n.slice().sort((t,e)=>me(t.hs())-me(e.hs()))}var vb;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(vb||(vb={}));const bb=new m0,xb=new jc(100,1);class Mj{constructor(t,e,i,r,s){this.ja=0,this.Za=null,this.Ge=null,this.Ka=null,this.Xa={Ga:!1,Ja:null},this.Qa=0,this.tl=0,this.il=new pi,this.sl=new pi,this.nl=[],this.el=null,this.rl=null,this.hl=null,this.al=null,this.ha=xb,this.ll=Uf(null),this.ol=t,this.ys=e,this._l=i,this.ul=r,this.cl=s,this.dl=new yb(this,100,this.fl.bind(this),this.pl.bind(this))}wa(){return this.ol}N(){return this.ys}hr(t){if(Zr(this.ys,t),this.ga(),t.mode!==void 0&&this.vl({ie:t.mode}),t.scaleMargins!==void 0){const e=ir(t.scaleMargins.top),i=ir(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.ml(),this.rl=null}}wl(){return this.ys.autoScale}Ya(){return this.ys.mode===1}Le(){return this.ys.mode===2}gl(){return this.ys.mode===3}ie(){return{sn:this.ys.autoScale,Ml:this.ys.invertScale,ie:this.ys.mode}}vl(t){const e=this.ie();let i=null;t.sn!==void 0&&(this.ys.autoScale=t.sn),t.ie!==void 0&&(this.ys.mode=t.ie,t.ie!==2&&t.ie!==3||(this.ys.autoScale=!0),this.Xa.Ga=!1),e.ie===1&&t.ie!==e.ie&&(function(s,a){if(s===null)return!1;const o=bl(s.$e(),a),u=bl(s.qe(),a);return isFinite(o)&&isFinite(u)}(this.Ge,this.ll)?(i=fh(this.Ge,this.ll),i!==null&&this.bl(i)):this.ys.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(i=ol(this.Ge,this.ll),i!==null&&this.bl(i));const r=e.ie!==this.ys.mode;r&&(e.ie===2||this.Le())&&this.ga(),r&&(e.ie===3||this.gl())&&this.ga(),t.Ml!==void 0&&e.Ml!==t.Ml&&(this.ys.invertScale=t.Ml,this.xl()),this.sl.p(e,this.ie())}Sl(){return this.sl}k(){return this._l.fontSize}$t(){return this.ja}Cl(t){this.ja!==t&&(this.ja=t,this.ml(),this.rl=null)}yl(){if(this.Za)return this.Za;const t=this.$t()-this.kl()-this.Pl();return this.Za=t,t}Qe(){return this.Tl(),this.Ge}bl(t,e){const i=this.Ge;(e||i===null&&t!==null||i!==null&&!i.He(t))&&(this.rl=null,this.Ge=t)}Zi(){return this.Tl(),this.ja===0||!this.Ge||this.Ge.Zi()}Rl(t){return this.Ml()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=eo(t,e):this.gl()&&(t=vl(t,e)),this.pl(t,e)}Dl(t,e,i){this.Tl();const r=this.Pl(),s=me(this.Qe()),a=s.$e(),o=s.qe(),u=this.yl()-1,c=this.Ml(),f=u/(o-a),p=i===void 0?0:i.from,g=i===void 0?t.length:i.to,y=this.Vl();for(let b=p;b<g;b++){const x=t[b],w=x.gt;if(isNaN(w))continue;let P=w;y!==null&&(P=y(x.gt,e));const S=r+f*(P-a),k=c?S:this.ja-1-S;x.ut=k}}Il(t,e,i){this.Tl();const r=this.Pl(),s=me(this.Qe()),a=s.$e(),o=s.qe(),u=this.yl()-1,c=this.Ml(),f=u/(o-a),p=i===void 0?0:i.from,g=i===void 0?t.length:i.to,y=this.Vl();for(let b=p;b<g;b++){const x=t[b];let w=x.qh,P=x.Yh,S=x.jh,k=x.Zh;y!==null&&(w=y(x.qh,e),P=y(x.Yh,e),S=y(x.jh,e),k=y(x.Zh,e));let T=r+f*(w-a),j=c?T:this.ja-1-T;x.Al=j,T=r+f*(P-a),j=c?T:this.ja-1-T,x.Bl=j,T=r+f*(S-a),j=c?T:this.ja-1-T,x.El=j,T=r+f*(k-a),j=c?T:this.ja-1-T,x.zl=j}}Ts(t,e){const i=this.fl(t,e);return this.Ll(i,e)}Ll(t,e){let i=t;return this.Le()?i=function(r,s){return s<0&&(r=-r),r/100*s+s}(i,e):this.gl()&&(i=function(r,s){return r-=100,s<0&&(r=-r),r/100*s+s}(i,e)),i}ba(){return this.nl}Dt(){if(this.el)return this.el;let t=[];for(let e=0;e<this.nl.length;e++){const i=this.nl[e];i.hs()===null&&i.ls(e+1),t.push(i)}return t=w0(t),this.el=t,this.el}Ol(t){this.nl.indexOf(t)===-1&&(this.nl.push(t),this.ga(),this.Nl())}Wl(t){const e=this.nl.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.nl.splice(e,1),this.nl.length===0&&(this.vl({sn:!0}),this.bl(null)),this.ga(),this.Nl()}zt(){let t=null;for(const e of this.nl){const i=e.zt();i!==null&&(t===null||i.Hh<t.Hh)&&(t=i)}return t===null?null:t.Ft}Ml(){return this.ys.invertScale}Va(){const t=this.zt()===null;if(this.rl!==null&&(t||this.rl.Fl===t))return this.rl.Va;this.dl.Ha();const e=this.dl.Va();return this.rl={Va:e,Fl:t},this.il.p(),e}Hl(){return this.il}Ul(t){this.Le()||this.gl()||this.hl===null&&this.Ka===null&&(this.Zi()||(this.hl=this.ja-t,this.Ka=me(this.Qe()).Ue()))}$l(t){if(this.Le()||this.gl()||this.hl===null)return;this.vl({sn:!1}),(t=this.ja-t)<0&&(t=0);let e=(this.hl+.2*(this.ja-1))/(t+.2*(this.ja-1));const i=me(this.Ka).Ue();e=Math.max(e,.1),i.je(e),this.bl(i)}ql(){this.Le()||this.gl()||(this.hl=null,this.Ka=null)}Yl(t){this.wl()||this.al===null&&this.Ka===null&&(this.Zi()||(this.al=t,this.Ka=me(this.Qe()).Ue()))}jl(t){if(this.wl()||this.al===null)return;const e=me(this.Qe()).Ye()/(this.yl()-1);let i=t-this.al;this.Ml()&&(i*=-1);const r=i*e,s=me(this.Ka).Ue();s.Ze(r),this.bl(s,!0),this.rl=null}Zl(){this.wl()||this.al!==null&&(this.al=null,this.Ka=null)}ra(){return this.ha||this.ga(),this.ha}Xi(t,e){switch(this.ys.mode){case 2:return this.Kl(eo(t,e));case 3:return this.ra().format(vl(t,e));default:return this.nr(t)}}qa(t){switch(this.ys.mode){case 2:return this.Kl(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Dh(t){return this.nr(t,me(this.Xl()).ra())}Vh(t,e){return t=eo(t,e),this.Kl(t,bb)}Gl(){return this.nl}Jl(t){this.Xa={Ja:t,Ga:!1}}Ns(){this.nl.forEach(t=>t.Ns())}ga(){this.rl=null;const t=this.Xl();let e=100;t!==null&&(e=Math.round(1/t.ea())),this.ha=xb,this.Le()?(this.ha=bb,e=100):this.gl()?(this.ha=new jc(100,1),e=100):t!==null&&(this.ha=t.ra()),this.dl=new yb(this,e,this.fl.bind(this),this.pl.bind(this)),this.dl.Ha()}Nl(){this.el=null}Ki(){return this.cl}Xl(){return this.nl[0]||null}kl(){return this.Ml()?this.ys.scaleMargins.bottom*this.$t()+this.tl:this.ys.scaleMargins.top*this.$t()+this.Qa}Pl(){return this.Ml()?this.ys.scaleMargins.top*this.$t()+this.Qa:this.ys.scaleMargins.bottom*this.$t()+this.tl}Tl(){this.Xa.Ga||(this.Xa.Ga=!0,this.Ql())}ml(){this.Za=null}pl(t,e){if(this.Tl(),this.Zi())return 0;t=this.Ya()&&t?$h(t,this.ll):t;const i=me(this.Qe()),r=this.Pl()+(this.yl()-1)*(t-i.$e())/i.Ye();return this.Rl(r)}fl(t,e){if(this.Tl(),this.Zi())return 0;const i=this.Rl(t),r=me(this.Qe()),s=r.$e()+r.Ye()*((i-this.Pl())/(this.yl()-1));return this.Ya()?bl(s,this.ll):s}xl(){this.rl=null,this.dl.Ha()}Ql(){const t=this.Xa.Ja;if(t===null)return;let e=null;const i=this.Gl();let r=0,s=0;for(const u of i){if(!u.Vt())continue;const c=u.zt();if(c===null)continue;const f=u.Mh(t.Uh(),t.bi());let p=f&&f.Qe();if(p!==null){switch(this.ys.mode){case 1:p=ol(p,this.ll);break;case 2:p=Oj(p,c.Ft);break;case 3:p=Tj(p,c.Ft)}if(e=e===null?p:e.vn(me(p)),f!==null){const g=f.tr();g!==null&&(r=Math.max(r,g.above),s=Math.max(s,g.below))}}}if(r===this.Qa&&s===this.tl||(this.Qa=r,this.tl=s,this.rl=null,this.ml()),e!==null){if(e.$e()===e.qe()){const u=this.Xl(),c=5*(u===null||this.Le()||this.gl()?1:u.ea());this.Ya()&&(e=fh(e,this.ll)),e=new tr(e.$e()-c,e.qe()+c),this.Ya()&&(e=ol(e,this.ll))}if(this.Ya()){const u=fh(e,this.ll),c=Uf(u);if(a=c,o=this.ll,a.Ia!==o.Ia||a.Aa!==o.Aa){const f=this.Ka!==null?fh(this.Ka,this.ll):null;this.ll=c,e=ol(u,c),f!==null&&(this.Ka=ol(f,c))}}this.bl(e)}else this.Ge===null&&(this.bl(new tr(-.5,.5)),this.ll=Uf(null));var a,o;this.Xa.Ga=!0}Vl(){return this.Le()?eo:this.gl()?vl:this.Ya()?t=>$h(t,this.ll):null}io(t,e,i){return e===void 0?(i===void 0&&(i=this.ra()),i.format(t)):e(t)}nr(t,e){return this.io(t,this.ul.priceFormatter,e)}Kl(t,e){return this.io(t,this.ul.percentageFormatter,e)}}function wb(n){return n instanceof Dc}class _b{constructor(t,e){this.nl=[],this.so=new Map,this.ja=0,this.no=0,this.eo=1e3,this.el=null,this.ro=new pi,this.kh=[],this.uh=t,this.ts=e,this.ho=new kj(this);const i=e.N();this.ao=this.lo("left",i.leftPriceScale),this.oo=this.lo("right",i.rightPriceScale),this.ao.Sl().i(this._o.bind(this,this.ao),this),this.oo.Sl().i(this._o.bind(this,this.oo),this),this.uo(i)}uo(t){if(t.leftPriceScale&&this.ao.hr(t.leftPriceScale),t.rightPriceScale&&this.oo.hr(t.rightPriceScale),t.localization&&(this.ao.ga(),this.oo.ga()),t.overlayPriceScales){const e=Array.from(this.so.values());for(const i of e){const r=me(i[0].Wt());r.hr(t.overlayPriceScales),t.localization&&r.ga()}}}co(t){switch(t){case"left":return this.ao;case"right":return this.oo}return this.so.has(t)?ir(this.so.get(t))[0].Wt():null}m(){this.Qt().do().u(this),this.ao.Sl().u(this),this.oo.Sl().u(this),this.nl.forEach(t=>{t.m&&t.m()}),this.kh=this.kh.filter(t=>{const e=t.oh();return e.detached&&e.detached(),!1}),this.ro.p()}fo(){return this.eo}po(t){this.eo=t}Qt(){return this.ts}Qi(){return this.no}$t(){return this.ja}vo(t){this.no=t,this.mo()}Cl(t){this.ja=t,this.ao.Cl(t),this.oo.Cl(t),this.nl.forEach(e=>{if(this.Un(e)){const i=e.Wt();i!==null&&i.Cl(t)}}),this.mo()}wo(){return this.nl.filter(wb)}ba(){return this.nl}Un(t){const e=t.Wt();return e===null||this.ao!==e&&this.oo!==e}Ol(t,e,i){const r=i!==void 0?i:this.bo().Mo+1;this.xo(t,e,r)}Wl(t){const e=this.nl.indexOf(t);Xi(e!==-1,"removeDataSource: invalid data source"),this.nl.splice(e,1);const i=me(t.Wt()).wa();if(this.so.has(i)){const s=ir(this.so.get(i)),a=s.indexOf(t);a!==-1&&(s.splice(a,1),s.length===0&&this.so.delete(i))}const r=t.Wt();r&&r.ba().indexOf(t)>=0&&r.Wl(t),r!==null&&(r.Nl(),this.So(r)),this.el=null}qn(t){return t===this.ao?"left":t===this.oo?"right":"overlay"}Co(){return this.ao}yo(){return this.oo}ko(t,e){t.Ul(e)}Po(t,e){t.$l(e),this.mo()}To(t){t.ql()}Ro(t,e){t.Yl(e)}Do(t,e){t.jl(e),this.mo()}Vo(t){t.Zl()}mo(){this.nl.forEach(t=>{t.Ns()})}Ps(){let t=null;return this.ts.N().rightPriceScale.visible&&this.oo.ba().length!==0?t=this.oo:this.ts.N().leftPriceScale.visible&&this.ao.ba().length!==0?t=this.ao:this.nl.length!==0&&(t=this.nl[0].Wt()),t===null&&(t=this.oo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.oo:this.ts.N().leftPriceScale.visible&&(t=this.ao),t}So(t){t!==null&&t.wl()&&this.Io(t)}Ao(t){const e=this.uh.ye();t.vl({sn:!0}),e!==null&&t.Jl(e),this.mo()}Bo(){this.Io(this.ao),this.Io(this.oo)}Eo(){this.So(this.ao),this.So(this.oo),this.nl.forEach(t=>{this.Un(t)&&this.So(t.Wt())}),this.mo(),this.ts.ar()}Dt(){return this.el===null&&(this.el=w0(this.nl)),this.el}It(){return this.Dt().filter(wb)}zo(){return this.ro}Lo(){return this.ho}ua(t){this.kh.push(new yj(t))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t),t.detached&&t.detached(),this.ts.ar()}Oo(){return this.kh}sa(t,e){return this.kh.map(i=>i.jn(t,e)).filter(i=>i!==null)}Io(t){const e=t.Gl();if(e&&e.length>0&&!this.uh.Zi()){const i=this.uh.ye();i!==null&&t.Jl(i)}t.Ns()}bo(){const t=this.Dt();if(t.length===0)return{No:0,Mo:0};let e=0,i=0;for(let r=0;r<t.length;r++){const s=t[r].hs();s!==null&&(s<e&&(e=s),s>i&&(i=s))}return{No:e,Mo:i}}xo(t,e,i){let r=this.co(e);if(r===null&&(r=this.lo(e,this.ts.N().overlayPriceScales)),this.nl.push(t),!Sc(e)){const s=this.so.get(e)||[];s.push(t),this.so.set(e,s)}r.Ol(t),t._s(r),t.ls(i),this.So(r),this.el=null}_o(t,e,i){e.ie!==i.ie&&this.Io(t)}lo(t,e){const i={visible:!0,autoScale:!0,...Ln(e)},r=new Mj(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Ki());return r.Cl(this.$t()),r}}function mh(n){return{Wo:n.Wo,Fo:{Zn:n.Ho.externalId},Uo:n.Ho.cursorStyle}}function Fj(n,t,e,i){for(const r of n){const s=r.Tt(i);if(s!==null&&s.jn){const a=s.jn(t,e);if(a!==null)return{$o:r,Fo:a}}}return null}function Ej(n){return n.Ws!==void 0}function _0(n,t,e){const i=[n,...n.Dt()],r=function(s,a,o){var g;let u,c;for(const y of s){const b=((g=y.sa)==null?void 0:g.call(y,a,o))??[];for(const x of b)f=x.zOrder,p=u==null?void 0:u.zOrder,(!p||f==="top"&&p!=="top"||f==="normal"&&p==="bottom")&&(u=x,c=y)}var f,p;return u&&c?{Ho:u,Wo:c}:null}(i,t,e);if((r==null?void 0:r.Ho.zOrder)==="top")return mh(r);for(const s of i){if(r&&r.Wo===s&&r.Ho.zOrder!=="bottom"&&!r.Ho.isBackground)return mh(r);if(Ej(s)){const a=Fj(s.Ws(n),t,e,n);if(a!==null)return{Wo:s,$o:a.$o,Fo:a.Fo}}if(r&&r.Wo===s&&r.Ho.zOrder!=="bottom"&&r.Ho.isBackground)return mh(r)}return r!=null&&r.Ho?mh(r):null}class Vj{constructor(t,e,i=50){this.kn=0,this.Pn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.qo=t,this.Yo=e,this.Vn=i}jo(t){const e=t.time,i=this.Yo.cacheKey(e),r=this.Dn.get(i);if(r!==void 0)return r.Zo;if(this.kn===this.Vn){const a=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(ir(a)),this.Tn++,this.kn--}const s=this.qo(t);return this.Dn.set(i,{Zo:s,En:this.Pn}),this.Rn.set(this.Pn,i),this.kn++,this.Pn++,s}}class wl{constructor(t,e){Xi(t<=e,"right should be >= left"),this.Ko=t,this.Xo=e}Uh(){return this.Ko}bi(){return this.Xo}Go(){return this.Xo-this.Ko+1}Te(t){return this.Ko<=t&&t<=this.Xo}He(t){return this.Ko===t.Uh()&&this.Xo===t.bi()}}function Pb(n,t){return n===null||t===null?n===t:n.He(t)}class Aj{constructor(){this.Jo=new Map,this.Dn=null,this.Qo=!1}t_(t){this.Qo=t,this.Dn=null}i_(t,e){this.s_(e),this.Dn=null;for(let i=e;i<t.length;++i){const r=t[i];let s=this.Jo.get(r.timeWeight);s===void 0&&(s=[],this.Jo.set(r.timeWeight,s)),s.push({index:i,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}n_(t,e,i,r,s){const a=Math.ceil(e/t);return this.Dn!==null&&this.Dn.e_===a&&s===this.Dn.r_&&i===this.Dn.h_||(this.Dn={r_:s,h_:i,Va:this.a_(a,i,r),e_:a}),this.Dn.Va}s_(t){if(t===0)return void this.Jo.clear();const e=[];this.Jo.forEach((i,r)=>{t<=i[0].index?e.push(r):i.splice(lo(i,t,s=>s.index<t),1/0)});for(const i of e)this.Jo.delete(i)}a_(t,e,i){let r=[];const s=a=>!e||i.has(a.index);for(const a of Array.from(this.Jo.keys()).sort((o,u)=>u-o)){if(!this.Jo.get(a))continue;const o=r;r=[];const u=o.length;let c=0;const f=ir(this.Jo.get(a)),p=f.length;let g=1/0,y=-1/0;for(let b=0;b<p;b++){const x=f[b],w=x.index;for(;c<u;){const P=o[c],S=P.index;if(!(S<w&&s(P))){g=S;break}c++,r.push(P),y=S,g=1/0}if(g-w>=t&&w-y>=t&&s(x))r.push(x),y=w;else if(this.Qo)return o}for(;c<u;c++)s(o[c])&&r.push(o[c])}return r}}class no{constructor(t){this.l_=t}o_(){return this.l_===null?null:new wl(Math.floor(this.l_.Uh()),Math.ceil(this.l_.bi()))}__(){return this.l_}static u_(){return new no(null)}}function Ij(n,t){return n.weight>t.weight?n:t}class Rj{constructor(t,e,i,r){this.no=0,this.c_=null,this.d_=[],this.al=null,this.hl=null,this.f_=new Aj,this.p_=new Map,this.v_=no.u_(),this.m_=!0,this.w_=new pi,this.g_=new pi,this.M_=new pi,this.b_=null,this.x_=null,this.S_=new Map,this.C_=-1,this.y_=[],this.ys=e,this.ul=i,this.k_=e.rightOffset,this.P_=e.barSpacing,this.ts=t,this.Yo=r,this.T_(),this.f_.t_(e.uniformDistribution),this.R_()}N(){return this.ys}D_(t){Zr(this.ul,t),this.V_(),this.T_()}hr(t,e){Zr(this.ys,t),this.ys.fixLeftEdge&&this.I_(),this.ys.fixRightEdge&&this.A_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.P_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.ys.ignoreWhitespaceIndices&&this.R_(),this.V_(),this.T_(),this.M_.p()}Rs(t){var e;return((e=this.d_[t])==null?void 0:e.time)??null}ss(t){return this.d_[t]??null}B_(t,e){if(this.d_.length<1)return null;if(this.Yo.key(t)>this.Yo.key(this.d_[this.d_.length-1].time))return e?this.d_.length-1:null;const i=lo(this.d_,this.Yo.key(t),(r,s)=>this.Yo.key(r.time)<s);return this.Yo.key(t)<this.Yo.key(this.d_[i].time)?e?i:null:i}Zi(){return this.no===0||this.d_.length===0||this.c_===null}E_(){return this.d_.length>0}ye(){return this.z_(),this.v_.o_()}L_(){return this.z_(),this.v_.__()}O_(){const t=this.ye();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.N_(e)}N_(t){const e=Math.round(t.from),i=Math.round(t.to),r=me(this.W_()),s=me(this.F_());return{from:me(this.ss(Math.max(r,e))),to:me(this.ss(Math.min(s,i)))}}H_(t){return{from:me(this.B_(t.from,!0)),to:me(this.B_(t.to,!0))}}Qi(){return this.no}vo(t){if(!isFinite(t)||t<=0||this.no===t)return;const e=this.L_(),i=this.no;if(this.no=t,this.m_=!0,this.ys.lockVisibleTimeRangeOnResize&&i!==0){const r=this.P_*t/i;this.P_=r}if(this.ys.fixLeftEdge&&e!==null&&e.Uh()<=0){const r=i-t;this.k_-=Math.round(r/this.P_)+1,this.m_=!0}this.U_(),this.q_()}qt(t){if(this.Zi()||!jl(t))return 0;const e=this.Y_()+this.k_-t;return this.no-(e+.5)*this.P_-1}j_(t,e){const i=this.Y_(),r=e===void 0?0:e.from,s=e===void 0?t.length:e.to;for(let a=r;a<s;a++){const o=t[a].wt,u=i+this.k_-o,c=this.no-(u+.5)*this.P_-1;t[a]._t=c}}Z_(t,e){const i=Math.ceil(this.K_(t));return e&&this.ys.ignoreWhitespaceIndices&&!this.X_(i)?this.G_(i):i}fn(t){this.m_=!0,this.k_=t,this.q_(),this.ts.J_(),this.ts.ar()}Q_(){return this.P_}dn(t){this.tu(t),this.q_(),this.ts.J_(),this.ts.ar()}iu(){return this.k_}Va(){if(this.Zi())return null;if(this.x_!==null)return this.x_;const t=this.P_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.ys.tickMarkMaxCharacterLength||8),i=Math.round(e/t),r=me(this.ye()),s=Math.max(r.Uh(),r.Uh()-i),a=Math.max(r.bi(),r.bi()-i),o=this.f_.n_(t,e,this.ys.ignoreWhitespaceIndices,this.S_,this.C_),u=this.W_()+i,c=this.F_()-i,f=this.su(),p=this.ys.fixLeftEdge||f,g=this.ys.fixRightEdge||f;let y=0;for(const b of o){if(!(s<=b.index&&b.index<=a))continue;let x;y<this.y_.length?(x=this.y_[y],x.coord=this.qt(b.index),x.label=this.nu(b),x.weight=b.weight):(x={needAlignCoordinate:!1,coord:this.qt(b.index),label:this.nu(b),weight:b.weight},this.y_.push(x)),this.P_>e/2&&!f?x.needAlignCoordinate=!1:x.needAlignCoordinate=p&&b.index<=u||g&&b.index>=c,y++}return this.y_.length=y,this.x_=this.y_,this.y_}eu(){this.m_=!0,this.dn(this.ys.barSpacing),this.fn(this.ys.rightOffset)}ru(t){this.m_=!0,this.c_=t,this.q_(),this.I_()}hu(t,e){const i=this.K_(t),r=this.Q_(),s=r+e*(r/10);this.dn(s),this.ys.rightBarStaysOnScroll||this.fn(this.iu()+(i-this.K_(t)))}Ul(t){this.al&&this.Zl(),this.hl===null&&this.b_===null&&(this.Zi()||(this.hl=t,this.au()))}$l(t){if(this.b_===null)return;const e=xl(this.no-t,0,this.no),i=xl(this.no-me(this.hl),0,this.no);e!==0&&i!==0&&this.dn(this.b_.Q_*e/i)}ql(){this.hl!==null&&(this.hl=null,this.lu())}Yl(t){this.al===null&&this.b_===null&&(this.Zi()||(this.al=t,this.au()))}jl(t){if(this.al===null)return;const e=(this.al-t)/this.Q_();this.k_=me(this.b_).iu+e,this.m_=!0,this.q_()}Zl(){this.al!==null&&(this.al=null,this.lu())}ou(){this._u(this.ys.rightOffset)}_u(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.k_,r=performance.now();this.ts._n({uu:s=>(s-r)/e>=1,cu:s=>{const a=(s-r)/e;return a>=1?t:i+(t-i)*a}})}kt(t,e){this.m_=!0,this.d_=t,this.f_.i_(t,e),this.q_()}du(){return this.w_}fu(){return this.g_}pu(){return this.M_}Y_(){return this.c_||0}vu(t){const e=t.Go();this.tu(this.no/e),this.k_=t.bi()-this.Y_(),this.q_(),this.m_=!0,this.ts.J_(),this.ts.ar()}mu(){const t=this.W_(),e=this.F_();t!==null&&e!==null&&this.vu(new wl(t,e+this.ys.rightOffset))}wu(t){const e=new wl(t.from,t.to);this.vu(e)}ns(t){return this.ul.timeFormatter!==void 0?this.ul.timeFormatter(t.originalTime):this.Yo.formatHorzItem(t.time)}R_(){if(!this.ys.ignoreWhitespaceIndices)return;this.S_.clear();const t=this.ts.js();for(const e of t)for(const i of e.ma())this.S_.set(i,!0);this.C_++}su(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}W_(){return this.d_.length===0?null:0}F_(){return this.d_.length===0?null:this.d_.length-1}gu(t){return(this.no-1-t)/this.P_}K_(t){const e=this.gu(t),i=this.Y_()+this.k_-e;return Math.round(1e6*i)/1e6}tu(t){const e=this.P_;this.P_=t,this.U_(),e!==this.P_&&(this.m_=!0,this.Mu())}z_(){if(!this.m_)return;if(this.m_=!1,this.Zi())return void this.bu(no.u_());const t=this.Y_(),e=this.no/this.P_,i=this.k_+t,r=new wl(i-e+1,i);this.bu(new no(r))}U_(){const t=xl(this.P_,this.xu(),this.Su());this.P_!==t&&(this.P_=t,this.m_=!0)}Su(){return this.ys.maxBarSpacing>0?this.ys.maxBarSpacing:.5*this.no}xu(){return this.ys.fixLeftEdge&&this.ys.fixRightEdge&&this.d_.length!==0?this.no/this.d_.length:this.ys.minBarSpacing}q_(){const t=this.Cu();t!==null&&this.k_<t&&(this.k_=t,this.m_=!0);const e=this.yu();this.k_>e&&(this.k_=e,this.m_=!0)}Cu(){const t=this.W_(),e=this.c_;return t===null||e===null?null:t-e-1+(this.ys.fixLeftEdge?this.no/this.P_:Math.min(2,this.d_.length))}yu(){return this.ys.fixRightEdge?0:this.no/this.P_-Math.min(2,this.d_.length)}au(){this.b_={Q_:this.Q_(),iu:this.iu()}}lu(){this.b_=null}nu(t){let e=this.p_.get(t.weight);return e===void 0&&(e=new Vj(i=>this.ku(i),this.Yo),this.p_.set(t.weight,e)),e.jo(t)}ku(t){return this.Yo.formatTickmark(t,this.ul)}bu(t){const e=this.v_;this.v_=t,Pb(e.o_(),this.v_.o_())||this.w_.p(),Pb(e.__(),this.v_.__())||this.g_.p(),this.Mu()}Mu(){this.x_=null}V_(){this.Mu(),this.p_.clear()}T_(){this.Yo.updateFormatter(this.ul)}I_(){if(!this.ys.fixLeftEdge)return;const t=this.W_();if(t===null)return;const e=this.ye();if(e===null)return;const i=e.Uh()-t;if(i<0){const r=this.k_-i-1;this.fn(r)}this.U_()}A_(){this.q_(),this.U_()}X_(t){return!this.ys.ignoreWhitespaceIndices||this.S_.get(t)||!1}G_(t){const e=function*(r){const s=Math.round(r),a=s<r;let o=1;for(;;)a?(yield s+o,yield s-o):(yield s-o,yield s+o),o++}(t),i=this.F_();for(;i;){const r=e.next().value;if(this.S_.get(r))return r;if(r<0||r>i)break}return t}}var Cb,Sb,jb,Db,kb;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(Cb||(Cb={}));class Lj{constructor(t,e,i){this.Pu=[],this.Tu=[],this.no=0,this.Ru=null,this.Du=new pi,this.Vu=new pi,this.Iu=null,this.Au=t,this.ys=e,this.Yo=i,this.cl=new B2(this.ys.layout.colorParsers),this.Bu=new z2(this),this.uh=new Rj(this,e.timeScale,this.ys.localization,i),this.Ct=new Q2(this,e.crosshair),this.Eu=new Sj(e.crosshair),this.zu(0),this.Pu[0].po(2e3),this.Lu=this.Ou(0),this.Nu=this.Ou(1)}Ah(){this.Wu(Ii.gn())}ar(){this.Wu(Ii.wn())}Xh(){this.Wu(new Ii(1))}Bh(t){const e=this.Fu(t);this.Wu(e)}Hu(){return this.Ru}Uu(t){var i,r,s,a;if(((i=this.Ru)==null?void 0:i.Wo)===(t==null?void 0:t.Wo)&&((s=(r=this.Ru)==null?void 0:r.Fo)==null?void 0:s.Zn)===((a=t==null?void 0:t.Fo)==null?void 0:a.Zn))return;const e=this.Ru;this.Ru=t,e!==null&&this.Bh(e.Wo),t!==null&&t.Wo!==(e==null?void 0:e.Wo)&&this.Bh(t.Wo)}N(){return this.ys}hr(t){Zr(this.ys,t),this.Pu.forEach(e=>e.uo(t)),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.D_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Du.p(),this.Lu=this.Ou(0),this.Nu=this.Ou(1),this.Ah()}$u(t,e){if(t==="left")return void this.hr({leftPriceScale:e});if(t==="right")return void this.hr({rightPriceScale:e});const i=this.qu(t);i!==null&&(i.Wt.hr(e),this.Du.p())}qu(t){for(const e of this.Pu){const i=e.co(t);if(i!==null)return{Us:e,Wt:i}}return null}Bt(){return this.uh}$s(){return this.Pu}Yu(){return this.Ct}ju(){return this.Vu}Zu(t,e){t.Cl(e),this.J_()}vo(t){this.no=t,this.uh.vo(this.no),this.Pu.forEach(e=>e.vo(t)),this.J_()}Ku(t){this.Pu.length!==1&&(Xi(t>=0&&t<this.Pu.length,"Invalid pane index"),this.Pu.splice(t,1),this.Ah())}Xu(t,e){if(this.Pu.length<2)return;Xi(t>=0&&t<this.Pu.length,"Invalid pane index");const i=this.Pu[t],r=this.Pu.reduce((p,g)=>p+g.fo(),0),s=this.Pu.reduce((p,g)=>p+g.$t(),0),a=s-30*(this.Pu.length-1);e=Math.min(a,Math.max(30,e));const o=r/s,u=i.$t();i.po(e*o);let c=e-u,f=this.Pu.length-1;for(const p of this.Pu)if(p!==i){const g=Math.min(a,Math.max(30,p.$t()-c/f));c-=p.$t()-g,f-=1;const y=g*o;p.po(y)}this.Ah()}Gu(t,e){Xi(t>=0&&t<this.Pu.length&&e>=0&&e<this.Pu.length,"Invalid pane index");const i=this.Pu[t],r=this.Pu[e];this.Pu[t]=r,this.Pu[e]=i,this.Ah()}ko(t,e,i){t.ko(e,i)}Po(t,e,i){t.Po(e,i),this.Eh(),this.Wu(this.Ju(t,2))}To(t,e){t.To(e),this.Wu(this.Ju(t,2))}Ro(t,e,i){e.wl()||t.Ro(e,i)}Do(t,e,i){e.wl()||(t.Do(e,i),this.Eh(),this.Wu(this.Ju(t,2)))}Vo(t,e){e.wl()||(t.Vo(e),this.Wu(this.Ju(t,2)))}Ao(t,e){t.Ao(e),this.Wu(this.Ju(t,2))}Qu(t){this.uh.Ul(t)}tc(t,e){const i=this.Bt();if(i.Zi()||e===0)return;const r=i.Qi();t=Math.max(1,Math.min(t,r)),i.hu(t,e),this.J_()}sc(t){this.nc(0),this.ec(t),this.rc()}hc(t){this.uh.$l(t),this.J_()}ac(){this.uh.ql(),this.ar()}nc(t){this.uh.Yl(t)}ec(t){this.uh.jl(t),this.J_()}rc(){this.uh.Zl(),this.ar()}js(){return this.Tu}lc(t,e,i,r,s){this.Ct.Vs(t,e);let a=NaN,o=this.uh.Z_(t,!0);const u=this.uh.ye();u!==null&&(o=Math.min(Math.max(u.Uh(),o),u.bi()));const c=r.Ps(),f=c.zt();f!==null&&(a=c.Ts(e,f)),a=this.Eu.Ma(a,o,r),this.Ct.Es(o,a,r),this.Xh(),s||(this.oc(r,t,e),this.Vu.p(this.Ct.At(),{x:t,y:e},i))}_c(t,e,i){const r=i.Ps(),s=r.zt(),a=r.Nt(t,me(s)),o=this.uh.B_(e,!0),u=this.uh.qt(me(o));this.lc(u,a,null,i,!0)}uc(t){this.Yu().Ls(),this.Xh(),t||this.Vu.p(null,null,null)}Eh(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.As(),i=this.Ct.Bs();this.lc(e,i,null,t)}this.Ct.Ns()}cc(t,e,i){const r=this.uh.Rs(0);e!==void 0&&i!==void 0&&this.uh.kt(e,i);const s=this.uh.Rs(0),a=this.uh.Y_(),o=this.uh.ye();if(o!==null&&r!==null&&s!==null){const u=o.Te(a),c=this.Yo.key(r)>this.Yo.key(s),f=t!==null&&t>a&&!c,p=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,g=u&&(i!==void 0||p)&&this.uh.N().shiftVisibleRangeOnNewBar;if(f&&!g){const y=t-a;this.uh.fn(this.uh.iu()-y)}}this.uh.ru(t)}Lh(t){t!==null&&t.Eo()}Hn(t){if(function(i){return i instanceof _b}(t))return t;const e=this.Pu.find(i=>i.Dt().includes(t));return e===void 0?null:e}J_(){this.Pu.forEach(t=>t.Eo()),this.Eh()}m(){this.Pu.forEach(t=>t.m()),this.Pu.length=0,this.ys.localization.priceFormatter=void 0,this.ys.localization.percentageFormatter=void 0,this.ys.localization.timeFormatter=void 0}dc(){return this.Bu}Yn(){return this.Bu.N()}do(){return this.Du}fc(t,e){const i=this.zu(e);this.vc(t,i),this.Tu.push(t),this.Tu.length===1?this.Ah():this.ar()}mc(t){const e=this.Hn(t),i=this.Tu.indexOf(t);Xi(i!==-1,"Series not found");const r=me(e);this.Tu.splice(i,1),r.Wl(t),t.m&&t.m(),this.uh.R_(),this.wc(r)}Ih(t,e){const i=me(this.Hn(t));i.Wl(t),i.Ol(t,e,me(t.hs()))}mu(){const t=Ii.wn();t.rn(),this.Wu(t)}gc(t){const e=Ii.wn();e.ln(t),this.Wu(e)}cn(){const t=Ii.wn();t.cn(),this.Wu(t)}dn(t){const e=Ii.wn();e.dn(t),this.Wu(e)}fn(t){const e=Ii.wn();e.fn(t),this.Wu(e)}_n(t){const e=Ii.wn();e._n(t),this.Wu(e)}hn(){const t=Ii.wn();t.hn(),this.Wu(t)}Mc(){return this.ys.rightPriceScale.visible?"right":"left"}bc(t,e){if(Xi(e>=0,"Index should be greater or equal to 0"),e===this.xc(t))return;const i=me(this.Hn(t));i.Wl(t);const r=this.zu(e);this.vc(t,r),i.ba().length===0&&this.wc(i)}Sc(){return this.Nu}$(){return this.Lu}Ut(t){const e=this.Nu,i=this.Lu;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Iu===null||this.Iu.mr!==i||this.Iu.wr!==e)this.Iu={mr:i,wr:e,Cc:new Map};else{const s=this.Iu.Cc.get(t);if(s!==void 0)return s}const r=this.cl.tt(i,e,t/100);return this.Iu.Cc.set(t,r),r}yc(t){return this.Pu.indexOf(t)}Ki(){return this.cl}oc(t,e,i){if(t){const r=_0(t,e,i);this.Uu(r&&{Wo:r.Wo,Fo:r.Fo})}}zu(t){if(Xi(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.Pu.length,t))<this.Pu.length)return this.Pu[t];const e=new _b(this.uh,this);this.Pu.push(e);const i=Ii.gn();return i.Qs(t,{tn:0,sn:!0}),this.Wu(i),e}xc(t){return this.Pu.findIndex(e=>e.wo().includes(t))}Ju(t,e){const i=new Ii(e);if(t!==null){const r=this.Pu.indexOf(t);i.Qs(r,{tn:e})}return i}Fu(t,e){return e===void 0&&(e=2),this.Ju(this.Hn(t),e)}Wu(t){this.Au&&this.Au(t),this.Pu.forEach(e=>e.Lo().lr().kt())}vc(t,e){const i=t.N().priceScaleId,r=i!==void 0?i:this.Mc();e.Ol(t,r),Sc(r)||t.hr(t.N())}Ou(t){const e=this.ys.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}wc(t){t.ba().length===0&&this.Pu.length>1&&(this.Pu.splice(this.yc(t),1),this.Ah())}}function Sp(n){return!oo(n)&&!Bl(n)}function P0(n){return oo(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(Sb||(Sb={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(jb||(jb={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(Db||(Db={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(kb||(kb={}));const Ob=n=>n.getUTCFullYear();function Nj(n,t,e){return t.replace(/yyyy/g,(i=>Nn(Ob(i),4))(n)).replace(/yy/g,(i=>Nn(Ob(i)%100,2))(n)).replace(/MMMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(n,e)).replace(/MMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(n,e)).replace(/MM/g,(i=>Nn((r=>r.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>Nn((r=>r.getUTCDate())(i),2))(n))}class C0{constructor(t="yyyy-MM-dd",e="default"){this.kc=t,this.Pc=e}jo(t){return Nj(t,this.kc,this.Pc)}}class zj{constructor(t){this.Tc=t||"%h:%m:%s"}jo(t){return this.Tc.replace("%h",Nn(t.getUTCHours(),2)).replace("%m",Nn(t.getUTCMinutes(),2)).replace("%s",Nn(t.getUTCSeconds(),2))}}const Bj={Rc:"yyyy-MM-dd",Dc:"%h:%m:%s",Vc:" ",Ic:"default"};class Hj{constructor(t={}){const e={...Bj,...t};this.Ac=new C0(e.Rc,e.Ic),this.Bc=new zj(e.Dc),this.Ec=e.Vc}jo(t){return`${this.Ac.jo(t)}${this.Ec}${this.Bc.jo(t)}`}}function gh(n){return 60*n*60*1e3}function $f(n){return 60*n*1e3}const yh=[{zc:(Tb=1,1e3*Tb),Lc:10},{zc:$f(1),Lc:20},{zc:$f(5),Lc:21},{zc:$f(30),Lc:22},{zc:gh(1),Lc:30},{zc:gh(3),Lc:31},{zc:gh(6),Lc:32},{zc:gh(12),Lc:33}];var Tb;function Mb(n,t){if(n.getUTCFullYear()!==t.getUTCFullYear())return 70;if(n.getUTCMonth()!==t.getUTCMonth())return 60;if(n.getUTCDate()!==t.getUTCDate())return 50;for(let e=yh.length-1;e>=0;--e)if(Math.floor(t.getTime()/yh[e].zc)!==Math.floor(n.getTime()/yh[e].zc))return yh[e].Lc;return 0}function Gf(n){let t=n;if(Bl(n)&&(t=mm(n)),!Sp(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Oc:Math.round(e.getTime()/1e3),Nc:t}}function Fb(n){if(!P0(n))throw new Error("time must be of type isUTCTimestamp");return{Oc:n}}function mm(n){const t=new Date(n);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Eb(n){Bl(n.time)&&(n.time=mm(n.time))}class Vb{options(){return this.ys}setOptions(t){this.ys=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(Eb)}(t):Eb(t)}createConverterToInternalObj(t){return me(function(e){return e.length===0?null:Sp(e[0].time)||Bl(e[0].time)?Gf:Fb}(t))}key(t){return typeof t=="object"&&"Oc"in t?t.Oc:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.Nc===void 0?new Date(1e3*e.Oc).getTime():new Date(Date.UTC(e.Nc.year,e.Nc.month-1,e.Nc.day)).getTime()}convertHorzItemToInternal(t){return P0(e=t)?Fb(e):Sp(e)?Gf(e):Gf(mm(e));var e}updateFormatter(t){if(!this.ys)return;const e=t.dateFormat;this.ys.timeScale.timeVisible?this.Wc=new Hj({Rc:e,Dc:this.ys.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Vc:"   ",Ic:t.locale}):this.Wc=new C0(e,t.locale)}formatHorzItem(t){const e=t;return this.Wc.jo(new Date(1e3*e.Oc))}formatTickmark(t,e){const i=function(s,a,o){switch(s){case 0:case 10:return a?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.ys.timeScale.timeVisible,this.ys.timeScale.secondsVisible),r=this.ys.timeScale;if(r.tickMarkFormatter!==void 0){const s=r.tickMarkFormatter(t.originalTime,i,e.locale);if(s!==null)return s}return function(s,a,o){const u={};switch(a){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const c=s.Nc===void 0?new Date(1e3*s.Oc):new Date(Date.UTC(s.Nc.year,s.Nc.month-1,s.Nc.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(o,u)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Ij,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(i,r=0){if(i.length===0)return;let s=r===0?null:i[r-1].time.Oc,a=s!==null?new Date(1e3*s):null,o=0;for(let u=r;u<i.length;++u){const c=i[u],f=new Date(1e3*c.time.Oc);a!==null&&(c.timeWeight=Mb(f,a)),o+=c.time.Oc-(s||c.time.Oc),s=c.time.Oc,a=f}if(r===0&&i.length>1){const u=Math.ceil(o/(i.length-1)),c=new Date(1e3*(i[0].time.Oc-u));i[0].timeWeight=Mb(new Date(1e3*i[0].time.Oc),c)}})(t,e)}static Fc(t){return Zr({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const uo=typeof window<"u";function Ab(){return!!uo&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Kf(){return!!uo&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function jp(n){return n+n%2}function Wj(n){uo&&window.chrome!==void 0&&n.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class kc{constructor(t,e,i){this.Hc=0,this.Uc=null,this.$c={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.qc=0,this.Yc=null,this.jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Zc=null,this.Kc=!1,this.Xc=null,this.Gc=null,this.Jc=!1,this.Qc=!1,this.td=!1,this.sd=null,this.nd=null,this.ed=null,this.rd=null,this.hd=null,this.ad=null,this.ld=null,this.od=0,this._d=!1,this.ud=!1,this.dd=!1,this.fd=0,this.pd=null,this.vd=!Kf(),this.md=r=>{this.wd(r)},this.gd=r=>{if(this.Md(r)){const s=this.bd(r);if(++this.qc,this.Yc&&this.qc>1){const{xd:a}=this.Sd(cn(r),this.jc);a<30&&!this.td&&this.Cd(s,this.kd.yd),this.Pd()}}else{const s=this.bd(r);if(++this.Hc,this.Uc&&this.Hc>1){const{xd:a}=this.Sd(cn(r),this.$c);a<5&&!this.Qc&&this.Td(s,this.kd.Rd),this.Dd()}}},this.Vd=t,this.kd=e,this.ys=i,this.Id()}m(){this.sd!==null&&(this.sd(),this.sd=null),this.nd!==null&&(this.nd(),this.nd=null),this.rd!==null&&(this.rd(),this.rd=null),this.hd!==null&&(this.hd(),this.hd=null),this.ad!==null&&(this.ad(),this.ad=null),this.ed!==null&&(this.ed(),this.ed=null),this.Ad(),this.Dd()}Bd(t){this.rd&&this.rd();const e=this.Ed.bind(this);if(this.rd=()=>{this.Vd.removeEventListener("mousemove",e)},this.Vd.addEventListener("mousemove",e),this.Md(t))return;const i=this.bd(t);this.Td(i,this.kd.zd),this.vd=!0}Dd(){this.Uc!==null&&clearTimeout(this.Uc),this.Hc=0,this.Uc=null,this.$c={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Pd(){this.Yc!==null&&clearTimeout(this.Yc),this.qc=0,this.Yc=null,this.jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ed(t){if(this.dd||this.Gc!==null||this.Md(t))return;const e=this.bd(t);this.Td(e,this.kd.Ld),this.vd=!0}Od(t){const e=Zf(t.changedTouches,me(this.pd));if(e===null||(this.fd=vh(t),this.ld!==null)||this.ud)return;this._d=!0;const i=this.Sd(cn(e),me(this.Gc)),{Nd:r,Wd:s,xd:a}=i;if(this.Jc||!(a<5)){if(!this.Jc){const o=.5*r,u=s>=o&&!this.ys.Fd(),c=o>s&&!this.ys.Hd();u||c||(this.ud=!0),this.Jc=!0,this.td=!0,this.Ad(),this.Pd()}if(!this.ud){const o=this.bd(t,e);this.Cd(o,this.kd.Ud),Za(t)}}}$d(t){if(t.button!==0)return;const e=this.Sd(cn(t),me(this.Xc)),{xd:i}=e;if(i>=5&&(this.Qc=!0,this.Dd()),this.Qc){const r=this.bd(t);this.Td(r,this.kd.qd)}}Sd(t,e){const i=Math.abs(e._t-t._t),r=Math.abs(e.ut-t.ut);return{Nd:i,Wd:r,xd:i+r}}Yd(t){let e=Zf(t.changedTouches,me(this.pd));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.pd=null,this.fd=vh(t),this.Ad(),this.Gc=null,this.ad&&(this.ad(),this.ad=null);const i=this.bd(t,e);if(this.Cd(i,this.kd.jd),++this.qc,this.Yc&&this.qc>1){const{xd:r}=this.Sd(cn(e),this.jc);r<30&&!this.td&&this.Cd(i,this.kd.yd),this.Pd()}else this.td||(this.Cd(i,this.kd.Zd),this.kd.Zd&&Za(t));this.qc===0&&Za(t),t.touches.length===0&&this.Kc&&(this.Kc=!1,Za(t))}wd(t){if(t.button!==0)return;const e=this.bd(t);if(this.Xc=null,this.dd=!1,this.hd&&(this.hd(),this.hd=null),Ab()&&this.Vd.ownerDocument.documentElement.removeEventListener("mouseleave",this.md),!this.Md(t))if(this.Td(e,this.kd.Kd),++this.Hc,this.Uc&&this.Hc>1){const{xd:i}=this.Sd(cn(t),this.$c);i<5&&!this.Qc&&this.Td(e,this.kd.Rd),this.Dd()}else this.Qc||this.Td(e,this.kd.Xd)}Ad(){this.Zc!==null&&(clearTimeout(this.Zc),this.Zc=null)}Gd(t){if(this.pd!==null)return;const e=t.changedTouches[0];this.pd=e.identifier,this.fd=vh(t);const i=this.Vd.ownerDocument.documentElement;this.td=!1,this.Jc=!1,this.ud=!1,this.Gc=cn(e),this.ad&&(this.ad(),this.ad=null);{const s=this.Od.bind(this),a=this.Yd.bind(this);this.ad=()=>{i.removeEventListener("touchmove",s),i.removeEventListener("touchend",a)},i.addEventListener("touchmove",s,{passive:!1}),i.addEventListener("touchend",a,{passive:!1}),this.Ad(),this.Zc=setTimeout(this.Jd.bind(this,t),240)}const r=this.bd(t,e);this.Cd(r,this.kd.Qd),this.Yc||(this.qc=0,this.Yc=setTimeout(this.Pd.bind(this),500),this.jc=cn(e))}tf(t){if(t.button!==0)return;const e=this.Vd.ownerDocument.documentElement;Ab()&&e.addEventListener("mouseleave",this.md),this.Qc=!1,this.Xc=cn(t),this.hd&&(this.hd(),this.hd=null);{const r=this.$d.bind(this),s=this.wd.bind(this);this.hd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",s)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",s)}if(this.dd=!0,this.Md(t))return;const i=this.bd(t);this.Td(i,this.kd.if),this.Uc||(this.Hc=0,this.Uc=setTimeout(this.Dd.bind(this),500),this.$c=cn(t))}Id(){this.Vd.addEventListener("mouseenter",this.Bd.bind(this)),this.Vd.addEventListener("touchcancel",this.Ad.bind(this));{const t=this.Vd.ownerDocument,e=i=>{this.kd.sf&&(i.composed&&this.Vd.contains(i.composedPath()[0])||i.target&&this.Vd.contains(i.target)||this.kd.sf())};this.nd=()=>{t.removeEventListener("touchstart",e)},this.sd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Kf()&&(this.ed=()=>{this.Vd.removeEventListener("dblclick",this.gd)},this.Vd.addEventListener("dblclick",this.gd)),this.Vd.addEventListener("mouseleave",this.nf.bind(this)),this.Vd.addEventListener("touchstart",this.Gd.bind(this),{passive:!0}),Wj(this.Vd),this.Vd.addEventListener("mousedown",this.tf.bind(this)),this.ef(),this.Vd.addEventListener("touchmove",()=>{},{passive:!1})}ef(){this.kd.rf===void 0&&this.kd.hf===void 0&&this.kd.af===void 0||(this.Vd.addEventListener("touchstart",t=>this.lf(t.touches),{passive:!0}),this.Vd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.ld!==null&&this.kd.hf!==void 0){const e=Ib(t.touches[0],t.touches[1])/this.od;this.kd.hf(this.ld,e),Za(t)}},{passive:!1}),this.Vd.addEventListener("touchend",t=>{this.lf(t.touches)}))}lf(t){t.length===1&&(this._d=!1),t.length!==2||this._d||this.Kc?this._f():this.uf(t)}uf(t){const e=this.Vd.getBoundingClientRect()||{left:0,top:0};this.ld={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.od=Ib(t[0],t[1]),this.kd.rf!==void 0&&this.kd.rf(),this.Ad()}_f(){this.ld!==null&&(this.ld=null,this.kd.af!==void 0&&this.kd.af())}nf(t){if(this.rd&&this.rd(),this.Md(t)||!this.vd)return;const e=this.bd(t);this.Td(e,this.kd.cf),this.vd=!Kf()}Jd(t){const e=Zf(t.touches,me(this.pd));if(e===null)return;const i=this.bd(t,e);this.Cd(i,this.kd.df),this.td=!0,this.Kc=!0}Md(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:vh(t)<this.fd+500}Cd(t,e){e&&e.call(this.kd,t)}Td(t,e){e&&e.call(this.kd,t)}bd(t,e){const i=e||t,r=this.Vd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-r.left,localY:i.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,ff:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",pf:t.type,vf:i.target,$o:t.view,mf:()=>{t.type!=="touchstart"&&Za(t)}}}}function Ib(n,t){const e=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(e*e+i*i)}function Za(n){n.cancelable&&n.preventDefault()}function cn(n){return{_t:n.pageX,ut:n.pageY}}function vh(n){return n.timeStamp||performance.now()}function Zf(n,t){for(let e=0;e<n.length;++e)if(n[e].identifier===t)return n[e];return null}class Yj{constructor(t,e,i){this.wf=null,this.gf=null,this.Mf=!0,this.bf=null,this.xf=t,this.Sf=t.Cf()[e],this.yf=t.Cf()[i],this.kf=document.createElement("tr"),this.kf.style.height="1px",this.Pf=document.createElement("td"),this.Pf.style.position="relative",this.Pf.style.padding="0",this.Pf.style.margin="0",this.Pf.setAttribute("colspan","3"),this.Tf(),this.kf.appendChild(this.Pf),this.Mf=this.xf.N().layout.panes.enableResize,this.Mf?this.Rf():(this.wf=null,this.gf=null)}m(){this.gf!==null&&this.gf.m()}Df(){return this.kf}Vf(){return Yt({width:this.Sf.Vf().width,height:1})}If(){return Yt({width:this.Sf.If().width,height:1*window.devicePixelRatio})}Af(t,e,i){const r=this.If();t.fillStyle=this.xf.N().layout.panes.separatorColor,t.fillRect(e,i,r.width,r.height)}kt(){this.Tf(),this.xf.N().layout.panes.enableResize!==this.Mf&&(this.Mf=this.xf.N().layout.panes.enableResize,this.Mf?this.Rf():(this.wf!==null&&(this.Pf.removeChild(this.wf.Bf),this.Pf.removeChild(this.wf.Ef),this.wf=null),this.gf!==null&&(this.gf.m(),this.gf=null)))}Rf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Pf.appendChild(t);const i=document.createElement("div"),r=i.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Pf.appendChild(i);const s={zd:this.zf.bind(this),cf:this.Lf.bind(this),if:this.Of.bind(this),Qd:this.Of.bind(this),qd:this.Nf.bind(this),Ud:this.Nf.bind(this),Kd:this.Wf.bind(this),jd:this.Wf.bind(this)};this.gf=new kc(i,s,{Fd:()=>!1,Hd:()=>!0}),this.wf={Ef:i,Bf:t}}Tf(){this.Pf.style.background=this.xf.N().layout.panes.separatorColor}zf(t){this.wf!==null&&(this.wf.Ef.style.backgroundColor=this.xf.N().layout.panes.separatorHoverColor)}Lf(t){this.wf!==null&&this.bf===null&&(this.wf.Ef.style.backgroundColor="")}Of(t){if(this.wf===null)return;const e=this.Sf.Ff().fo()+this.yf.Ff().fo(),i=e/(this.Sf.Vf().height+this.yf.Vf().height),r=30*i;e<=2*r||(this.bf={Hf:t.pageY,Uf:this.Sf.Ff().fo(),$f:e-r,qf:e,Yf:i,jf:r},this.wf.Bf.style.display="block")}Nf(t){const e=this.bf;if(e===null)return;const i=(t.pageY-e.Hf)*e.Yf,r=xl(e.Uf+i,e.jf,e.$f);this.Sf.Ff().po(r),this.yf.Ff().po(e.qf-r),this.xf.Qt().Ah()}Wf(t){this.bf!==null&&this.wf!==null&&(this.bf=null,this.wf.Bf.style.display="none")}}function Qf(n,t){return n.Zf-t.Zf}function qf(n,t,e){const i=(n.Zf-t.Zf)/(n.wt-t.wt);return Math.sign(i)*Math.min(Math.abs(i),e)}class Uj{constructor(t,e,i,r){this.Kf=null,this.Xf=null,this.Gf=null,this.Jf=null,this.Qf=null,this.tp=0,this.ip=0,this.sp=t,this.np=e,this.ep=i,this.Mn=r}rp(t,e){if(this.Kf!==null){if(this.Kf.wt===e)return void(this.Kf.Zf=t);if(Math.abs(this.Kf.Zf-t)<this.Mn)return}this.Jf=this.Gf,this.Gf=this.Xf,this.Xf=this.Kf,this.Kf={wt:e,Zf:t}}le(t,e){if(this.Kf===null||this.Xf===null||e-this.Kf.wt>50)return;let i=0;const r=qf(this.Kf,this.Xf,this.np),s=Qf(this.Kf,this.Xf),a=[r],o=[s];if(i+=s,this.Gf!==null){const c=qf(this.Xf,this.Gf,this.np);if(Math.sign(c)===Math.sign(r)){const f=Qf(this.Xf,this.Gf);if(a.push(c),o.push(f),i+=f,this.Jf!==null){const p=qf(this.Gf,this.Jf,this.np);if(Math.sign(p)===Math.sign(r)){const g=Qf(this.Gf,this.Jf);a.push(p),o.push(g),i+=g}}}}let u=0;for(let c=0;c<a.length;++c)u+=o[c]/i*a[c];Math.abs(u)<this.sp||(this.Qf={Zf:t,wt:e},this.ip=u,this.tp=function(c,f){const p=Math.log(f);return Math.log(1*p/-c)/p}(Math.abs(u),this.ep))}cu(t){const e=me(this.Qf),i=t-e.wt;return e.Zf+this.ip*(Math.pow(this.ep,i)-1)/Math.log(this.ep)}uu(t){return this.Qf===null||this.hp(t)===this.tp}hp(t){const e=t-me(this.Qf).wt;return Math.min(e,this.tp)}}class Xj{constructor(t,e){this.ap=void 0,this.lp=void 0,this.op=void 0,this.ps=!1,this._p=t,this.up=e,this.cp()}kt(){this.cp()}dp(){this.ap&&this._p.removeChild(this.ap),this.lp&&this._p.removeChild(this.lp),this.ap=void 0,this.lp=void 0}fp(){return this.ps!==this.pp()||this.op!==this.vp()}vp(){return this.up.Qt().Ki().J(this.up.N().layout.textColor)>160?"dark":"light"}pp(){return this.up.N().layout.attributionLogo}mp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}cp(){this.fp()&&(this.dp(),this.ps=this.pp(),this.ps&&(this.op=this.vp(),this.lp=document.createElement("style"),this.lp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.ap=document.createElement("a"),this.ap.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.mp()}`,this.ap.title="Charting by TradingView",this.ap.id="tv-attr-logo",this.ap.target="_blank",this.ap.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.ap.toggleAttribute("data-dark",this.op==="dark"),this._p.appendChild(this.lp),this._p.appendChild(this.ap)))}}function oa(n,t){const e=me(n.ownerDocument).createElement("canvas");n.appendChild(e);const i=A2(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(r,s)=>({width:Math.max(r.width,s.width),height:Math.max(r.height,s.height)})});return i.resizeCanvasElement(t),i}function la(n){var t;n.width=1,n.height=1,(t=n.getContext("2d"))==null||t.clearRect(0,0,1,1)}function Dp(n,t,e,i){n.ih&&n.ih(t,e,i)}function kh(n,t,e,i){n.nt(t,e,i)}function kp(n,t,e,i){const r=n(e,i);for(const s of r){const a=s.Tt(i);a!==null&&t(a)}}function Jf(n,t){return e=>{var i,r;return function(s){return s.Wt!==void 0}(e)?(((i=e.Wt())==null?void 0:i.wa())??"")!==t?[]:((r=e.ta)==null?void 0:r.call(e,n))??[]:[]}}function Rb(n,t,e,i){if(!n.length)return;let r=0;const s=n[0].$t(i,!0);let a=t===1?e/2-(n[0].Wi()-s/2):n[0].Wi()-s/2-e/2;a=Math.max(0,a);for(let o=1;o<n.length;o++){const u=n[o],c=n[o-1],f=c.$t(i,!1),p=u.Wi(),g=c.Wi();if(t===1?p>g-f:p<g+f){const y=g-f*t;u.Fi(y);const b=y-t*f/2;if((t===1?b<0:b>e)&&a>0){const x=t===1?-1-b:b-e,w=Math.min(x,a);for(let P=r;P<n.length;P++)n[P].Fi(n[P].Wi()+t*w);a-=w}}else r=o,a=t===1?g-f-p:p-(g+f)}}class Lb{constructor(t,e,i,r){this.Yi=null,this.wp=null,this.gp=!1,this.Mp=new Uh(200),this.bp=null,this.xp=0,this.Sp=!1,this.Cp=()=>{this.Sp||this.yt.yp().Qt().ar()},this.kp=()=>{this.Sp||this.yt.yp().Qt().ar()},this.yt=t,this.ys=e,this._l=e.layout,this.Bu=i,this.Pp=r==="left",this.Tp=Jf("normal",r),this.Rp=Jf("top",r),this.Dp=Jf("bottom",r),this.Pf=document.createElement("div"),this.Pf.style.height="100%",this.Pf.style.overflow="hidden",this.Pf.style.width="25px",this.Pf.style.left="0",this.Pf.style.position="relative",this.Vp=oa(this.Pf,Yt({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.Cp);const s=this.Vp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Ip=oa(this.Pf,Yt({width:16,height:16})),this.Ip.subscribeSuggestedBitmapSizeChanged(this.kp);const a=this.Ip.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const o={if:this.Of.bind(this),Qd:this.Of.bind(this),qd:this.Nf.bind(this),Ud:this.Nf.bind(this),sf:this.Ap.bind(this),Kd:this.Wf.bind(this),jd:this.Wf.bind(this),Rd:this.Bp.bind(this),yd:this.Bp.bind(this),zd:this.Ep.bind(this),cf:this.Lf.bind(this)};this.gf=new kc(this.Ip.canvasElement,o,{Fd:()=>!this.ys.handleScroll.vertTouchDrag,Hd:()=>!0})}m(){this.gf.m(),this.Ip.unsubscribeSuggestedBitmapSizeChanged(this.kp),la(this.Ip.canvasElement),this.Ip.dispose(),this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.Cp),la(this.Vp.canvasElement),this.Vp.dispose(),this.Yi!==null&&this.Yi.Hl().u(this),this.Yi=null}Df(){return this.Pf}k(){return this._l.fontSize}zp(){const t=this.Bu.N();return this.bp!==t.P&&(this.Mp.In(),this.bp=t.P),t}Lp(){if(this.Yi===null)return 0;let t=0;const e=this.zp(),i=me(this.Vp.canvasElement.getContext("2d",{colorSpace:this.yt.yp().N().layout.colorSpace}));i.save();const r=this.Yi.Va();i.font=this.Op(),r.length>0&&(t=Math.max(this.Mp.Vi(i,r[0].$a),this.Mp.Vi(i,r[r.length-1].$a)));const s=this.Np();for(let c=s.length;c--;){const f=this.Mp.Vi(i,s[c].ri());f>t&&(t=f)}const a=this.Yi.zt();if(a!==null&&this.wp!==null&&(o=this.ys.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const c=this.Yi.Ts(1,a),f=this.Yi.Ts(this.wp.height-2,a);t=Math.max(t,this.Mp.Vi(i,this.Yi.Xi(Math.floor(Math.min(c,f))+.11111111111111,a)),this.Mp.Vi(i,this.Yi.Xi(Math.ceil(Math.max(c,f))-.11111111111111,a)))}var o;i.restore();const u=t||34;return jp(Math.ceil(e.S+e.C+e.I+e.A+5+u))}Wp(t){this.wp!==null&&ra(this.wp,t)||(this.wp=t,this.Sp=!0,this.Vp.resizeCanvasElement(t),this.Ip.resizeCanvasElement(t),this.Sp=!1,this.Pf.style.width=`${t.width}px`,this.Pf.style.height=`${t.height}px`)}Fp(){return me(this.wp).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.Hl().u(this),this.Yi=t,t.Hl().i(this.il.bind(this),this))}Wt(){return this.Yi}In(){const t=this.yt.Ff();this.yt.yp().Qt().Ao(t,me(this.Wt()))}Hp(t){if(this.wp===null)return;const e={colorSpace:this.yt.yp().N().layout.colorSpace};if(t!==1){this.Up(),this.Vp.applySuggestedBitmapSize();const r=sa(this.Vp,e);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.$p(s),this.qp(s)}),this.yt.Yp(r,this.Dp),this.jp(r),this.yt.Yp(r,this.Tp),this.Zp(r))}this.Ip.applySuggestedBitmapSize();const i=sa(this.Ip,e);i!==null&&(i.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.Kp(i),this.yt.Yp(i,this.Rp))}If(){return this.Vp.bitmapSize}Af(t,e,i){const r=this.If();r.width>0&&r.height>0&&t.drawImage(this.Vp.canvasElement,e,i)}kt(){var t;(t=this.Yi)==null||t.Va()}Of(t){if(this.Yi===null||this.Yi.Zi()||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.yp().Qt(),i=this.yt.Ff();this.gp=!0,e.ko(i,this.Yi,t.localY)}Nf(t){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.yp().Qt(),i=this.yt.Ff(),r=this.Yi;e.Po(i,r,t.localY)}Ap(){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const t=this.yt.yp().Qt(),e=this.yt.Ff(),i=this.Yi;this.gp&&(this.gp=!1,t.To(e,i))}Wf(t){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.yp().Qt(),i=this.yt.Ff();this.gp=!1,e.To(i,this.Yi)}Bp(t){this.ys.handleScale.axisDoubleClickReset.price&&this.In()}Ep(t){this.Yi!==null&&(!this.yt.yp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.gl()||this.Xp(1))}Lf(t){this.Xp(0)}Np(){const t=[],e=this.Yi===null?void 0:this.Yi;return(i=>{for(let r=0;r<i.length;++r){const s=i[r].Fs(this.yt.Ff(),e);for(let a=0;a<s.length;a++)t.push(s[a])}})(this.yt.Ff().Dt()),t}$p({context:t,bitmapSize:e}){const{width:i,height:r}=e,s=this.yt.Ff().Qt(),a=s.$(),o=s.Sc();a===o?Pc(t,0,0,i,r,a):d0(t,0,0,i,r,a,o)}qp({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(this.wp===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.zp().S*i));let s;s=this.Pp?e.width-r:0,t.fillRect(s,0,r,e.height)}jp(t){if(this.wp===null||this.Yi===null)return;const e=this.Yi.Va(),i=this.Yi.N(),r=this.zp(),s=this.Pp?this.wp.width-r.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:o,verticalPixelRatio:u})=>{a.fillStyle=i.borderColor;const c=Math.max(1,Math.floor(u)),f=Math.floor(.5*u),p=Math.round(r.C*o);a.beginPath();for(const g of e)a.rect(Math.floor(s*o),Math.round(g.ka*u)-f,p,c);a.fill()}),t.useMediaCoordinateSpace(({context:a})=>{a.font=this.Op(),a.fillStyle=i.textColor??this._l.textColor,a.textAlign=this.Pp?"right":"left",a.textBaseline="middle";const o=this.Pp?Math.round(s-r.I):Math.round(s+r.C+r.I),u=e.map(c=>this.Mp.Di(a,c.$a));for(let c=e.length;c--;){const f=e[c];a.fillText(f.$a,o,f.ka+u[c])}})}Up(){if(this.wp===null||this.Yi===null)return;let t=this.wp.height/2;const e=[],i=this.Yi.Dt().slice(),r=this.yt.Ff(),s=this.zp();this.Yi===r.$n()&&this.yt.Ff().Dt().forEach(u=>{r.Un(u)&&i.push(u)});const a=this.Yi.ba()[0],o=this.Yi;i.forEach(u=>{const c=u.Fs(r,o);c.forEach(f=>{f.Fi(null),f.Hi()&&e.push(f)}),a===u&&c.length>0&&(t=c[0].Ai())}),e.forEach(u=>u.Fi(u.Ai())),this.Yi.N().alignLabels&&this.Gp(e,s,t)}Gp(t,e,i){if(this.wp===null)return;const r=t.filter(a=>a.Ai()<=i),s=t.filter(a=>a.Ai()>i);r.sort((a,o)=>o.Ai()-a.Ai()),r.length&&s.length&&s.push(r[0]),s.sort((a,o)=>a.Ai()-o.Ai());for(const a of t){const o=Math.floor(a.$t(e)/2),u=a.Ai();u>-o&&u<o&&a.Fi(o),u>this.wp.height-o&&u<this.wp.height+o&&a.Fi(this.wp.height-o)}Rb(r,1,this.wp.height,e),Rb(s,-1,this.wp.height,e)}Zp(t){if(this.wp===null)return;const e=this.Np(),i=this.zp(),r=this.Pp?"right":"left";e.forEach(s=>{s.Ui()&&s.Tt(me(this.Yi)).nt(t,i,this.Mp,r)})}Kp(t){if(this.wp===null||this.Yi===null)return;const e=this.yt.yp().Qt(),i=[],r=this.yt.Ff(),s=e.Yu().Fs(r,this.Yi);s.length&&i.push(s);const a=this.zp(),o=this.Pp?"right":"left";i.forEach(u=>{u.forEach(c=>{c.Tt(me(this.Yi)).nt(t,a,this.Mp,o)})})}Xp(t){this.Pf.style.cursor=t===1?"ns-resize":"default"}il(){const t=this.Lp();this.xp<t&&this.yt.yp().Qt().Ah(),this.xp=t}Op(){return Yh(this._l.fontSize,this._l.fontFamily)}}function $j(n,t){var e;return((e=n.Jh)==null?void 0:e.call(n,t))??[]}function Nb(n,t){var e;return((e=n.Ws)==null?void 0:e.call(n,t))??[]}function zb(n,t){var e;return((e=n.us)==null?void 0:e.call(n,t))??[]}function Gj(n,t){var e;return((e=n.Kh)==null?void 0:e.call(n,t))??[]}class gm{constructor(t,e){this.wp=Yt({width:0,height:0}),this.Jp=null,this.Qp=null,this.tv=null,this.iv=null,this.sv=!1,this.nv=new pi,this.ev=new pi,this.rv=0,this.hv=!1,this.av=null,this.lv=!1,this.ov=null,this._v=null,this.Sp=!1,this.Cp=()=>{this.Sp||this.uv===null||this.ts().ar()},this.kp=()=>{this.Sp||this.uv===null||this.ts().ar()},this.up=t,this.uv=e,this.uv.zo().i(this.cv.bind(this),this,!0),this.dv=document.createElement("td"),this.dv.style.padding="0",this.dv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.fv=document.createElement("td"),this.fv.style.padding="0",this.pv=document.createElement("td"),this.pv.style.padding="0",this.dv.appendChild(i),this.Vp=oa(i,Yt({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.Cp);const r=this.Vp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Ip=oa(i,Yt({width:16,height:16})),this.Ip.subscribeSuggestedBitmapSizeChanged(this.kp);const s=this.Ip.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.kf=document.createElement("tr"),this.kf.appendChild(this.fv),this.kf.appendChild(this.dv),this.kf.appendChild(this.pv),this.vv(),this.gf=new kc(this.Ip.canvasElement,this,{Fd:()=>this.av===null&&!this.up.N().handleScroll.vertTouchDrag,Hd:()=>this.av===null&&!this.up.N().handleScroll.horzTouchDrag})}m(){this.Jp!==null&&this.Jp.m(),this.Qp!==null&&this.Qp.m(),this.tv=null,this.Ip.unsubscribeSuggestedBitmapSizeChanged(this.kp),la(this.Ip.canvasElement),this.Ip.dispose(),this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.Cp),la(this.Vp.canvasElement),this.Vp.dispose(),this.uv!==null&&(this.uv.zo().u(this),this.uv.m()),this.gf.m()}Ff(){return me(this.uv)}mv(t){var e;this.uv!==null&&this.uv.zo().u(this),this.uv=t,this.uv!==null&&this.uv.zo().i(gm.prototype.cv.bind(this),this,!0),this.vv(),this.up.Cf().indexOf(this)===this.up.Cf().length-1?(this.tv=this.tv??new Xj(this.dv,this.up),this.tv.kt()):((e=this.tv)==null||e.dp(),this.tv=null)}yp(){return this.up}Df(){return this.kf}vv(){if(this.uv!==null&&(this.wv(),this.ts().js().length!==0)){if(this.Jp!==null){const t=this.uv.Co();this.Jp._s(me(t))}if(this.Qp!==null){const t=this.uv.yo();this.Qp._s(me(t))}}}gv(){this.Jp!==null&&this.Jp.kt(),this.Qp!==null&&this.Qp.kt()}fo(){return this.uv!==null?this.uv.fo():0}po(t){this.uv&&this.uv.po(t)}zd(t){if(!this.uv)return;this.Mv();const e=t.localX,i=t.localY;this.bv(e,i,t)}if(t){this.Mv(),this.xv(),this.bv(t.localX,t.localY,t)}Ld(t){if(!this.uv)return;this.Mv();const e=t.localX,i=t.localY;this.bv(e,i,t)}Xd(t){this.uv!==null&&(this.Mv(),this.Sv(t))}Rd(t){this.uv!==null&&this.Cv(this.ev,t)}yd(t){this.Rd(t)}qd(t){this.Mv(),this.yv(t),this.bv(t.localX,t.localY,t)}Kd(t){this.uv!==null&&(this.Mv(),this.hv=!1,this.kv(t))}Zd(t){this.uv!==null&&this.Sv(t)}df(t){if(this.hv=!0,this.av===null){const e={x:t.localX,y:t.localY};this.Pv(e,e,t)}}cf(t){this.uv!==null&&(this.Mv(),this.uv.Qt().Uu(null),this.Tv())}Rv(){return this.nv}Dv(){return this.ev}rf(){this.rv=1,this.ts().hn()}hf(t,e){if(!this.up.N().handleScale.pinch)return;const i=5*(e-this.rv);this.rv=e,this.ts().tc(t._t,i)}Qd(t){this.hv=!1,this.lv=this.av!==null,this.xv();const e=this.ts().Yu();this.av!==null&&e.Vt()&&(this.ov={x:e.si(),y:e.ni()},this.av={x:t.localX,y:t.localY})}Ud(t){if(this.uv===null)return;const e=t.localX,i=t.localY;if(this.av===null)this.yv(t);else{this.lv=!1;const r=me(this.ov),s=r.x+(e-this.av.x),a=r.y+(i-this.av.y);this.bv(s,a,t)}}jd(t){this.yp().N().trackingMode.exitMode===0&&(this.lv=!0),this.Vv(),this.kv(t)}jn(t,e){const i=this.uv;return i===null?null:_0(i,t,e)}Iv(t,e){me(e==="left"?this.Jp:this.Qp).Wp(Yt({width:t,height:this.wp.height}))}Vf(){return this.wp}Wp(t){ra(this.wp,t)||(this.wp=t,this.Sp=!0,this.Vp.resizeCanvasElement(t),this.Ip.resizeCanvasElement(t),this.Sp=!1,this.dv.style.width=t.width+"px",this.dv.style.height=t.height+"px")}Av(){const t=me(this.uv);t.So(t.Co()),t.So(t.yo());for(const e of t.ba())if(t.Un(e)){const i=e.Wt();i!==null&&t.So(i),e.Ns()}for(const e of t.Oo())e.Ns()}If(){return this.Vp.bitmapSize}Af(t,e,i){const r=this.If();r.width>0&&r.height>0&&t.drawImage(this.Vp.canvasElement,e,i)}Hp(t){if(t===0||this.uv===null)return;t>1&&this.Av(),this.Jp!==null&&this.Jp.Hp(t),this.Qp!==null&&this.Qp.Hp(t);const e={colorSpace:this.up.N().layout.colorSpace};if(t!==1){this.Vp.applySuggestedBitmapSize();const r=sa(this.Vp,e);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.$p(s)}),this.uv&&(this.Bv(r,$j),this.Ev(r),this.Bv(r,Nb),this.Bv(r,zb)))}this.Ip.applySuggestedBitmapSize();const i=sa(this.Ip,e);i!==null&&(i.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.zv(i),this.Bv(i,Gj),this.Bv(i,zb))}Lv(){return this.Jp}Ov(){return this.Qp}Yp(t,e){this.Bv(t,e)}cv(){this.uv!==null&&this.uv.zo().u(this),this.uv=null}Sv(t){this.Cv(this.nv,t)}Cv(t,e){const i=e.localX,r=e.localY;t.v()&&t.p(this.ts().Bt().Z_(i),{x:i,y:r},e)}$p({context:t,bitmapSize:e}){const{width:i,height:r}=e,s=this.ts(),a=s.$(),o=s.Sc();a===o?Pc(t,0,0,i,r,o):d0(t,0,0,i,r,a,o)}Ev(t){const e=me(this.uv),i=e.Lo().lr().Tt(e);i!==null&&i.nt(t,!1)}zv(t){this.Nv(t,Nb,kh,this.ts().Yu())}Bv(t,e){const i=me(this.uv),r=i.Dt(),s=i.Oo();for(const a of s)this.Nv(t,e,Dp,a);for(const a of r)this.Nv(t,e,Dp,a);for(const a of s)this.Nv(t,e,kh,a);for(const a of r)this.Nv(t,e,kh,a)}Nv(t,e,i,r){const s=me(this.uv),a=s.Qt().Hu(),o=a!==null&&a.Wo===r,u=a!==null&&o&&a.Fo!==void 0?a.Fo.Kn:void 0;kp(e,c=>i(c,t,o,u),r,s)}wv(){if(this.uv===null)return;const t=this.up,e=this.uv.Co().N().visible,i=this.uv.yo().N().visible;e||this.Jp===null||(this.fv.removeChild(this.Jp.Df()),this.Jp.m(),this.Jp=null),i||this.Qp===null||(this.pv.removeChild(this.Qp.Df()),this.Qp.m(),this.Qp=null);const r=t.Qt().dc();e&&this.Jp===null&&(this.Jp=new Lb(this,t.N(),r,"left"),this.fv.appendChild(this.Jp.Df())),i&&this.Qp===null&&(this.Qp=new Lb(this,t.N(),r,"right"),this.pv.appendChild(this.Qp.Df()))}Wv(t){return t.ff&&this.hv||this.av!==null}Fv(t){return Math.max(0,Math.min(t,this.wp.width-1))}Hv(t){return Math.max(0,Math.min(t,this.wp.height-1))}bv(t,e,i){this.ts().lc(this.Fv(t),this.Hv(e),i,me(this.uv))}Tv(){this.ts().uc()}Vv(){this.lv&&(this.av=null,this.Tv())}Pv(t,e,i){this.av=t,this.lv=!1,this.bv(e.x,e.y,i);const r=this.ts().Yu();this.ov={x:r.si(),y:r.ni()}}ts(){return this.up.Qt()}kv(t){if(!this.sv)return;const e=this.ts(),i=this.Ff();if(e.Vo(i,i.Ps()),this.iv=null,this.sv=!1,e.rc(),this._v!==null){const r=performance.now(),s=e.Bt();this._v.le(s.iu(),r),this._v.uu(r)||e._n(this._v)}}Mv(){this.av=null}xv(){if(this.uv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)me(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.uv.Ps().Zi()&&this.ts().Bt().Zi()}}yv(t){if(this.uv===null)return;const e=this.ts(),i=e.Bt();if(i.Zi())return;const r=this.up.N(),s=r.handleScroll,a=r.kineticScroll;if((!s.pressedMouseMove||t.ff)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!t.ff))return;const o=this.uv.Ps(),u=performance.now();if(this.iv!==null||this.Wv(t)||(this.iv={x:t.clientX,y:t.clientY,Oc:u,Uv:t.localX,$v:t.localY}),this.iv!==null&&!this.sv&&(this.iv.x!==t.clientX||this.iv.y!==t.clientY)){if(t.ff&&a.touch||!t.ff&&a.mouse){const c=i.Q_();this._v=new Uj(.2/c,7/c,.997,15/c),this._v.rp(i.iu(),this.iv.Oc)}else this._v=null;o.Zi()||e.Ro(this.uv,o,t.localY),e.nc(t.localX),this.sv=!0}this.sv&&(o.Zi()||e.Do(this.uv,o,t.localY),e.ec(t.localX),this._v!==null&&this._v.rp(i.iu(),u))}}class Bb{constructor(t,e,i,r,s){this.St=!0,this.wp=Yt({width:0,height:0}),this.Cp=()=>this.Hp(3),this.Pp=t==="left",this.Bu=i.dc,this.ys=e,this.qv=r,this.Yv=s,this.Pf=document.createElement("div"),this.Pf.style.width="25px",this.Pf.style.height="100%",this.Pf.style.overflow="hidden",this.Vp=oa(this.Pf,Yt({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.Cp)}m(){this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.Cp),la(this.Vp.canvasElement),this.Vp.dispose()}Df(){return this.Pf}Vf(){return this.wp}Wp(t){ra(this.wp,t)||(this.wp=t,this.Vp.resizeCanvasElement(t),this.Pf.style.width=`${t.width}px`,this.Pf.style.height=`${t.height}px`,this.St=!0)}Hp(t){if(t<3&&!this.St||this.wp.width===0||this.wp.height===0)return;this.St=!1,this.Vp.applySuggestedBitmapSize();const e=sa(this.Vp,{colorSpace:this.ys.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace(i=>{this.$p(i),this.qp(i)})}If(){return this.Vp.bitmapSize}Af(t,e,i){const r=this.If();r.width>0&&r.height>0&&t.drawImage(this.Vp.canvasElement,e,i)}qp({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(!this.qv())return;t.fillStyle=this.ys.timeScale.borderColor;const s=Math.floor(this.Bu.N().S*i),a=Math.floor(this.Bu.N().S*r),o=this.Pp?e.width-s:0;t.fillRect(o,0,s,a)}$p({context:t,bitmapSize:e}){Pc(t,0,0,e.width,e.height,this.Yv())}}function ym(n){return t=>{var e;return((e=t.ia)==null?void 0:e.call(t,n))??[]}}const Kj=ym("normal"),Zj=ym("top"),Qj=ym("bottom");class qj{constructor(t,e){this.jv=null,this.Zv=null,this.M=null,this.Kv=!1,this.wp=Yt({width:0,height:0}),this.Xv=new pi,this.Mp=new Uh(5),this.Sp=!1,this.Cp=()=>{this.Sp||this.up.Qt().ar()},this.kp=()=>{this.Sp||this.up.Qt().ar()},this.up=t,this.Yo=e,this.ys=t.N().layout,this.ap=document.createElement("tr"),this.Gv=document.createElement("td"),this.Gv.style.padding="0",this.Jv=document.createElement("td"),this.Jv.style.padding="0",this.Pf=document.createElement("td"),this.Pf.style.height="25px",this.Pf.style.padding="0",this.Qv=document.createElement("div"),this.Qv.style.width="100%",this.Qv.style.height="100%",this.Qv.style.position="relative",this.Qv.style.overflow="hidden",this.Pf.appendChild(this.Qv),this.Vp=oa(this.Qv,Yt({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.Cp);const i=this.Vp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Ip=oa(this.Qv,Yt({width:16,height:16})),this.Ip.subscribeSuggestedBitmapSizeChanged(this.kp);const r=this.Ip.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.ap.appendChild(this.Gv),this.ap.appendChild(this.Pf),this.ap.appendChild(this.Jv),this.tm(),this.up.Qt().do().i(this.tm.bind(this),this),this.gf=new kc(this.Ip.canvasElement,this,{Fd:()=>!0,Hd:()=>!this.up.N().handleScroll.horzTouchDrag})}m(){this.gf.m(),this.jv!==null&&this.jv.m(),this.Zv!==null&&this.Zv.m(),this.Ip.unsubscribeSuggestedBitmapSizeChanged(this.kp),la(this.Ip.canvasElement),this.Ip.dispose(),this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.Cp),la(this.Vp.canvasElement),this.Vp.dispose()}Df(){return this.ap}im(){return this.jv}sm(){return this.Zv}if(t){if(this.Kv)return;this.Kv=!0;const e=this.up.Qt();!e.Bt().Zi()&&this.up.N().handleScale.axisPressedMouseMove.time&&e.Qu(t.localX)}Qd(t){this.if(t)}sf(){const t=this.up.Qt();!t.Bt().Zi()&&this.Kv&&(this.Kv=!1,this.up.N().handleScale.axisPressedMouseMove.time&&t.ac())}qd(t){const e=this.up.Qt();!e.Bt().Zi()&&this.up.N().handleScale.axisPressedMouseMove.time&&e.hc(t.localX)}Ud(t){this.qd(t)}Kd(){this.Kv=!1;const t=this.up.Qt();t.Bt().Zi()&&!this.up.N().handleScale.axisPressedMouseMove.time||t.ac()}jd(){this.Kd()}Rd(){this.up.N().handleScale.axisDoubleClickReset.time&&this.up.Qt().cn()}yd(){this.Rd()}zd(){this.up.Qt().N().handleScale.axisPressedMouseMove.time&&this.Xp(1)}cf(){this.Xp(0)}Vf(){return this.wp}nm(){return this.Xv}rm(t,e,i){ra(this.wp,t)||(this.wp=t,this.Sp=!0,this.Vp.resizeCanvasElement(t),this.Ip.resizeCanvasElement(t),this.Sp=!1,this.Pf.style.width=`${t.width}px`,this.Pf.style.height=`${t.height}px`,this.Xv.p(t)),this.jv!==null&&this.jv.Wp(Yt({width:e,height:t.height})),this.Zv!==null&&this.Zv.Wp(Yt({width:i,height:t.height}))}hm(){const t=this.am();return Math.ceil(t.S+t.C+t.k+t.B+t.V+t.lm)}kt(){this.up.Qt().Bt().Va()}If(){return this.Vp.bitmapSize}Af(t,e,i){const r=this.If();r.width>0&&r.height>0&&t.drawImage(this.Vp.canvasElement,e,i)}Hp(t){if(t===0)return;const e={colorSpace:this.ys.colorSpace};if(t!==1){this.Vp.applySuggestedBitmapSize();const r=sa(this.Vp,e);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.$p(s),this.qp(s),this.om(r,Qj)}),this.jp(r),this.om(r,Kj)),this.jv!==null&&this.jv.Hp(t),this.Zv!==null&&this.Zv.Hp(t)}this.Ip.applySuggestedBitmapSize();const i=sa(this.Ip,e);i!==null&&(i.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this._m([...this.up.Qt().js(),this.up.Qt().Yu()],i),this.om(i,Zj))}om(t,e){const i=this.up.Qt().js();for(const r of i)kp(e,s=>Dp(s,t,!1,void 0),r,void 0);for(const r of i)kp(e,s=>kh(s,t,!1,void 0),r,void 0)}$p({context:t,bitmapSize:e}){Pc(t,0,0,e.width,e.height,this.up.Qt().Sc())}qp({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.up.N().timeScale.borderVisible){t.fillStyle=this.um();const r=Math.max(1,Math.floor(this.am().S*i));t.fillRect(0,0,e.width,r)}}jp(t){const e=this.up.Qt().Bt(),i=e.Va();if(!i||i.length===0)return;const r=this.Yo.maxTickMarkWeight(i),s=this.am(),a=e.N();a.borderVisible&&a.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:u,verticalPixelRatio:c})=>{o.strokeStyle=this.um(),o.fillStyle=this.um();const f=Math.max(1,Math.floor(u)),p=Math.floor(.5*u);o.beginPath();const g=Math.round(s.C*c);for(let y=i.length;y--;){const b=Math.round(i[y].coord*u);o.rect(b-p,0,f,g)}o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{const u=s.S+s.C+s.B+s.k/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.H(),o.font=this.Op();for(const c of i)if(c.weight<r){const f=c.needAlignCoordinate?this.dm(o,c.coord,c.label):c.coord;o.fillText(c.label,f,u)}this.up.N().timeScale.allowBoldLabels&&(o.font=this.fm());for(const c of i)if(c.weight>=r){const f=c.needAlignCoordinate?this.dm(o,c.coord,c.label):c.coord;o.fillText(c.label,f,u)}})}dm(t,e,i){const r=this.Mp.Vi(t,i),s=r/2,a=Math.floor(e-s)+.5;return a<0?e+=Math.abs(0-a):a+r>this.wp.width&&(e-=Math.abs(this.wp.width-(a+r))),e}_m(t,e){const i=this.am();for(const r of t)for(const s of r.cs())s.Tt().nt(e,i)}um(){return this.up.N().timeScale.borderColor}H(){return this.ys.textColor}W(){return this.ys.fontSize}Op(){return Yh(this.W(),this.ys.fontFamily)}fm(){return Yh(this.W(),this.ys.fontFamily,"bold")}am(){this.M===null&&(this.M={S:1,L:NaN,B:NaN,V:NaN,Ji:NaN,C:5,k:NaN,P:"",Gi:new Uh,lm:0});const t=this.M,e=this.Op();if(t.P!==e){const i=this.W();t.k=i,t.P=e,t.B=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.lm=4*i/12,t.Gi.In()}return this.M}Xp(t){this.Pf.style.cursor=t===1?"ew-resize":"default"}tm(){const t=this.up.Qt(),e=t.N();e.leftPriceScale.visible||this.jv===null||(this.Gv.removeChild(this.jv.Df()),this.jv.m(),this.jv=null),e.rightPriceScale.visible||this.Zv===null||(this.Jv.removeChild(this.Zv.Df()),this.Zv.m(),this.Zv=null);const i={dc:this.up.Qt().dc()},r=()=>e.leftPriceScale.borderVisible&&t.Bt().N().borderVisible,s=()=>t.Sc();e.leftPriceScale.visible&&this.jv===null&&(this.jv=new Bb("left",e,i,r,s),this.Gv.appendChild(this.jv.Df())),e.rightPriceScale.visible&&this.Zv===null&&(this.Zv=new Bb("right",e,i,r,s),this.Jv.appendChild(this.Zv.Df()))}}var Tx;const Jj=!!uo&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!uo&&((Tx=navigator==null?void 0:navigator.userAgentData)!=null&&Tx.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class eD{constructor(t,e,i){var r;this.pm=[],this.vm=[],this.wm=0,this.ja=0,this.no=0,this.gm=0,this.Mm=0,this.bm=null,this.xm=!1,this.nv=new pi,this.ev=new pi,this.Vu=new pi,this.Sm=null,this.Cm=null,this._p=t,this.ys=e,this.Yo=i,this.ap=document.createElement("div"),this.ap.classList.add("tv-lightweight-charts"),this.ap.style.overflow="hidden",this.ap.style.direction="ltr",this.ap.style.width="100%",this.ap.style.height="100%",(r=this.ap).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.ym=document.createElement("table"),this.ym.setAttribute("cellspacing","0"),this.ap.appendChild(this.ym),this.km=this.Pm.bind(this),ep(this.ys)&&this.Tm(!0),this.ts=new Lj(this.Au.bind(this),this.ys,i),this.Qt().ju().i(this.Rm.bind(this),this),this.Dm=new qj(this,this.Yo),this.ym.appendChild(this.Dm.Df());const s=e.autoSize&&this.Vm();let a=this.ys.width,o=this.ys.height;if(s||a===0||o===0){const u=t.getBoundingClientRect();a=a||u.width,o=o||u.height}this.Im(a,o),this.Am(),t.appendChild(this.ap),this.Bm(),this.ts.Bt().pu().i(this.ts.Ah.bind(this.ts),this),this.ts.do().i(this.ts.Ah.bind(this.ts),this)}Qt(){return this.ts}N(){return this.ys}Cf(){return this.pm}Em(){return this.Dm}m(){this.Tm(!1),this.wm!==0&&window.cancelAnimationFrame(this.wm),this.ts.ju().u(this),this.ts.Bt().pu().u(this),this.ts.do().u(this),this.ts.m();for(const t of this.pm)this.ym.removeChild(t.Df()),t.Rv().u(this),t.Dv().u(this),t.m();this.pm=[];for(const t of this.vm)this.zm(t);this.vm=[],me(this.Dm).m(),this.ap.parentElement!==null&&this.ap.parentElement.removeChild(this.ap),this.Vu.m(),this.nv.m(),this.ev.m(),this.Lm()}Im(t,e,i=!1){if(this.ja===e&&this.no===t)return;const r=function(o){const u=Math.floor(o.width),c=Math.floor(o.height);return Yt({width:u-u%2,height:c-c%2})}(Yt({width:t,height:e}));this.ja=r.height,this.no=r.width;const s=this.ja+"px",a=this.no+"px";me(this.ap).style.height=s,me(this.ap).style.width=a,this.ym.style.height=s,this.ym.style.width=a,i?this.Om(Ii.gn(),performance.now()):this.ts.Ah()}Hp(t){t===void 0&&(t=Ii.gn());for(let e=0;e<this.pm.length;e++)this.pm[e].Hp(t.en(e).tn);this.ys.timeScale.visible&&this.Dm.Hp(t.nn())}hr(t){var r;const e=ep(this.ys);this.ts.hr(t);const i=ep(this.ys);i!==e&&this.Tm(i),(r=t.layout)!=null&&r.panes&&this.Nm(),this.Bm(),this.Wm(t)}Rv(){return this.nv}Dv(){return this.ev}ju(){return this.Vu}Fm(){this.bm!==null&&(this.Om(this.bm,performance.now()),this.bm=null);const t=this.Hm(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=me(e.getContext("2d"));return this.Hm(i),e}Um(t){return t==="left"&&!this.$m()||t==="right"&&!this.qm()||this.pm.length===0?0:me(t==="left"?this.pm[0].Lv():this.pm[0].Ov()).Fp()}Ym(){return this.ys.autoSize&&this.Sm!==null}Ef(){return this.ap}jm(t){this.Cm=t,this.Cm?this.Ef().style.setProperty("cursor",t):this.Ef().style.removeProperty("cursor")}Zm(){return this.Cm}Km(t){return ir(this.pm[t]).Vf()}Nm(){this.vm.forEach(t=>{t.kt()})}Wm(t){(t.autoSize!==void 0||!this.Sm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Sm&&this.Vm(),t.autoSize===!1&&this.Sm!==null&&this.Lm(),t.autoSize||t.width===void 0&&t.height===void 0||this.Im(t.width||this.no,t.height||this.ja))}Hm(t){let e=0,i=0;const r=this.pm[0],s=(o,u)=>{let c=0;for(let f=0;f<this.pm.length;f++){const p=this.pm[f],g=me(o==="left"?p.Lv():p.Ov()),y=g.If();if(t!==null&&g.Af(t,u,c),c+=y.height,f<this.pm.length-1){const b=this.vm[f],x=b.If();t!==null&&b.Af(t,u,c),c+=x.height}}};this.$m()&&(s("left",0),e+=me(r.Lv()).If().width);for(let o=0;o<this.pm.length;o++){const u=this.pm[o],c=u.If();if(t!==null&&u.Af(t,e,i),i+=c.height,o<this.pm.length-1){const f=this.vm[o],p=f.If();t!==null&&f.Af(t,e,i),i+=p.height}}e+=r.If().width,this.qm()&&(s("right",e),e+=me(r.Ov()).If().width);const a=(o,u,c)=>{me(o==="left"?this.Dm.im():this.Dm.sm()).Af(me(t),u,c)};if(this.ys.timeScale.visible){const o=this.Dm.If();if(t!==null){let u=0;this.$m()&&(a("left",u,i),u=me(r.Lv()).If().width),this.Dm.Af(t,u,i),u+=o.width,this.qm()&&a("right",u,i)}i+=o.height}return Yt({width:e,height:i})}Xm(){let t=0,e=0,i=0;for(const w of this.pm)this.$m()&&(e=Math.max(e,me(w.Lv()).Lp(),this.ys.leftPriceScale.minimumWidth)),this.qm()&&(i=Math.max(i,me(w.Ov()).Lp(),this.ys.rightPriceScale.minimumWidth)),t+=w.fo();e=jp(e),i=jp(i);const r=this.no,s=this.ja,a=Math.max(r-e-i,0),o=1*this.vm.length,u=this.ys.timeScale.visible;let c=u?Math.max(this.Dm.hm(),this.ys.timeScale.minimumHeight):0;var f;c=(f=c)+f%2;const p=o+c,g=s<p?0:s-p,y=g/t;let b=0;const x=window.devicePixelRatio||1;for(let w=0;w<this.pm.length;++w){const P=this.pm[w];P.mv(this.ts.$s()[w]);let S=0,k=0;k=w===this.pm.length-1?Math.ceil((g-b)*x)/x:Math.round(P.fo()*y*x)/x,S=Math.max(k,2),b+=S,P.Wp(Yt({width:a,height:S})),this.$m()&&P.Iv(e,"left"),this.qm()&&P.Iv(i,"right"),P.Ff()&&this.ts.Zu(P.Ff(),S)}this.Dm.rm(Yt({width:u?a:0,height:c}),u?e:0,u?i:0),this.ts.vo(a),this.gm!==e&&(this.gm=e),this.Mm!==i&&(this.Mm=i)}Tm(t){t?this.ap.addEventListener("wheel",this.km,{passive:!1}):this.ap.removeEventListener("wheel",this.km)}Gm(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Jj?1/window.devicePixelRatio:1}Pm(t){if(!(t.deltaX!==0&&this.ys.handleScroll.mouseWheel||t.deltaY!==0&&this.ys.handleScale.mouseWheel))return;const e=this.Gm(t),i=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.ys.handleScale.mouseWheel){const s=Math.sign(r)*Math.min(1,Math.abs(r)),a=t.clientX-this.ap.getBoundingClientRect().left;this.Qt().tc(a,s)}i!==0&&this.ys.handleScroll.mouseWheel&&this.Qt().sc(-80*i)}Om(t,e){var r;const i=t.nn();i===3&&this.Jm(),i!==3&&i!==2||(this.Qm(t),this.tw(t,e),this.Dm.kt(),this.pm.forEach(s=>{s.gv()}),((r=this.bm)==null?void 0:r.nn())===3&&(this.bm.vn(t),this.Jm(),this.Qm(this.bm),this.tw(this.bm,e),t=this.bm,this.bm=null)),this.Hp(t)}tw(t,e){for(const i of t.pn())this.mn(i,e)}Qm(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Bo()}mn(t,e){const i=this.ts.Bt();switch(t.an){case 0:i.mu();break;case 1:i.wu(t.Ft);break;case 2:i.dn(t.Ft);break;case 3:i.fn(t.Ft);break;case 4:i.eu();break;case 5:t.Ft.uu(e)||i.fn(t.Ft.cu(e))}}Au(t){this.bm!==null?this.bm.vn(t):this.bm=t,this.xm||(this.xm=!0,this.wm=window.requestAnimationFrame(e=>{if(this.xm=!1,this.wm=0,this.bm!==null){const i=this.bm;this.bm=null,this.Om(i,e);for(const r of i.pn())if(r.an===5&&!r.Ft.uu(e)){this.Qt()._n(r.Ft);break}}}))}Jm(){this.Am()}zm(t){this.ym.removeChild(t.Df()),t.m()}Am(){const t=this.ts.$s(),e=t.length,i=this.pm.length;for(let r=e;r<i;r++){const s=ir(this.pm.pop());this.ym.removeChild(s.Df()),s.Rv().u(this),s.Dv().u(this),s.m();const a=this.vm.pop();a!==void 0&&this.zm(a)}for(let r=i;r<e;r++){const s=new gm(this,t[r]);if(s.Rv().i(this.iw.bind(this,s),this),s.Dv().i(this.sw.bind(this,s),this),this.pm.push(s),r>0){const a=new Yj(this,r-1,r);this.vm.push(a),this.ym.insertBefore(a.Df(),this.Dm.Df())}this.ym.insertBefore(s.Df(),this.Dm.Df())}for(let r=0;r<e;r++){const s=t[r],a=this.pm[r];a.Ff()!==s?a.mv(s):a.vv()}this.Bm(),this.Xm()}nw(t,e,i,r){var p;const s=new Map;t!==null&&this.ts.js().forEach(g=>{const y=g.Ks().Wr(t);y!==null&&s.set(g,y)});let a;if(t!==null){const g=(p=this.ts.Bt().ss(t))==null?void 0:p.originalTime;g!==void 0&&(a=g)}const o=this.Qt().Hu(),u=o!==null&&o.Wo instanceof Dc?o.Wo:void 0,c=o!==null&&o.Fo!==void 0?o.Fo.Zn:void 0,f=this.ew(r);return{rw:a,Re:t??void 0,hw:e??void 0,aw:f!==-1?f:void 0,lw:u,ow:s,_w:c,uw:i??void 0}}ew(t){let e=-1;if(t)e=this.pm.indexOf(t);else{const i=this.Qt().Yu().Us();i!==null&&(e=this.Qt().$s().indexOf(i))}return e}iw(t,e,i,r){this.nv.p(()=>this.nw(e,i,r,t))}sw(t,e,i,r){this.ev.p(()=>this.nw(e,i,r,t))}Rm(t,e,i){this.Vu.p(()=>this.nw(t,e,i))}Bm(){const t=this.ys.timeScale.visible?"":"none";this.Dm.Df().style.display=t}$m(){return this.pm[0].Ff().Co().N().visible}qm(){return this.pm[0].Ff().yo().N().visible}Vm(){return"ResizeObserver"in window&&(this.Sm=new ResizeObserver(t=>{const e=t[t.length-1];e&&this.Im(e.contentRect.width,e.contentRect.height)}),this.Sm.observe(this._p,{box:"border-box"}),!0)}Lm(){this.Sm!==null&&this.Sm.disconnect(),this.Sm=null}}function ep(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function tD(n){return n.open===void 0&&n.value===void 0}function iD(n){return function(t){return t.open!==void 0}(n)||function(t){return t.value!==void 0}(n)}function Hb(n,t,e,i){const r=e.value,s={Re:t,wt:n,Ft:[r,r,r,r],rw:i};return e.color!==void 0&&(s.R=e.color),s}function rD(n,t,e,i){const r=e.value,s={Re:t,wt:n,Ft:[r,r,r,r],rw:i};return e.lineColor!==void 0&&(s.vt=e.lineColor),e.topColor!==void 0&&(s.mr=e.topColor),e.bottomColor!==void 0&&(s.wr=e.bottomColor),s}function nD(n,t,e,i){const r=e.value,s={Re:t,wt:n,Ft:[r,r,r,r],rw:i};return e.topLineColor!==void 0&&(s.gr=e.topLineColor),e.bottomLineColor!==void 0&&(s.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(s.br=e.topFillColor1),e.topFillColor2!==void 0&&(s.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(s.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(s.yr=e.bottomFillColor2),s}function sD(n,t,e,i){const r={Re:t,wt:n,Ft:[e.open,e.high,e.low,e.close],rw:i};return e.color!==void 0&&(r.R=e.color),r}function aD(n,t,e,i){const r={Re:t,wt:n,Ft:[e.open,e.high,e.low,e.close],rw:i};return e.color!==void 0&&(r.R=e.color),e.borderColor!==void 0&&(r.Ht=e.borderColor),e.wickColor!==void 0&&(r.vr=e.wickColor),r}function oD(n,t,e,i,r){const s=ir(r)(e),a=Math.max(...s),o=Math.min(...s),u=s[s.length-1],c=[u,a,o,u],{time:f,color:p,...g}=e;return{Re:t,wt:n,Ft:c,rw:i,se:g,R:p}}function ll(n){return n.Ft!==void 0}function Wb(n,t){return t.customValues!==void 0&&(n.cw=t.customValues),n}function Zs(n){return(t,e,i,r,s,a)=>function(o,u){return u?u(o):tD(o)}(i,a)?Wb({wt:t,Re:e,rw:r},i):Wb(n(t,e,i,r,s),i)}function Yb(n){return{Candlestick:Zs(aD),Bar:Zs(sD),Area:Zs(rD),Baseline:Zs(nD),Histogram:Zs(Hb),Line:Zs(Hb),Custom:Zs(oD)}[n]}function Ub(n){return{Re:0,dw:new Map,Hh:n}}function Xb(n,t){if(n!==void 0&&n.length!==0)return{fw:t.key(n[0].wt),pw:t.key(n[n.length-1].wt)}}function $b(n){let t;return n.forEach(e=>{t===void 0&&(t=e.rw)}),ir(t)}class lD{constructor(t){this.mw=new Map,this.ww=new Map,this.gw=new Map,this.Mw=[],this.Yo=t}m(){this.mw.clear(),this.ww.clear(),this.gw.clear(),this.Mw=[]}bw(t,e){let i=this.mw.size!==0,r=!1;const s=this.ww.get(t);if(s!==void 0)if(this.ww.size===1)i=!1,r=!0,this.mw.clear();else for(const u of this.Mw)u.pointData.dw.delete(t)&&(r=!0);let a=[];if(e.length!==0){const u=e.map(y=>y.time),c=this.Yo.createConverterToInternalObj(e),f=Yb(t.Rr()),p=t.da(),g=t.pa();a=e.map((y,b)=>{const x=c(y.time),w=this.Yo.key(x);let P=this.mw.get(w);P===void 0&&(P=Ub(x),this.mw.set(w,P),r=!0);const S=f(x,P.Re,y,u[b],p,g);return P.dw.set(t,S),S})}i&&this.xw(),this.Sw(t,a);let o=-1;if(r){const u=[];this.mw.forEach(c=>{u.push({timeWeight:0,time:c.Hh,pointData:c,originalTime:$b(c.dw)})}),u.sort((c,f)=>this.Yo.key(c.time)-this.Yo.key(f.time)),o=this.Cw(u)}return this.yw(t,o,function(u,c,f){const p=Xb(u,f),g=Xb(c,f);if(p!==void 0&&g!==void 0)return{kw:!1,zh:p.pw>=g.pw&&p.fw>=g.fw}}(this.ww.get(t),s,this.Yo))}mc(t){return this.bw(t,[])}Pw(t,e,i){const r=e;(function(w){w.rw===void 0&&(w.rw=w.time)})(r),this.Yo.preprocessData(e);const s=this.Yo.createConverterToInternalObj([e])(e.time),a=this.gw.get(t);if(!i&&a!==void 0&&this.Yo.key(s)<this.Yo.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${s}`);let o=this.mw.get(this.Yo.key(s));if(i&&o===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const u=o===void 0;o===void 0&&(o=Ub(s),this.mw.set(this.Yo.key(s),o));const c=Yb(t.Rr()),f=t.da(),p=t.pa(),g=c(s,o.Re,e,r.rw,f,p);o.dw.set(t,g),i?this.Tw(t,g,o.Re):this.Rw(t,g);const y={zh:ll(g),kw:i};if(!u)return this.yw(t,-1,y);const b={timeWeight:0,time:o.Hh,pointData:o,originalTime:$b(o.dw)},x=lo(this.Mw,this.Yo.key(b.time),(w,P)=>this.Yo.key(w.time)<P);this.Mw.splice(x,0,b);for(let w=x;w<this.Mw.length;++w)tp(this.Mw[w].pointData,w);return this.Yo.fillWeightsForPoints(this.Mw,x),this.yw(t,x,y)}Rw(t,e){let i=this.ww.get(t);i===void 0&&(i=[],this.ww.set(t,i));const r=i.length!==0?i[i.length-1]:null;r===null||this.Yo.key(e.wt)>this.Yo.key(r.wt)?ll(e)&&i.push(e):ll(e)?i[i.length-1]=e:i.splice(-1,1),this.gw.set(t,e.wt)}Tw(t,e,i){const r=this.ww.get(t);if(r===void 0)return;const s=lo(r,i,(a,o)=>a.Re<o);ll(e)?r[s]=e:r.splice(s,1)}Sw(t,e){e.length!==0?(this.ww.set(t,e.filter(ll)),this.gw.set(t,e[e.length-1].wt)):(this.ww.delete(t),this.gw.delete(t))}xw(){for(const t of this.Mw)t.pointData.dw.size===0&&this.mw.delete(this.Yo.key(t.time))}Cw(t){let e=-1;for(let i=0;i<this.Mw.length&&i<t.length;++i){const r=this.Mw[i],s=t[i];if(this.Yo.key(r.time)!==this.Yo.key(s.time)){e=i;break}s.timeWeight=r.timeWeight,tp(s.pointData,i)}if(e===-1&&this.Mw.length!==t.length&&(e=Math.min(this.Mw.length,t.length)),e===-1)return-1;for(let i=e;i<t.length;++i)tp(t[i].pointData,i);return this.Yo.fillWeightsForPoints(t,e),this.Mw=t,e}Dw(){if(this.ww.size===0)return null;let t=0;return this.ww.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))}),t}yw(t,e,i){const r={wo:new Map,Bt:{Y_:this.Dw()}};if(e!==-1)this.ww.forEach((s,a)=>{r.wo.set(a,{se:s,Vw:a===t?i:void 0})}),this.ww.has(t)||r.wo.set(t,{se:[],Vw:i}),r.Bt.Iw=this.Mw,r.Bt.Aw=e;else{const s=this.ww.get(t);r.wo.set(t,{se:s||[],Vw:i})}return r}}function tp(n,t){n.Re=t,n.dw.forEach(e=>{e.Re=t})}function uD(n,t){return n.wt<t}function hD(n,t){return t<n.wt}function cD(n,t,e){const i=t.Uh(),r=t.bi(),s=lo(n,i,uD),a=v0(n,r,hD);if(!e)return{from:s,to:a};let o=s,u=a;return s>0&&s<n.length&&n[s].wt>=i&&(o=s-1),a>0&&a<n.length&&n[a-1].wt<=r&&(u=a+1),{from:o,to:u}}class S0{constructor(t,e,i){this.Bw=!0,this.Ew=!0,this.zw=!0,this.Lw=[],this.Ow=null,this.Jn=t,this.Qn=e,this.Nw=i}kt(t){this.Bw=!0,t==="data"&&(this.Ew=!0),t==="options"&&(this.zw=!0)}Tt(){return this.Jn.Vt()?(this.Ww(),this.Ow===null?null:this.Fw):null}Hw(){this.Lw=this.Lw.map(t=>({...t,...this.Jn.Rh().Dr(t.wt)}))}Uw(){this.Ow=null}Ww(){this.Ew&&(this.$w(),this.Ew=!1),this.zw&&(this.Hw(),this.zw=!1),this.Bw&&(this.qw(),this.Bw=!1)}qw(){const t=this.Jn.Wt(),e=this.Qn.Bt();if(this.Uw(),e.Zi()||t.Zi())return;const i=e.ye();if(i===null||this.Jn.Ks().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.Ow=cD(this.Lw,i,this.Nw),this.Yw(t,e,r.Ft),this.jw())}}class dD{constructor(t,e){this.Zw=t,this.Yi=e}nt(t,e,i){this.Zw.draw(t,this.Yi,e,i)}}class fD extends S0{constructor(t,e,i){super(t,e,!1),this.sh=i,this.Fw=new dD(this.sh.renderer(),r=>{const s=t.zt();return s===null?null:t.Wt().Nt(r,s.Ft)})}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}$w(){const t=this.Jn.Rh();this.Lw=this.Jn.Ks().Hr().map(e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),Kw:e.se}))}Yw(t,e){e.j_(this.Lw,Cp(this.Ow))}jw(){this.sh.update({bars:this.Lw.map(pD),barSpacing:this.Qn.Bt().Q_(),visibleRange:this.Ow},this.Jn.N())}}function pD(n){return{x:n._t,time:n.wt,originalData:n.Kw,barColor:n.cr}}const mD={color:"#2196f3"},gD=(n,t,e)=>{const i=ea(e);return new fD(n,t,i)};function vm(n){const t={value:n.Ft[3],time:n.rw};return n.cw!==void 0&&(t.customValues=n.cw),t}function Gb(n){const t=vm(n);return n.R!==void 0&&(t.color=n.R),t}function yD(n){const t=vm(n);return n.vt!==void 0&&(t.lineColor=n.vt),n.mr!==void 0&&(t.topColor=n.mr),n.wr!==void 0&&(t.bottomColor=n.wr),t}function vD(n){const t=vm(n);return n.gr!==void 0&&(t.topLineColor=n.gr),n.Mr!==void 0&&(t.bottomLineColor=n.Mr),n.br!==void 0&&(t.topFillColor1=n.br),n.Sr!==void 0&&(t.topFillColor2=n.Sr),n.Cr!==void 0&&(t.bottomFillColor1=n.Cr),n.yr!==void 0&&(t.bottomFillColor2=n.yr),t}function j0(n){const t={open:n.Ft[0],high:n.Ft[1],low:n.Ft[2],close:n.Ft[3],time:n.rw};return n.cw!==void 0&&(t.customValues=n.cw),t}function bD(n){const t=j0(n);return n.R!==void 0&&(t.color=n.R),t}function xD(n){const t=j0(n),{R:e,Ht:i,vr:r}=n;return e!==void 0&&(t.color=e),i!==void 0&&(t.borderColor=i),r!==void 0&&(t.wickColor=r),t}function Op(n){return{Area:yD,Line:Gb,Baseline:vD,Histogram:Gb,Bar:bD,Candlestick:xD,Custom:wD}[n]}function wD(n){const t=n.rw;return{...n.se,time:t}}const _D={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},PD={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},CD={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:h0,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},ip={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},SD={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Kb(){return{width:0,height:0,autoSize:!1,layout:CD,crosshair:_D,grid:PD,overlayPriceScales:{...ip},leftPriceScale:{...ip,visible:!1},rightPriceScale:{...ip,visible:!0},timeScale:SD,localization:{locale:uo?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class jD{constructor(t,e,i,r){this.xf=t,this.yt=i,this.Xw=e,this.Gw=r}getHeight(){return this.yt.$t()}setHeight(t){const e=this.xf.Qt(),i=e.yc(this.yt);e.Xu(i,t)}paneIndex(){return this.xf.Qt().yc(this.yt)}moveTo(t){const e=this.paneIndex();e!==t&&(Xi(t>=0&&t<this.xf.Cf().length,"Invalid pane index"),this.xf.Qt().Gu(e,t))}getSeries(){return this.yt.wo().map(t=>this.Xw(t))??[]}getHTMLElement(){return this.xf.Cf()[this.paneIndex()].Df()}attachPrimitive(t){this.yt.ua(t),t.attached&&t.attached({chart:this.Gw,requestUpdate:()=>this.yt.Qt().Ah()})}detachPrimitive(t){this.yt.ca(t)}}class DD{constructor(t,e){this.xf=t,this.Jw=e}applyOptions(t){this.xf.Qt().$u(this.Jw,t)}options(){return this.Yi().N()}width(){return Sc(this.Jw)?this.xf.Um(this.Jw):0}Yi(){return me(this.xf.Qt().qu(this.Jw)).Wt}}const kD={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Zb{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Qw(){return this.ir}}class OD{constructor(t,e,i,r,s,a){this.tg=new pi,this.Jn=t,this.ig=e,this.sg=i,this.Yo=s,this.Gw=r,this.ng=a}m(){this.tg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Wt().Nt(t,e.Ft)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Wt().Ts(t,e.Ft)}barsInLogicalRange(t){if(t===null)return null;const e=new no(new wl(t.from,t.to)).o_(),i=this.Jn.Ks();if(i.Zi())return null;const r=i.Wr(e.Uh(),1),s=i.Wr(e.bi(),-1),a=me(i.Lr()),o=me(i.Zs());if(r!==null&&s!==null&&r.Re>s.Re)return{barsBefore:t.from-a,barsAfter:o-t.to};const u={barsBefore:r===null||r.Re===a?t.from-a:r.Re-a,barsAfter:s===null||s.Re===o?o-t.to:o-s.Re};return r!==null&&s!==null&&(u.from=r.rw,u.to=s.rw),u}setData(t){this.Yo,this.Jn.Rr(),this.ig.eg(this.Jn,t),this.rg("full")}update(t,e=!1){this.Jn.Rr(),this.ig.hg(this.Jn,t,e),this.rg("update")}dataByIndex(t,e){const i=this.Jn.Ks().Wr(t,e);return i===null?null:Op(this.seriesType())(i)}data(){const t=Op(this.seriesType());return this.Jn.Ks().Hr().map(e=>t(e))}subscribeDataChanged(t){this.tg.i(t)}unsubscribeDataChanged(t){this.tg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Ln(this.Jn.N())}priceScale(){return this.sg.priceScale(this.Jn.Wt().wa())}createPriceLine(t){const e=Zr(Ln(kD),t),i=this.Jn.Oh(e);return new Zb(i)}removePriceLine(t){this.Jn.Nh(t.Qw())}priceLines(){return this.Jn.Wh().map(t=>new Zb(t))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.Gw,series:this,requestUpdate:()=>this.Jn.Qt().Ah(),horzScaleBehavior:this.Yo})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Ah()}getPane(){const t=this.Jn,e=me(this.Jn.Qt().Hn(t));return this.ng(e)}moveToPane(t){this.Jn.Qt().bc(this.Jn,t)}rg(t){this.tg.v()&&this.tg.p(t)}}class TD{constructor(t,e,i){this.ag=new pi,this.g_=new pi,this.Xv=new pi,this.ts=t,this.uh=t.Bt(),this.Dm=e,this.uh.du().i(this.lg.bind(this)),this.uh.fu().i(this.og.bind(this)),this.Dm.nm().i(this._g.bind(this)),this.Yo=i}m(){this.uh.du().u(this),this.uh.fu().u(this),this.Dm.nm().u(this),this.ag.m(),this.g_.m(),this.Xv.m()}scrollPosition(){return this.uh.iu()}scrollToPosition(t,e){e?this.uh._u(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ou()}getVisibleRange(){const t=this.uh.O_();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.Yo.convertHorzItemToInternal(t.from),to:this.Yo.convertHorzItemToInternal(t.to)},i=this.uh.H_(e);this.ts.gc(i)}getVisibleLogicalRange(){const t=this.uh.L_();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){Xi(t.from<=t.to,"The from index cannot be after the to index."),this.ts.gc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.mu()}logicalToCoordinate(t){const e=this.ts.Bt();return e.Zi()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Zi()?null:this.uh.Z_(t)}timeToIndex(t,e){const i=this.Yo.convertHorzItemToInternal(t);return this.uh.B_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Bt(),i=e.Z_(t),r=e.ss(i);return r===null?null:r.originalTime}width(){return this.Dm.Vf().width}height(){return this.Dm.Vf().height}subscribeVisibleTimeRangeChange(t){this.ag.i(t)}unsubscribeVisibleTimeRangeChange(t){this.ag._(t)}subscribeVisibleLogicalRangeChange(t){this.g_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.g_._(t)}subscribeSizeChange(t){this.Xv.i(t)}unsubscribeSizeChange(t){this.Xv._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Ln(this.uh.N()),barSpacing:this.uh.Q_()}}lg(){this.ag.v()&&this.ag.p(this.getVisibleRange())}og(){this.g_.v()&&this.g_.p(this.getVisibleLogicalRange())}_g(t){this.Xv.p(t.width,t.height)}}function MD(n){if(n===void 0||n.type==="custom")return;const t=n;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let i=0;for(;i<8;i++){const r=Math.round(e);if(Math.abs(r-e)<1e-8)return i;e*=10}return i}(t.minMove))}function Qb(n){return function(t){if(ch(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:r}=t.handleScale;ch(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),ch(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;ch(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(n),n}class FD{constructor(t,e,i){this.ug=new Map,this.cg=new Map,this.dg=new pi,this.fg=new pi,this.pg=new pi,this.Pu=new WeakMap,this.vg=new lD(e);const r=i===void 0?Ln(Kb()):Zr(Ln(Kb()),Qb(i));this.mg=e,this.xf=new eD(t,r,e),this.xf.Rv().i(a=>{this.dg.v()&&this.dg.p(this.wg(a()))},this),this.xf.Dv().i(a=>{this.fg.v()&&this.fg.p(this.wg(a()))},this),this.xf.ju().i(a=>{this.pg.v()&&this.pg.p(this.wg(a()))},this);const s=this.xf.Qt();this.gg=new TD(s,this.xf.Em(),this.mg)}remove(){this.xf.Rv().u(this),this.xf.Dv().u(this),this.xf.ju().u(this),this.gg.m(),this.xf.m(),this.ug.clear(),this.cg.clear(),this.dg.m(),this.fg.m(),this.pg.m(),this.vg.m()}resize(t,e,i){this.autoSizeActive()||this.xf.Im(t,e,i)}addCustomSeries(t,e={},i=0){const r=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...mD,...s.defaultOptions()},Mg:gD,bg:s}))(ea(t));return this.xg(r,e,i)}addSeries(t,e={},i=0){return this.xg(t,e,i)}removeSeries(t){const e=ir(this.ug.get(t)),i=this.vg.mc(e);this.xf.Qt().mc(e),this.Sg(i),this.ug.delete(t),this.cg.delete(e)}eg(t,e){this.Sg(this.vg.bw(t,e))}hg(t,e,i){this.Sg(this.vg.Pw(t,e,i))}subscribeClick(t){this.dg.i(t)}unsubscribeClick(t){this.dg._(t)}subscribeCrosshairMove(t){this.pg.i(t)}unsubscribeCrosshairMove(t){this.pg._(t)}subscribeDblClick(t){this.fg.i(t)}unsubscribeDblClick(t){this.fg._(t)}priceScale(t){return new DD(this.xf,t)}timeScale(){return this.gg}applyOptions(t){this.xf.hr(Qb(t))}options(){return this.xf.N()}takeScreenshot(){return this.xf.Fm()}removePane(t){this.xf.Qt().Ku(t)}swapPanes(t,e){this.xf.Qt().Gu(t,e)}autoSizeActive(){return this.xf.Ym()}chartElement(){return this.xf.Ef()}panes(){return this.xf.Qt().$s().map(t=>this.Cg(t))}paneSize(t=0){const e=this.xf.Km(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const r=this.ug.get(i);if(r===void 0)return;const s=this.xf.Qt().Hn(r);s!==null&&this.xf.Qt()._c(t,e,s)}clearCrosshairPosition(){this.xf.Qt().uc(!0)}horzBehaviour(){return this.mg}xg(t,e={},i=0){Xi(t.Mg!==void 0),MD(e.priceFormat),t.type==="Candlestick"&&function(u){u.borderColor!==void 0&&(u.borderUpColor=u.borderColor,u.borderDownColor=u.borderColor),u.wickColor!==void 0&&(u.wickUpColor=u.wickColor,u.wickDownColor=u.wickColor)}(e);const r=Zr(Ln(l0),Ln(t.defaultOptions),e),s=t.Mg,a=new Dc(this.xf.Qt(),t.type,r,s,t.bg);this.xf.Qt().fc(a,i);const o=new OD(a,this,this,this,this.mg,u=>this.Cg(u));return this.ug.set(o,a),this.cg.set(a,o),o}Sg(t){const e=this.xf.Qt();e.cc(t.Bt.Y_,t.Bt.Iw,t.Bt.Aw),t.wo.forEach((i,r)=>r.ht(i.se,i.Vw)),e.Bt().R_(),e.J_()}yg(t){return ir(this.cg.get(t))}wg(t){const e=new Map;t.ow.forEach((r,s)=>{const a=s.Rr(),o=Op(a)(r);if(a!=="Custom")Xi(iD(o));else{const u=s.pa();Xi(!u||u(o)===!1)}e.set(this.yg(s),o)});const i=t.lw!==void 0&&this.cg.has(t.lw)?this.yg(t.lw):void 0;return{time:t.rw,logical:t.Re,point:t.hw,paneIndex:t.aw,hoveredSeries:i,hoveredObjectId:t._w,seriesData:e,sourceEvent:t.uw}}Cg(t){let e=this.Pu.get(t);return e||(e=new jD(this.xf,i=>this.yg(i),t,this),this.Pu.set(t,e)),e}}function ED(n){if(Bl(n)){const t=document.getElementById(n);return Xi(t!==null,`Cannot find element in DOM with id=${n}`),t}return n}function VD(n,t,e){const i=ED(n),r=new FD(i,t,e);return t.setOptions(r.options()),r}function AD(n,t){return VD(n,new Vb,Vb.Fc(t))}class ID extends S0{constructor(t,e){super(t,e,!0)}Yw(t,e,i){e.j_(this.Lw,Cp(this.Ow)),t.Dl(this.Lw,i,Cp(this.Ow))}kg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}$w(){const t=this.Jn.Rh();this.Lw=this.Jn.Ks().Hr().map(e=>{const i=e.Ft[3];return this.Pg(e.Re,i,t)})}}function D0(n,t,e,i,r,s,a){if(t.length===0||i.from>=t.length||i.to<=0)return;const{context:o,horizontalPixelRatio:u,verticalPixelRatio:c}=n,f=t[i.from];let p=s(n,f),g=f;if(i.to-i.from<2){const y=r/2;o.beginPath();const b={_t:f._t-y,ut:f.ut},x={_t:f._t+y,ut:f.ut};o.moveTo(b._t*u,b.ut*c),o.lineTo(x._t*u,x.ut*c),a(n,p,b,x)}else{const y=(x,w)=>{a(n,p,g,w),o.beginPath(),p=x,g=w};let b=g;o.beginPath(),o.moveTo(f._t*u,f.ut*c);for(let x=i.from+1;x<i.to;++x){b=t[x];const w=s(n,b);switch(e){case 0:o.lineTo(b._t*u,b.ut*c);break;case 1:o.lineTo(b._t*u,t[x-1].ut*c),w!==p&&(y(w,b),o.lineTo(b._t*u,t[x-1].ut*c)),o.lineTo(b._t*u,b.ut*c);break;case 2:{const[P,S]=RD(t,x-1,x);o.bezierCurveTo(P._t*u,P.ut*c,S._t*u,S.ut*c,b._t*u,b.ut*c);break}}e!==1&&w!==p&&(y(w,b),o.moveTo(b._t*u,b.ut*c))}(g!==b||g===b&&e===1)&&a(n,p,g,b)}}const qb=6;function rp(n,t){return{_t:n._t-t._t,ut:n.ut-t.ut}}function Jb(n,t){return{_t:n._t/t,ut:n.ut/t}}function RD(n,t,e){const i=Math.max(0,t-1),r=Math.min(n.length-1,e+1);var s,a;return[(s=n[t],a=Jb(rp(n[e],n[i]),qb),{_t:s._t+a._t,ut:s.ut+a.ut}),rp(n[e],Jb(rp(n[r],n[t]),qb))]}function LD(n,t){const e=n.context;e.strokeStyle=t,e.stroke()}class ND extends va{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:i,Tg:r,Rg:s,ct:a,Kt:o,Dg:u}=this.rt;if(i===null)return;const c=t.context;c.lineCap="butt",c.lineWidth=a*t.verticalPixelRatio,aa(c,o),c.lineJoin="round";const f=this.Vg.bind(this);s!==void 0&&D0(t,e,s,i,r,f,LD),u&&function(p,g,y,b,x){if(b.to-b.from<=0)return;const{horizontalPixelRatio:w,verticalPixelRatio:P,context:S}=p;let k=null;const T=Math.max(1,Math.floor(w))%2/2,j=y*P+T;for(let V=b.to-1;V>=b.from;--V){const A=g[V];if(A){const I=x(p,A);I!==k&&(S.beginPath(),k!==null&&S.fill(),S.fillStyle=I,k=I);const L=Math.round(A._t*w)+T,J=A.ut*P;S.moveTo(L,J),S.arc(L,J,j,0,2*Math.PI)}}S.fill()}(t,e,u,i,f)}}class zD extends ND{Vg(t,e){return e.vt}}function BD(n,t,e,i,r){const{context:s,horizontalPixelRatio:a,verticalPixelRatio:o}=t;s.lineTo(r._t*a,n*o),s.lineTo(i._t*a,n*o),s.closePath(),s.fillStyle=e,s.fill()}class HD extends va{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:i,Tg:r,ct:s,Kt:a,Rg:o}=this.rt,u=this.rt.Og??(this.rt.Ng?0:t.mediaSize.height);if(i===null)return;const c=t.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=s,aa(c,a),c.lineWidth=1,D0(t,e,o,i,r,this.Wg.bind(this),BD.bind(null,u))}}class WD{Fg(t,e){const i=this.Hg,{Ug:r,$g:s,qg:a,Yg:o,Og:u,jg:c,Zg:f}=e;if(this.Kg===void 0||i===void 0||i.Ug!==r||i.$g!==s||i.qg!==a||i.Yg!==o||i.Og!==u||i.jg!==c||i.Zg!==f){const{verticalPixelRatio:p}=t,g=u||c>0?p:1,y=c*g,b=f===t.bitmapSize.height?f:f*g,x=(u??0)*g,w=t.context.createLinearGradient(0,y,0,b);if(w.addColorStop(0,r),u!=null){const P=xl((x-y)/(b-y),0,1);w.addColorStop(P,s),w.addColorStop(P,a)}w.addColorStop(1,o),this.Kg=w,this.Hg=e}return this.Kg}}class YD extends HD{constructor(){super(...arguments),this.Xg=new WD}Wg(t,e){var i;return this.Xg.Fg(t,{Ug:e.mr,$g:"",qg:"",Yg:e.wr,jg:((i=this.rt)==null?void 0:i.jg)??0,Zg:t.bitmapSize.height})}}class UD extends ID{constructor(t,e){super(t,e),this.Fw=new c0,this.tM=new YD,this.iM=new zD,this.Fw.st([this.tM,this.iM])}Pg(t,e,i){return{...this.kg(t,e),...i.Dr(t)}}jw(){const t=this.Jn.N();if(this.Ow===null||this.Lw.length===0)return;let e;if(t.relativeGradient){e=this.Lw[this.Ow.from].ut;for(let i=this.Ow.from;i<this.Ow.to;i++){const r=this.Lw[i];r.ut<e&&(e=r.ut)}}this.tM.ht({Rg:t.lineType,ot:this.Lw,Kt:t.lineStyle,ct:t.lineWidth,Og:null,jg:e,Ng:t.invertFilledArea,lt:this.Ow,Tg:this.Qn.Bt().Q_()}),this.iM.ht({Rg:t.lineVisible?t.lineType:void 0,ot:this.Lw,Kt:t.lineStyle,ct:t.lineWidth,lt:this.Ow,Tg:this.Qn.Bt().Q_(),Dg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}const XD={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Mg:(n,t)=>new UD(n,t)};({...l0});const $D={primary:"#6b21a8",secondary:"#295f98",accent:"#f59e0b",neutral:"#212529",base:"#fefefe",info:"#38bdf8",success:"#4ade80",warning:"#facc15",error:"#ef4444",dark:"#101010",light:"#f2f2f2"},Gh=({data:n})=>{const t=$D,{areaBottomColor:e,areaTopColor:i,textColor:r}={textColor:t.info,areaTopColor:t.info,areaBottomColor:t.dark},s=E.useRef(null),a=E.useRef(null);return E.useEffect(()=>{if(s&&s.current){const o=()=>{s&&s.current&&u.applyOptions({width:s.current.clientWidth})},u=AD(s.current,{layout:{background:{color:"transparent"},textColor:r},height:300});return u.applyOptions({autoSize:!0,grid:{horzLines:{color:"#0000"},vertLines:{color:"#1DCD9F23"}},width:300,localization:{dateFormat:"yyyy-mm-dd"}}),u.timeScale().fitContent(),u.addSeries(XD,{lineColor:"#1DCD9F",topColor:"#169976",bottomColor:"transparent"}).setData(n),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),u.remove()}}},[n,r,i,e]),d.jsx("div",{ref:a,children:d.jsx("div",{style:{width:"100%"},className:"",ref:s})})},GD=({path:n,reload:t})=>{const[e,i]=E.useState(null),[r,s]=E.useState(2025),[a,o]=E.useState("month"),[u,c]=E.useState("Estadística"),[f,p]=E.useState(new Date().getMonth()+1),[g,y]=E.useState(null),[b,x]=E.useState(!0);E.useEffect(()=>{(async()=>{const k=`${Ke}/statictics${n}/?year=${r}&month=${f}&type=${a}`,j=await(await fetch(k,{headers:{token:`${qe()}`}})).json();j.statictic&&y(j.statictic),j.title&&c(j.title),j.yearList&&i(j.yearList)})()},[f,r,a,t,b]);const w=k=>{const T=Number(k.target.value);p(T)},P=k=>{const T=Number(k.target.value);s(T)},S=k=>{const T=k.target.value;o(T)};return d.jsx(d.Fragment,{children:g&&d.jsxs("div",{className:"rounded-t-lg",children:[d.jsxs("header",{className:" px-3 flex justify-between items-center py-3 bg-gradient-to-b from-transparent to-primary/20",children:[d.jsx(bt,{text:u,customClass:"font-bold",size:"xl"}),d.jsxs("ul",{className:"flex gap-3",children:[d.jsx("li",{children:d.jsx($e,{click:()=>x(!b),ico:d.jsx(_e,{ico:"reload"})})}),d.jsx("li",{children:e&&d.jsxs("select",{onChange:P,className:"select select-sm focus:outline-none",children:[d.jsx("option",{value:"",children:"años"}),e.map(k=>d.jsx("option",{selected:k.year==k,value:k.year,children:k.year}))]})}),d.jsx("li",{children:a==="month"&&d.jsxs("select",{onChange:w,className:"select select-sm focus:outline-none",children:[d.jsx("option",{value:"",children:"mes"}),d.jsx("option",{selected:f==1,value:1,children:"ENERO"}),d.jsx("option",{selected:f==2,value:2,children:"FEBRERO"}),d.jsx("option",{selected:f==3,value:3,children:"MARZO"}),d.jsx("option",{selected:f==4,value:4,children:"ABRIL"}),d.jsx("option",{selected:f==5,value:5,children:"MAYO"}),d.jsx("option",{selected:f==6,value:6,children:"JUNIO"}),d.jsx("option",{selected:f==7,value:7,children:"JULIO"}),d.jsx("option",{selected:f==8,value:8,children:"AGOSTO"}),d.jsx("option",{selected:f==9,value:9,children:"SEPTIEMBRE"}),d.jsx("option",{selected:f==10,value:10,children:"OCTUBRE"}),d.jsx("option",{selected:f==11,value:11,children:"NOVIEMBRE"}),d.jsx("option",{selected:f==12,value:12,children:"DICIEMBRE"})]})}),d.jsx("li",{children:d.jsxs("select",{onChange:S,className:"select select-sm focus:outline-none",children:[d.jsx("option",{value:"",children:"tipo"}),d.jsx("option",{value:"month",children:"Por Meses"}),d.jsx("option",{value:"year",children:"Por Años"})]})})]})]}),d.jsx(Gh,{data:g,title:""})]})})},bm=({path:n,reload:t,userId:e})=>{const[i,r]=E.useState(null);return E.useEffect(()=>{(async()=>{const s=`${Ke}/statictics/found/${n}/?userId=${e}`,o=await(await fetch(s,{headers:{token:`${qe()}`}})).json();o.found&&r(o.found)})()},[]),d.jsx(d.Fragment,{children:i&&d.jsx("section",{children:i.map(s=>d.jsx(GD,{reload:t,path:s.path}))})})},KD=({})=>{const{init:n}=Bt(),[t,e]=E.useState(null),[i,r]=E.useState(!1);E.useEffect(()=>{(async()=>{const u=`${Ke}/profile/gui`,f=await(await fetch(u,{headers:{token:`${qe()}`}})).json();e(f.body)})()},[i]);const s=()=>{const u=O2(t);return n(d.jsx("div",{className:"bg-base-300 p-4 rounded-md",children:d.jsx(Pp,{init:t,form:u,reload:()=>r(!i)})}))},a=()=>{const u=T2();return n(d.jsx("div",{className:"bg-base-300 p-4 rounded-md",children:d.jsx(Pp,{form:u,reload:()=>r(!i)})}))},o=()=>n(d.jsx(M2,{}));return d.jsx("div",{className:"px-3",children:t?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"w-full px-5 py-3 rounded-xl bg-base-300",children:[d.jsxs("div",{className:"flex gap-4 justify-start items-center mb-5",children:[d.jsx("div",{className:"avatar aspect-square w-48"}),d.jsxs("div",{className:"w-full",children:[d.jsx(bt,{text:`Perfil: ${t?`${t.name} ${t.lastname}`:""}`,size:"3xl",customClass:"font-black"}),d.jsx("table",{className:"table table-zebra w-full",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsxs("td",{children:["Nombre: ",d.jsx("b",{children:t.name?t.name:""})]}),d.jsxs("td",{children:["Apellido: ",d.jsx("b",{children:t.lastname?t.lastname:""})]}),d.jsxs("td",{children:["Edad: ",d.jsx("b",{children:t.age?t.age:""})]})]}),d.jsxs("tr",{children:[d.jsxs("td",{children:["Correo: ",d.jsx("b",{children:t.email?t.email:""})]}),d.jsxs("td",{children:["Teléfono: ",d.jsx("b",{children:t.phone?t.phone:""})]}),d.jsxs("td",{children:["Dirección: ",d.jsx("b",{children:t.address?t.address:""})]})]}),d.jsxs("tr",{children:[d.jsxs("td",{children:["Usuario: ",d.jsx("b",{children:t.username?t.username:""})]}),d.jsx("td",{}),d.jsx("td",{})]}),d.jsxs("tr",{children:[d.jsxs("td",{children:["F. Creación: ",d.jsx("b",{children:t.createAt?t.createAt:""})]}),d.jsxs("td",{children:["U. Actualización ",d.jsx("b",{children:t.createAt?t.createAt:""})]}),d.jsx("td",{})]})]})}),d.jsxs("div",{className:"w-full flex justify-start gap-5 mt-3",children:[d.jsx($e,{click:s,color:"primary",customClass:"font-bold",ico:d.jsx(_e,{ico:"update"}),text:"Datos"}),d.jsx($e,{click:a,color:"warning",customClass:"font-bold",ico:d.jsx(_e,{ico:"secure"}),text:"Contraseña"}),d.jsx($e,{click:o,color:"info",customClass:"font-bold",ico:d.jsx(_e,{ico:"image"}),text:"Foto"})]})]})]}),d.jsx(bm,{reload:!0,path:"profile"})]})}):d.jsx(d.Fragment,{})})},ZD=()=>d.jsxs("div",{className:"min-h-screen bg-base-100",children:[d.jsxs("header",{className:"",children:[d.jsx("nav",{className:"container mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"mask p-2",children:d.jsx(Sl,{alt:"",customClass:"",h:50,w:50,src:"/logo.png"})}),d.jsx(qx,{text:"nutringest",customClass:"font-black",size:"3xl"})]}),d.jsxs("div",{className:"hidden md:flex space-x-8",children:[d.jsx("a",{href:"#features",className:"text-base-content hover:text-primary transition-colors",children:"Características"}),d.jsx("a",{href:"#benefits",className:"text-base-content hover:text-primary transition-colors",children:"Beneficios"}),d.jsx("a",{href:"#pricing",className:"text-base-content hover:text-primary transition-colors",children:"Precios"}),d.jsx("a",{href:"#team",className:"text-base-content hover:text-primary transition-colors",children:"Equipo"})]}),qe()?d.jsxs("div",{className:"flex gap-2",children:[d.jsx($e,{url:"/dashboard",variant:"border",color:"success",text:"Inicio",ico:d.jsx(_e,{ico:"dashboard"}),size:"md"}),d.jsx($e,{click:()=>{i0(),window.location.reload()},variant:"border",color:"error",text:"salir",ico:d.jsx(_e,{ico:"x"}),size:"md"})]}):d.jsx($e,{variant:"border",color:"success",text:"Demo",ico:d.jsx(_e,{ico:"success"}),size:"md"})]})}),d.jsx("div",{className:"container mx-auto px-6 py-20",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[d.jsxs("div",{className:"md:w-1/2 mb-10 md:mb-0",children:[d.jsxs("h1",{className:"text-5xl font-bold text-base-content mb-6 leading-tight animate-fade-in",children:["Tu Software Ideal para",d.jsx("span",{className:"text-primary",children:" Nutricionistas"})]}),d.jsx(mo,{text:"Optimiza tu práctica profesional con la herramienta más completa para gestionar pacientes, planes nutricionales y seguimiento clínico.",customClass:"text-xl text-base-content/70 mb-8"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx($e,{url:"/login",color:"primary",text:"Empezar ahora",ico:d.jsx(_e,{ico:"success"})}),d.jsx($e,{url:"/register",variant:"border",color:"success",text:"Crear cuenta",ico:d.jsx(_e,{ico:"success"})})]})]}),d.jsx("div",{className:"md:w-1/2",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1498837167922-ddd27525d352?auto=format&fit=crop&w=800&q=80",alt:"Nutricionista trabajando",className:"rounded-2xl shadow-2xl animate-float mask mask-squircle"})})]})})]}),d.jsx("section",{id:"features",className:"py-20 bg-base-100",children:d.jsxs("div",{className:"container mx-auto px-6",children:[d.jsxs("div",{className:"text-center mb-20",children:[d.jsx("h2",{className:"text-4xl font-bold text-base-content mb-4",children:"Características Principales"}),d.jsx("p",{className:"text-xl text-base-content/70",children:"Todo lo que necesitas en un solo lugar"})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),title:"Gestión de Pacientes",description:"Administra perfiles, historiales y seguimiento de manera eficiente"},{icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 3h18v18H3zM8 10h8M8 14h8M8 18h8"})}),title:"Gestión de Menús",description:"Crea y personaliza planes nutricionales adaptados a cada paciente"}].map((n,t)=>d.jsx("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow duration-300 hover:-translate-y-1",children:d.jsxs("div",{className:"card-body items-center text-center",children:[d.jsx("div",{className:"text-primary mb-4",children:n.icon}),d.jsx("h3",{className:"card-title text-base-content",children:n.title}),d.jsx("p",{className:"text-base-content/70",children:n.description})]})},t))})]})}),d.jsx("section",{id:"benefits",className:"py-20 bg-gradient-to-br from-primary/10 to-secondary/10",children:d.jsx("div",{className:"container mx-auto px-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[d.jsx("div",{className:"md:w-1/2 mb-10 md:mb-0",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&w=800&q=80",alt:"Beneficios Nutringest",className:"rounded-2xl shadow-lg mask mask-squircle"})}),d.jsxs("div",{className:"md:w-1/2 md:pl-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-base-content mb-8",children:"¿Por qué elegir Nutringest?"}),["Respaldo automático y seguro de toda tu información","Seguimiento detallado del progreso de pacientes","Gestión de menus","Gestión de listas de intercambio"].map((n,t)=>d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx("div",{className:"badge badge-primary p-3 mr-3",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M20 6L9 17l-5-5"})})}),d.jsx("span",{className:"text-lg text-base-content",children:n})]},t))]})]})})}),d.jsx("section",{id:"pricing",className:"py-20 bg-base-100",children:d.jsxs("div",{className:"container mx-auto px-6",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-base-content mb-4",children:"Planes Adaptados a tus Necesidades"}),d.jsx("p",{className:"text-xl text-base-content/70",children:"Elige el plan que mejor se ajuste a tu práctica profesional"})]}),d.jsx("div",{className:"flex gap-8 justify-center items-center",children:[{name:"Pre Venta",price:"15",features:["Gestión de hasta 100 pacientes","App móvil para pacientes","Planes nutricionales básicos","Seguimiento de progreso"],highlighted:!0},{name:"Profesional",price:"25",features:["Gestión de hasta 100 pacientes","App móvil para pacientes","Planes nutricionales básicos","Seguimiento de progreso"]}].map((n,t)=>d.jsx("div",{className:`card ${n.highlighted?"bg-gradient-to-br from-primary to-secondary text-white shadow-2xl scale-105":"bg-base-100 shadow-xl"}`,children:d.jsxs("div",{className:"card-body",children:[d.jsx("h3",{className:`text-2xl font-bold mb-2 ${n.highlighted?"text-white":"text-base-content"}`,children:n.name}),d.jsxs("div",{className:"flex items-baseline my-8",children:[d.jsxs("span",{className:"text-4xl font-bold",children:["$",n.price]}),d.jsx("span",{className:"ml-1 text-xl",children:"/mes"})]}),d.jsx("ul",{className:"space-y-4 mb-8",children:n.features.map((e,i)=>d.jsxs("li",{className:"flex items-center",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${n.highlighted?"text-white":"text-primary"} mr-3`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M20 6L9 17l-5-5"})}),d.jsx("span",{className:n.highlighted?"text-white":"text-base-content/70",children:e})]},i))}),d.jsx("div",{className:"card-actions justify-center",children:d.jsx("button",{className:`btn btn-block ${n.highlighted?"btn-base-300":"btn-primary"}`,children:"Comenzar ahora"})})]})},t))})]})}),d.jsx("section",{id:"team",className:"py-16 bg-base-100",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"La Mente Detrás del Proyecto"}),d.jsx("p",{className:"text-lg dark:text-gray-400 text-gray-700",children:"Experto en nutrición y bienestar integral"})]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-12",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?auto=format&fit=crop&q=80&w=800",alt:"Winder González",className:"rounded-lg shadow-lg w-full h-auto object-cover"})}),d.jsxs("div",{className:"md:w-1/2",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Winder González"}),d.jsx("h4",{className:"text-xl text-green-600 mb-6",children:"Nutricionista y Dietista"}),d.jsx("p",{className:"dark:text-gray-400 text-gray-700 mb-8",children:"Con más de una década de experiencia en nutrición y dietética, Winder González ha dedicado su carrera a promover hábitos alimenticios saludables y sostenibles. Su enfoque integral combina la ciencia nutricional moderna con prácticas alimentarias tradicionales."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"flex flex-col items-center p-4 shadow-lg shadow-base-300 rounded-lg",children:[d.jsx(CS,{className:"w-8 h-8 text-green-600 mb-2"}),d.jsx("h5",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Certificado"}),d.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-700 text-center",children:"Lic Nutricón"})]}),d.jsxs("div",{className:"flex flex-col items-center p-4 shadow-lg shadow-base-300 rounded-lg",children:[d.jsx(RS,{className:"w-8 h-8 text-green-600 mb-2"}),d.jsx("h5",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Investigador"}),d.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-700 text-center",children:"Alimentación Saludable"})]}),d.jsxs("div",{className:"flex flex-col items-center p-4 shadow-lg shadow-base-300 rounded-lg",children:[d.jsx($S,{className:"w-8 h-8 text-green-600 mb-2"}),d.jsx("h5",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Consultor"}),d.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-700 text-center",children:"Restaurantes Saludables"})]})]})]})]})]})}),d.jsx("section",{className:"bg-gradient-to-r from-primary to- py-20",children:d.jsxs("div",{className:"container mx-auto px-6 text-center flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-4xl font-bold text-white mb-8",children:"Comienza tu prueba gratuita hoy"}),d.jsx("p",{className:"text-white text-xl mb-8",children:"14 días gratis, sin compromiso. Descubre cómo Nutringest puede transformar tu práctica profesional."}),d.jsx($e,{variant:"border",color:"success",text:"Empezar prueba gratuita",size:"lg",ico:d.jsx(_e,{ico:"secure"})})]})}),d.jsx("footer",{className:"bg-neutral text-white py-12",children:d.jsxs("div",{className:"container mx-auto px-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[d.jsxs("div",{className:"mb-8 md:mb-0",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx("div",{className:"mask mask-squircle",children:d.jsx(Sl,{alt:"",customClass:"",h:50,w:50,src:"/logo.png"})}),d.jsx("span",{className:"text-2xl font-bold",children:"Nutringest"})]}),d.jsx("p",{className:"text-base-content text-opacity-60 max-w-sm",children:"Transformando la práctica nutricional con tecnología innovadora."})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-12",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Producto"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Características"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Precios"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Demo"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Empresa"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Sobre nosotros"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Blog"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Contacto"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Legal"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Privacidad"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-base-content text-opacity-60 hover:text-primary",children:"Términos"})})]})]})]})]}),d.jsx("div",{className:"border-t border-base-content border-opacity-10 mt-12 pt-8 text-center text-base-content text-opacity-60",children:d.jsx("p",{children:"© 2025 Nutringest. Todos los derechos reservados."})})]})})]});function QD(){return _c().session?d.jsx(d.Fragment,{children:d.jsx(Xx,{})}):d.jsx(Ux,{to:"/login"})}function qD(){return _c().session?d.jsx(Ux,{to:"/dashboard"}):d.jsx(Xx,{})}const Oc=async({path:n,token:t})=>{try{const e=`${Ke}${n}`,i=await fetch(e,{method:"GET",headers:{token:t?`${qe()}`:""}});return i.ok?await i.json():{message:"Error temporal",status:400,statusMessage:"error"}}catch{return{message:"Error temporal",status:400,statusMessage:"error"}}},JD=async({path:n})=>{const t=await Oc({path:n,token:!0});return t.statusMessage==="success"?t.body:null},ek=async({path:n})=>{const t=await Oc({path:n,token:!0});return t.statusMessage==="success"?t.body:null},tk=async({path:n})=>{const t=await Oc({path:n,token:!0});return t.statusMessage==="success"?t.body:null},ik=({item:n,active:t})=>{const[e,i]=E.useState(!1),[r,s]=E.useState("scale-y-0 -translate-y-4 hidden"),a=()=>{s(e?"scale-y-0 -translate-y-11 hidden":"scale-y-100 translate-y- flex"),i(!e)};return d.jsxs(d.Fragment,{children:[d.jsxs(Be,{click:a,customClass:"bg-opacity-0 flex items-center p-2 text-white hover:bg-primary/70 rounded-lg group w-full duration-200",children:[d.jsx(_e,{ico:n.ico}),d.jsx(mr,{text:t?n.label:"",customClass:""}),e?d.jsx(_e,{ico:"down"}):d.jsx(_e,{ico:"drop"})]}),d.jsx("div",{className:`${r} duration-300 top-7 w-full bg-gray-700 dark:bg-base-300 p-1 grid space-y-1`,children:n.childs&&n.childs.map(o=>d.jsx($e,{text:t?o.label:"",ico:d.jsx(_e,{ico:o.ico}),customClass:"border-0 -full flex justify-center items-center bg-gray-900 text-center hover:bg-primary duration-200",url:`/dashboard${o.path}`}))})]})},rk=({sidebarOpen:n=!0})=>{const[t,e]=E.useState(null),[i,r]=E.useState(!0);return E.useEffect(()=>{(async()=>{const s=await JD({path:"/dashboard/gui/slide"});s&&(e(s),r(!1))})()},[]),d.jsx(d.Fragment,{children:d.jsx("aside",{className:`bg-gray-950 z-10 dark:bg-base-300 fixed top-0 left-0 w-64 h-screen transition-transform ${n?"translate-x-0":"-translate-x-full"}`,children:d.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto bg-",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-8 px-2",children:[d.jsx("div",{className:"",children:d.jsx(Sl,{alt:"",customClass:"",h:50,w:50,src:"/logo.png"})}),d.jsx("span",{className:"text-xl font-bold text-white",children:"nutringest"})]}),d.jsx("ul",{className:"space-y-2",children:i?d.jsx("div",{className:"w-full flex justify-center items-center py-2",children:d.jsx("span",{className:"loading loading-spinner m-auto"})}):t&&t.map(s=>s.childs?d.jsx(ik,{active:!0,item:s}):d.jsx($e,{text:s.label,ico:d.jsx(_e,{ico:s.ico}),customClass:"border-gray-500 bg-opacity-0 flex items-center p-2 text-white hover:bg-primary/70 rounded-lg group w-full",url:`/dashboard${s.path}`}))})]})})})},nk=({openOrClose:n})=>{const t=nr(),e=_c(),[i,r]=E.useState(null),s=()=>{i0(),e.setSession(!1),t("/login",{viewTransition:!0})};return E.useEffect(()=>{(async()=>{const a=await tk({path:"/dashboard/gui/navbar"});a&&r(a)})()},[]),d.jsx(d.Fragment,{children:d.jsx("nav",{className:"bg-gradient-to-b from-transparent to-gray-300 dark:to-base-300 rounded-b-[20px] p-2",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{onClick:n,className:"btn btn-ghost btn-circle",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"dropdown dropdown-end",children:d.jsx($e,{variant:"border",color:"accent",text:"volver",click:()=>t(-1)})}),d.jsxs("div",{className:"dropdown dropdown-end",children:[d.jsx("div",{tabIndex:0,role:"button",className:"btn btn-circle avatar bg-gray-700 text-white",children:d.jsx("span",{className:"text-2xl font-mono",children:"NG"})}),d.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-300 rounded-box w-52",children:[i&&i.map(a=>d.jsx($e,{url:a.url,text:a.label,customClass:"text-gray-600 hover:text-white dark:text-gray-300 hover:bg-primary"})),d.jsx($e,{click:s,text:"Salir",color:"error",variant:"border",customClass:"mt-3"})]})]})]})]})})})},hi=({children:n})=>{const[t,e]=E.useState(!0),i=()=>e(!t);return d.jsxs("div",{className:"min-h-screen",children:[d.jsx(rk,{sidebarOpen:t}),d.jsxs("main",{className:`p-4 ${t?"ml-64":""}`,children:[d.jsx(nk,{openOrClose:i}),d.jsx("div",{className:"py-3 px-5",children:n})]})]})},Hl=qe(),xm=async({object:n})=>{try{const t=`${Ke}/${n}/gui`,e=await fetch(t,{headers:{token:`${Hl}`}});if(!e.ok){const r=await e.json();return r.statusMessage&&r.statusMessage==="error"?r:{statusMessage:"error",message:"Error temporal.",status:400}}return await e.json()}catch{return{statusMessage:"error",message:"Error temporal.",status:400}}},sk=async({object:n})=>{const t=`${Ke}/${n}/gui/table/header`;return await(await fetch(t,{headers:{token:`${Hl}`}})).json()},ak=async({object:n})=>{const t=`${Ke}/${n}/gui/table/extract`;return await(await fetch(t,{headers:{token:`${Hl}`}})).json()},ok=async({object:n,take:t,skip:e,query:i})=>{try{const r=`${Ke}/${n}?skip=${e}&take=${t}&${i}`;return await(await fetch(r,{headers:{token:`${Hl}`}})).json()}catch{return{list:[],pagination:{count:"0",now:"0/0"}}}},lk=async({object:n})=>{try{const t=`${Ke}/${n}/gui/permit/row`;return await(await fetch(t,{headers:{token:`${Hl}`}})).json()}catch{return[]}},Wl=({})=>d.jsxs("div",{className:"grid gap-3",children:[d.jsxs("div",{className:"grid grid-cols-[.75fr_.25fr] gap-3",children:[d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "}),d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "}),d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "}),d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "})]})]}),d.jsx("div",{className:"h-72 w-full rounded-lg skeleton",children:" "}),d.jsxs("div",{className:"grid grid-cols-[.70fr_.30fr] gap-3",children:[d.jsx("div",{}),d.jsxs("div",{className:"grid grid-cols-[.5fr_1fr_.5fr] gap-3",children:[d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "}),d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "}),d.jsx("div",{className:"p-5 w-full rounded-lg skeleton",children:" "})]})]})]}),uk=({header:n,actions:t})=>d.jsx("thead",{children:d.jsxs("tr",{className:"text-center text-black dark:text-white",children:[t&&d.jsx("th",{className:"text-xs font-black border-b border-primary bg-gradient-to-b from-transparent to-primary/10"}),n.map(e=>d.jsx("th",{className:"text-xs font-black border-b border-primary bg-gradient-to-b from-transparent to-primary/10",children:e}))]})}),np=n=>n;function gs({label:n,extract:t}){if(!t)return d.jsx(d.Fragment,{children:n});if(t.type==="keywords")return n.map(e=>d.jsx("span",{className:"badge badge-sm bg-gray-400 text-white dark:badge-neutral select-none mr-1",children:e}));if(t.type==="date"){const e=new Date(n);return d.jsx("span",{children:`${np(e.getDate())} - ${np(e.getMonth()+1)} - ${np(e.getFullYear())}`})}else{if(t.type==="number")return d.jsx("span",{className:"font-mono",style:{letterSpacing:1},children:n});if(t.type==="tag"){let e="badge-ghost text-white";return n==="APROBADO"?e="badge-primary text-base":n==="RECHAZADO"?e="badge-warning":n==="CANCELADO"?e="badge-neutral":n==="Sí"?e="badge-primary":n==="NO"&&(e="badge-warning"),d.jsx("span",{className:`badge badge-sm text-xs font-bold py-2 ${e} select-none`,children:n})}else if(t.type==="username")return d.jsxs("span",{className:"",children:["@",n]})}return d.jsx(d.Fragment,{children:n})}function wm({extractBy:n,item:t}){const e=typeof n=="string";let i=[];e?i=n.split("."):i=n.stractBy.split(".");try{return i.length==1?d.jsx(gs,{item:t,label:t[i[0]],extract:e?void 0:n}):i.length==2?d.jsx(gs,{item:t,label:t[i[0]][i[1]],extract:e?void 0:n}):i.length==3?d.jsx(gs,{item:t,label:t[i[0]][i[1]][i[2]],extract:e?void 0:n}):i.length==4?d.jsx(gs,{item:t,label:t[i[0]][i[1]][i[2]][i[3]],extract:e?void 0:n}):i.length==5?d.jsx(gs,{item:t,label:t[i[0]][i[1]][i[2]][i[3]][i[4]],extract:e?void 0:n}):i.length==6?d.jsx(gs,{item:t,label:t[i[0]][i[1]][i[2]][i[3]][i[4]][i[5]],extract:e?void 0:n}):i.length==7?d.jsx(gs,{item:t,label:t[i[0]][i[1]][i[2]][i[3]][i[4]][i[5]][i[6]],extract:e?void 0:n}):i.length==8?d.jsx(gs,{item:t,label:t[i[0]][i[1]][i[2]][i[3]][i[4]][i[5]][i[6]][i[7]],extract:e?void 0:n}):""}catch{return""}}const Dl=({close:n,id:t,object:e,reload:i})=>{const r=qt(),s=()=>{(async()=>{try{const a=`${Ke}/${e}/${t}/delete`;await(await fetch(a,{method:"PUT",headers:{token:`${qe()}`}})).json(),r.init("Registro eliminado","success"),n(),i()}catch{return n(),i(),r.init("Error temporal","error")}})()};return d.jsxs("div",{className:"bg-base-300 rounded-md p-5 grid place-items-center px-8",children:[d.jsx("i",{className:"text-5xl text-yellow-500",children:d.jsx(a2,{})}),d.jsx("header",{children:d.jsx(bt,{size:"md",customClass:"font-black mt-2",text:"¿Seguro que desea eliminar el registro?"})}),d.jsxs("footer",{className:"flex justify-end w-full gap-2 mt-3",children:[d.jsx(Be,{click:n,text:"Cancelar",color:"warning",variant:"border"}),d.jsx(Be,{click:s,text:"Eliminar",color:"error",ico:d.jsx(_e,{ico:"delete-row"})})]})]})},Tc=({action:n,object:t,reload:e,parentId:i,id:r})=>{const[s,a]=E.useState(!0),[o,u]=E.useState(),[c,f]=E.useState(null);return E.useEffect(()=>{(async()=>{const p=r?`/${t}/gui/form/${n}/${r}/?parentId=${i}`:`/${t}/gui/form/${n}/?parentId=${i}`,g=await Oc({path:p,token:!0});if(g.statusMessage==="error")a(!1);else{const y=g.body,b=g.data;u(y),f(b||null),a(!1)}})()},[]),s?d.jsx("div",{className:"bg-base-300 w-[50%] skeleton py-8 flex justify-center items-center rounded-lg",children:d.jsx("span",{className:"skeleton",children:"cargando..."})}):o&&d.jsx("div",{className:"w-[50%] bg-base-100 p-5 rounded-lg",children:o?d.jsx(Pp,{id:i,init:c,reload:e,form:o}):d.jsx(mr,{text:"No se optuvieron resultados",customClass:"text-sm"})})},hk=({path:n,body:t,extract:e,action:i,object:r,reload:s,actionButton:a})=>{const{init:o,close:u}=Bt(),c=nr(),f="text-gray-700 dark:text-white font-light text-center py-1 text-xs",p="text-gray-700 dark:text-white font-light border-base-content text-center py-1",g=x=>{const w=x.target.value.split("-----"),P=w[0],S=w[1],k=w[2];S==="modal"?y(k,P):b(k,P)},y=(x,w)=>{if(w==="delete")return o(d.jsx(Dl,{reload:s,close:u,id:x,object:r}));if(w==="update")return o(d.jsx(Tc,{id:x,reload:s,action:"update",object:r,use:"modal"}))},b=(x,w)=>{const P=window.location.pathname;w==="unique"&&c(`${n||P}/${x}`)};return d.jsx("tbody",{children:t.map(x=>d.jsxs("tr",{className:p,children:[!a&&i&&i.length>0&&d.jsx("td",{children:d.jsxs("select",{onChange:g,className:"select select-xs border border-base-content outline-none focus:outline-none",children:[d.jsx("option",{children:"seleccionar"}),i.map(w=>d.jsx("option",{value:`${w.ico}-----${w.use}-----${x.id}`,children:w.label}))]})}),a&&a.map(w=>d.jsx(Be,{...w,click:()=>{w.click&&w.click(x)}})),e.map(w=>d.jsx("td",{className:f,children:d.jsx(wm,{extractBy:w,item:x})}))]}))})},ck=({path:n,body:t,extract:e,header:i,actionsSelect:r,object:s,reload:a,actionButton:o,actionClickRow:u,handleActionClickRow:c,handleActionSelect:f})=>d.jsx("div",{className:"overflow-x-auto my-3",children:d.jsxs("table",{className:"table table-zebra",children:[d.jsx(uk,{header:i,actions:r&&r.length?!0:!!(o&&o.length>0)}),d.jsx(hk,{actionButton:o,actionClickRow:u,handleActionClickRow:c,handleActionSelect:f,reload:a,object:s,extract:e,body:t,action:r,path:n})]})}),dk=({pagination:n,nextFn:t,prevFn:e})=>d.jsx("div",{className:" w-full flex justify-end mt-2",children:d.jsxs("div",{className:"join",children:[n.previw?d.jsx(Be,{text:"«",variant:"button",color:"primary",click:e}):d.jsx(Be,{text:"«",variant:"border",color:"default"}),d.jsx(mr,{text:`${n.now} / ${n.count}`,customClass:"join-item btn btn-sm"}),n.next?d.jsx(Be,{text:"»",variant:"button",color:"primary",click:t}):d.jsx(Be,{text:"»",variant:"border",color:"default"})]})}),Wn=({filter:n,object:t,skip:e,take:i,reload:r,nextFn:s,prevFn:a,reloadFn:o,query:u,actionButton:c,actionClickRow:f,handleActionClickRow:p,handleActionSelect:g,path:y})=>{const[b,x]=E.useState(null),[w,P]=E.useState(null),[S,k]=E.useState(null),[T,j]=E.useState(null),[V,A]=E.useState();E.useEffect(()=>{(async()=>{if(b!==null)return;const J=await sk({object:t});x(J)})()},[]),E.useEffect(()=>{(async()=>{if(w!==null)return;const J=await ak({object:t});P(J)})()},[]);const I=E.useCallback(async(L,J,ie)=>{const ne=await ok({object:t,skip:J,take:ie,query:`${u}&param=${L}`});k(ne.list),A(ne.pagination)},[]);return E.useEffect(()=>{const L=setTimeout(()=>I(n||"",e,i),500);return()=>{clearTimeout(L)}},[r,e,i,n]),E.useEffect(()=>{(async()=>{if(T!==null)return;const J=await lk({object:t});j(J)})()},[]),d.jsx(d.Fragment,{children:b&&w&&S&&T&&V&&d.jsxs("div",{className:"px-5",children:[d.jsx(ck,{reload:o,object:t,header:b,extract:w,body:S,actionsSelect:T,actionButton:c,actionClickRow:f,handleActionClickRow:p,handleActionSelect:g,path:y}),d.jsx(dk,{nextFn:s,prevFn:a,pagination:V})]})})},k0=(n,t,e,i,r,s)=>{if(n.use==="modal"){if(n.ico=="create")return t(d.jsx(Tc,{parentId:s,id:s,reload:i,action:"create",object:e,use:n.use}))}else if(n.ico=="create")return r("create")},fk=({})=>{const{object:n}=xn(),t=Ar(),e=qt(),i=nr(),{init:r}=Bt(),[s,a]=E.useState(null),[o,u]=E.useState(!0),[c,f]=E.useState(!1),[p,g]=E.useState(0),[y,b]=E.useState(10),[x,w]=E.useState(""),P=j=>i(j,{viewTransition:!0});E.useEffect(()=>{(async()=>{u(!0);const j=await xm({object:n}),V=j;if(V.message&&V.status&&V.statusMessage)return e.init("Error temporal","error");a(j),u(!1)})()},[t]);const S=()=>f(!c),k=()=>{g(p-y)},T=()=>{g(p+y)};return o?d.jsx(Wl,{}):s?d.jsxs("div",{className:"grid gap-3",children:[d.jsxs("div",{className:"flex gap-3 px-5",children:[d.jsx("div",{className:"w-full flex justify-start items-center text-2xl font-black flex-1",children:s.label}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(q,{change:j=>w(j.target.value),color:"info",size:"sm",value:x}),s.actions.map(j=>d.jsx($e,{ico:d.jsx(_e,{ico:j.ico}),size:"sm",text:j.label,click:()=>k0(j,r,n,S,P),color:j.ico==="create"?"success":j.ico==="report"?"error":"info"})),d.jsxs("select",{onChange:j=>b(Number(j.target.value)),className:"h-full select border text-gray-600 dark:bg-base-300 select-xs",children:[d.jsx("option",{value:10,children:"mostrar"}),d.jsx("option",{value:5,children:"5"}),d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:15,children:"15"}),d.jsx("option",{value:20,children:"20"})]})]})]}),d.jsx(Wn,{filter:x,nextFn:T,prevFn:k,reloadFn:S,reload:c,object:n,skip:p,take:y})]}):d.jsx("div",{className:"grid gap-3",children:d.jsx("div",{className:"grid grid-cols-[.75fr_.25fr] gap-3",children:d.jsx("div",{className:"p-5 w-full rounded-lg bg-base-300",children:"No se obtuvieron resultados. intente más tarde."})})})},pk=({})=>{const n=[{time:"2024-11-10",value:25},{time:"2024-12-10",value:25},{time:"2025-01-10",value:25},{time:"2025-02-10",value:25}],t=[{time:"2024-11-10",value:1},{time:"2024-11-16",value:1},{time:"2024-11-25",value:1},{time:"2024-12-10",value:2},{time:"2024-12-11",value:3},{time:"2025-01-17",value:1},{time:"2025-02-18",value:3}];return d.jsxs("div",{className:"px-5",children:[d.jsx(bt,{text:"Sección de Análisis",size:"3xl",customClass:"font-black"}),d.jsxs("div",{className:"mt-5 grid gap-5",children:[d.jsx(Gh,{title:"Historial de pagos",data:n}),d.jsx(Gh,{title:"Historial de nuevas citas",data:t})]})]})},mk=({id:n,name:t,mount:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a=()=>{(async()=>{const o=`${Ke}/user/${n}/subcription`,c=await(await fetch(o,{method:"POST",headers:{token:`${qe()}`}})).json();s.init(c.message,"success"),r(),i()})()};return d.jsxs("div",{className:"w-[50%] bg-base-300 p-3 shadow shadow-base-content rounded",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("i",{className:"m-auto text-center text-6xl text-warning",children:d.jsx(_e,{ico:"warning"})})}),d.jsx(bt,{text:`Confirmar subscripción ${t}`,customClass:"text-center font-bold",size:"lg"}),d.jsx(bt,{text:`${e}/mes`,customClass:"text-center font-black mb-5 text-gray-100",size:"3xl"}),d.jsxs("div",{className:"flex justify-center items-center gap-3",children:[d.jsx(Be,{click:r,color:"warning",text:"Cancelar",variant:"border",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{click:a,color:"primary",text:"Aceptar",ico:d.jsx(_e,{ico:"config"})})]})]})},gk=({name:n,mount:t,include:e,id:i,reload:r})=>{const{init:s}=Bt(),a=()=>s(d.jsx(mk,{reload:r,id:i,name:n,mount:t}));return d.jsx("div",{className:"relative pt-8 px-8 border-2 border-base-300 rounded-2xl shadow-sm flex flex-col",children:d.jsxs("div",{className:"flex-1 my-3",children:[d.jsx("h3",{className:"text-xl font-semibold ",children:n}),d.jsxs("p",{className:"mt-4 flex items-baseline ",children:[d.jsxs("span",{className:"text-5xl font-extrabold tracking-tight",children:["$",t]}),d.jsx("span",{className:"ml-1 text-xl font-semibold",children:"/month"})]}),d.jsx($e,{click:a,text:"Seleccionar subscripción",variant:"border",color:"primary",customClass:"w-full mt-3"}),d.jsx("ul",{role:"list",className:"mt-6 space-y-6",children:e.map(o=>d.jsxs("li",{className:"flex items-center",children:[d.jsx("i",{className:"text-lg font-bold text-success",children:d.jsx(n0,{})}),d.jsx("span",{className:"ml-3 ",children:o})]}))})]})})},yk=({list:n,reload:t})=>d.jsx("section",{className:"grid mt-3 lg:grid lg:grid-cols-3 gap-5 w-full",children:n.map(e=>d.jsx(gk,{reload:t,id:e.id,include:e.items,mount:e.price,name:e.name}))}),O0=({reload:n})=>{const[t,e]=E.useState(null);return E.useEffect(()=>{(async()=>{const i=`${Ke}/user/subscription/found`,s=await(await fetch(i,{headers:{token:`${qe()}`}})).json();e(s)})()},[n]),d.jsxs("div",{className:"flex justify-between items-center gap-3",children:[d.jsx(bt,{text:"Subcripción",size:"3xl",customClass:"font-black"}),t&&t.subscriptionReference&&d.jsxs("div",{className:"flex-[.6] mt-3 rounded bg-info bg-opacity-40 py-2 px-6 flex justify-between items-center",children:[d.jsxs("div",{className:"grid",children:[d.jsx(mr,{text:"Mí subscripción",customClass:"font-bold text-white"}),d.jsx(mr,{text:`Actual: ${t.subscriptionReference.name}`,customClass:"badge font-black text-sm text-white"}),t.nextsubscriptionReference&&d.jsx(mr,{text:`Renovación: ${t.nextsubscriptionReference.name}`,customClass:"font-mono badge badge-neutral font-light text-xs mt-1 text-white"})]}),d.jsx("div",{className:"",children:d.jsx(mr,{text:`${t.startDate} / ${t.endDate}`,customClass:"badge font-black text-sm text-white"})})]})]})},vk=({})=>{const[n,t]=E.useState(!0),[e,i]=E.useState(null);return E.useEffect(()=>{(async()=>{const r=`${Ke}/subscription/?skip=0&take=3`,a=await(await fetch(r,{headers:{token:`${qe()}`}})).json(),o=[];a.list.map(u=>{o.push({...u,items:u.items.map(c=>c.description)})}),i(o)})()},[]),d.jsxs("div",{children:[d.jsx(O0,{reload:n}),e&&d.jsx(yk,{reload:()=>t(!n),list:e})]})},Qr=({object:n,query:t,id:e,count:i,reloadVl:r,userId:s})=>{const a=Ar(),o=qt(),u=nr(),{init:c}=Bt(),[f,p]=E.useState(null),[g,y]=E.useState(!0),[b,x]=E.useState(!1),[w,P]=E.useState(0),[S,k]=E.useState(i||10),[T,j]=E.useState("");E.useEffect(()=>{(async()=>{y(!0);const J=await xm({object:n,query:t}),ie=J;if(ie.message&&ie.status&&ie.statusMessage)return o.init("Error temporal","error");p(J),y(!1)})()},[a]);const V=J=>u(J,{viewTransition:!0}),A=()=>x(!b),I=()=>{P(w-S)},L=()=>{P(w+S)};return g?d.jsx(Wl,{}):f?d.jsxs("div",{className:"grid gap-3",children:[d.jsxs("div",{className:"flex gap-3 px-5",children:[d.jsx("div",{className:"w-full flex justify-start items-center text-2xl font-black flex-1",children:f.label}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(q,{change:J=>j(J.target.value),color:"info",size:"sm",value:T}),f.actions.map(J=>d.jsx($e,{ico:d.jsx(_e,{ico:J.ico}),size:"sm",text:J.label,click:()=>k0(J,c,n,A,V,e),color:J.ico==="create"?"success":J.ico==="report"?"error":"info"})),d.jsx($e,{ico:d.jsx(_e,{ico:"select"}),size:"sm",children:d.jsxs("select",{onChange:J=>k(Number(J.target.value)),className:"w-full select bg-base-200 select-xs",children:[d.jsx("option",{value:10,children:"mostrar"}),d.jsx("option",{value:5,children:"5"}),d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:15,children:"15"}),d.jsx("option",{value:20,children:"20"})]})})]})]}),d.jsx(Wn,{filter:T,query:`parentId=${e}&${s?`userId=${s}`:""}`,nextFn:L,prevFn:I,reloadFn:A,reload:r||b,object:n,skip:w,take:S})]}):d.jsx("div",{className:"grid gap-3",children:d.jsx("div",{className:"grid grid-cols-[.75fr_.25fr] gap-3",children:d.jsx("div",{className:"p-5 w-full rounded-lg bg-base-300",children:"No se obtuvieron resultados. intente más tarde."})})})},T0=({reloadFn:n})=>{const{close:t}=Bt(),e=qt(),i=E.useRef(null),r=E.useRef(null),s=E.useRef(null),[a,o]=E.useState(),u=c=>{c.preventDefault(),(async()=>{if(!i.current)return e.init("Método de págo requerido","error");if(!r.current)return e.init("Fecha requerida","error");if(!s.current)return e.init("Monto requerido","error");const f={paymentId:i.current.value,date:r.current.value,mount:s.current.value},p=`${Ke}/user/payment/register/create`,y=await(await fetch(p,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(f)})).json();n(),t(),e.init(y.message,"success")})()};return E.useEffect(()=>{(async()=>{const c=`${Ke}/user/payment/?skip=0&take=100`,p=await(await fetch(c,{headers:{token:`${qe()}`}})).json();o(p.list)})()},[]),d.jsx("div",{className:"w-[30%] bg-base-300 shadow shadow-base-content p-4",children:a&&a.length>0?d.jsxs("form",{onSubmit:u,className:"grid gap-3",children:[d.jsx(bt,{text:"Reportar Pago",customClass:"text-center font-black text-lg"}),d.jsxs("select",{ref:i,className:"select select-sm focus:outline-none",children:[d.jsx("option",{value:"",children:"método de pago"}),a.map(c=>d.jsx("option",{value:c.id,children:c.paymentReference.name}))]}),d.jsx("input",{ref:r,type:"date",className:"input input-sm focus:outline-none"}),d.jsx("input",{ref:s,type:"number",step:"any",className:"input input-sm focus:outline-none"}),d.jsxs("div",{className:"flex justify-center items-center gap-3",children:[d.jsx(Be,{ico:d.jsx(_e,{ico:"x"}),click:t,variant:"border",color:"warning",text:"Cancelar"}),d.jsx(Be,{type:"submit",ico:d.jsx(_e,{ico:"x"}),color:"primary",text:"Reportar"})]})]}):d.jsx("div",{children:d.jsx(bt,{text:"No tienes métodos de pago"})})})},bk=()=>{const{close:n,init:t}=Bt(),e=qt(),[i,r]=E.useState(null),[s,a]=E.useState(null),[o,u]=E.useState(),c=()=>{if(!o)return;if(!i)return e.init("Seleciona un método de pago","error");const p=o.find(g=>g.id===i);a(p)},f=()=>t(d.jsx(T0,{reloadFn:()=>{}}));return E.useEffect(()=>{(async()=>{const p=`${Ke}/user/payment/?skip=0&take=100`,y=await(await fetch(p,{headers:{token:`${qe()}`}})).json();u(y.list)})()},[]),d.jsx("div",{className:"w-[30%] bg-base-300 shadow shadow-base-content p-4",children:o&&o.length>0?s?d.jsxs("div",{className:"grid gap-3",children:[d.jsx(bt,{text:"Pagar",customClass:"text-center font-black text-lg"}),d.jsx(bt,{text:`Método seleccionado ${s.paymentReference.name}`,customClass:"text-center font-mono text-lg"}),d.jsx(mr,{text:"Realiza el pago a los siguientes datos",customClass:"text-center text-sm font-bold"}),d.jsx("div",{className:"grid place-content-center place-items-center",children:s.paymentReference.data.map(p=>d.jsx(mr,{text:p,customClass:"badge badge-neutral py-4"}))}),d.jsxs("div",{className:"flex justify-center items-center gap-3",children:[d.jsx(Be,{ico:d.jsx(_e,{ico:"x"}),click:n,variant:"border",color:"warning",text:"Cancelar"}),d.jsx(Be,{click:f,ico:d.jsx(_e,{ico:"config"}),color:"primary",text:"Reportar"})]})]}):d.jsxs("div",{className:"grid gap-3",children:[d.jsx(bt,{text:"Pagar",customClass:"text-center font-black text-lg"}),d.jsx("label",{className:"text-sm",children:"Método de pago a utilizar:"}),d.jsxs("select",{onChange:p=>r(p.target.value),className:"select focus:outline-none",children:[d.jsx("option",{value:"",children:"método de pago"}),o.map(p=>d.jsx("option",{value:p.id,children:p.paymentReference.name}))]}),d.jsxs("div",{className:"flex justify-center items-center gap-3",children:[d.jsx(Be,{ico:d.jsx(_e,{ico:"x"}),click:n,variant:"border",color:"warning",text:"Cancelar"}),d.jsx(Be,{click:c,ico:d.jsx(_e,{ico:"config"}),color:"primary",text:"Continuar"})]})]}):d.jsx("div",{children:d.jsx(bt,{text:"No tienes métodos de pago"})})})},xk=({reloadFn:n,reloadVl:t})=>{const{init:e}=Bt(),i=qt(),[r,s]=E.useState(!0),[a,o]=E.useState(!0),[u,c]=E.useState(null);E.useEffect(()=>{(async()=>{const y=`${Ke}/user/wallet`,x=await(await fetch(y,{headers:{token:`${qe()}`}})).json();c(x.body?x.body:null)})()},[r,t]);const f=()=>{(async()=>{const y=`${Ke}/user/wallet/create`,x=await(await fetch(y,{method:"POST",headers:{token:`${qe()}`}})).json();c(x.body?x.body:null),i.init(x.message,"success"),s(!r)})()},p=()=>e(d.jsx(T0,{reloadFn:n})),g=()=>e(d.jsx(bk,{}));return d.jsx("div",{className:"rounded bg-base-300 p-3 flex-[.6]",children:u?d.jsxs(d.Fragment,{children:[d.jsx(bt,{text:"Saldo Disponible",size:"md",customClass:"font-light"}),d.jsx(bt,{text:a?"***":`${u.mount}`,size:"3xl",customClass:"font-black duration-200"}),d.jsxs("div",{className:"flex justify-start items-center gap-3 mt-3",children:[d.jsx($e,{click:g,ico:d.jsx(m2,{}),text:"Pagar",variant:"border",color:"primary"}),d.jsx($e,{click:p,ico:d.jsx(nb,{}),variant:"border",color:"primary",text:"Reportar"}),d.jsx($e,{ico:a?d.jsx(s0,{}):d.jsx(r2,{}),click:()=>o(!a),variant:"border",color:"primary",text:"ocultar"})]})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"grid place-items-center gap-3 mt-3",children:[d.jsx(bt,{text:"No tienes billetera",size:"md",customClass:"font-light"}),d.jsx($e,{click:f,ico:d.jsx(nb,{}),color:"success",text:"Crear"})]})})})};var Tp=function(n,t){return Tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},Tp(n,t)};function N(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tp(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Dr=function(){return Dr=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Dr.apply(this,arguments)};function xt(n,t,e,i){function r(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(f){try{c(i.next(f))}catch(p){a(p)}}function u(f){try{c(i.throw(f))}catch(p){a(p)}}function c(f){f.done?s(f.value):r(f.value).then(o,u)}c((i=i.apply(n,t||[])).next())})}function mt(n,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(f){return u([c,f])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(e=0)),e;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(f){c=[6,f],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Kh(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function to(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,s=[],a;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return s}function so(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(to(arguments[t]));return n}var st=function(){function n(t){this._value=t}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return""+this._value+"%"},n}();function te(n){return new st(n)}function wk(n){return n instanceof st}function Oi(n){return Number(n)!==n}function M0(n){return{}.toString.call(n)}function _m(n){if(typeof n=="string")return n;if(typeof n=="number")return""+n;throw new Error("Expected a string or number but got "+M0(n))}function Mt(n){return!!n}function _t(n){if(M(n)&&!D(n)){var t=Number(n);return Oi(t)&&at(n)&&n!=""?_t(n.replace(/[^0-9.\-]+/g,"")):t}return n}function Pi(n){if(M(n)&&!at(n)){if(D(n))return _m(n);if(Ot(n))return n.toString()}return n}function _k(n){return!M(n)||D(n)||wk(n)?n:at(n)&&n.indexOf("%")!=-1?te(_t(n)):_t(n)}function M(n){return n!=null}function Et(n){if(M(n))return n;throw new Error("Value doesn't exist")}function sp(n,t){return M(n)?n:t}function kl(n){return M0(n)==="[object Date]"}function at(n){return typeof n=="string"}function D(n){return typeof n=="number"&&Number(n)==n}function Ot(n){return typeof n=="object"&&n!=null}function fi(n){return Array.isArray(n)}var Mc=Math.PI,F0=Mc/2,Fc=Mc/180,xs=180/Mc;function ap(n,t,e){return M(n)?(n=_t(n),ge(n,t,e)):n}function ee(n,t,e){if(!D(t)||t<=0){var i=Math.round(n);return e&&i-n==.5&&i--,i}else{var r=Math.pow(10,t);return Math.round(n*r)/r}}function ex(n,t){if(!D(t)||t<=0)return Math.ceil(n);var e=Math.pow(10,t);return Math.ceil(n*e)/e}function ge(n,t,e){if(D(t)){if(D(e)&&e<t){var i=e;e=t,t=i}n<t&&(n=t)}return D(e)&&n>e&&(n=e),n}function ae(n){return ee(Math.sin(Fc*n),10)}function tx(n){return ee(Math.tan(Fc*n),10)}function oe(n){return ee(Math.cos(Fc*n),10)}function We(n,t){return D(n)?D(t)&&t>n?t:n:D(t)?t:null}function ot(n,t){return D(n)?D(t)&&t<n?t:n:D(t)?t:null}function Pk(n,t){return n.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})}function Zh(n,t){var e=Et(n.start),i=Et(t.start),r=Et(n.end),s=Et(t.end);return Math.max(e,i)<=Math.min(r,s)}function ul(n){var t=Et(n.start),e=Et(n.end);return{start:1-e,end:1-t}}function Ck(n,t){var e=Et(n.start),i=Et(t.start),r=Et(n.end),s=Et(t.end),a=Math.max(e,i),o=Math.min(r,s);if(!(o<a))return{start:a,end:o}}function gt(n,t){return n?(t||(t={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(n.x-t.x),2)+Math.pow(Math.abs(n.y-t.y),2))):0}function Sk(n,t){return n?(t||(t={x:0,y:0}),Math.abs(n.x-t.x)):0}function jk(n,t){return n?(t||(t={x:0,y:0}),Math.abs(n.y-t.y)):0}function Dk(n,t,e,i,r){if(!n)return 0;t||(t={x:0,y:0});for(var s=0,a=n,o=0;o<=r;o++){var u=Pm(n,t,e,i,o/r);s+=gt(a,u),a=u}return s}function kk(n,t,e,i){var r=gt(t,i),s=gt(n,e);return Math.abs(s/r)}function Qh(n,t,e){return D(e)||(e=.5),{x:n.x+(t.x-n.x)*e,y:n.y+(t.y-n.y)*e}}function Ci(n,t){t||(t={x:n.x*2,y:n.y*2});var e=t.x-n.x,i=t.y-n.y,r=Math.atan2(i,e)*xs;return r<0&&(r+=360),ua(r)}function hl(n){if(n){var t=n.length;if(t!==0){for(var e=void 0,i=void 0,r,s=void 0,a=0;a<t;a++){var o=n[a];(!D(i)||o.x>i)&&(i=o.x),(!D(e)||o.x<e)&&(e=o.x),(!D(r)||o.y<r)&&(r=o.y),(!D(s)||o.y>s)&&(s=o.y)}return{x:e,y:r,width:i-e,height:s-r}}}return{x:0,y:0,width:0,height:0}}function Yl(n){var t=n.length;if(t!==0){for(var e=void 0,i=void 0,r=void 0,s=void 0,a=0;a<t;a++){var o=n[a];e=ot(o.x,e),i=ot(o.y,i),r=We(o.x+o.width,r),s=We(o.y+o.height,s)}return{x:e,y:i,width:r-e,height:s-i}}}function ix(n,t,e,i){var r=(1-i)*(1-i)*n.x+2*(1-i)*i*e.x+i*i*t.x,s=(1-i)*(1-i)*n.y+2*(1-i)*i*e.y+i*i*t.y;return{x:r,y:s}}function Pm(n,t,e,i,r){var s={x:0,y:0},a=1-r,o=a*a,u=o*a;return s.x=n.x*u+e.x*3*o*r+i.x*3*a*r*r+t.x*r*r*r,s.y=n.y*u+e.y*3*o*r+i.y*3*a*r*r+t.y*r*r*r,s}function E0(n,t,e,i,r,s){return r=qh(r),s=qh(s),{x:(-n.x+t.x/r+e.x)*r,y:(-n.y+t.y/s+e.y)*s}}function V0(n,t,e,i,r,s){return r=qh(r),s=qh(s),{x:(t.x+e.x/r-i.x)*r,y:(t.y+e.y/s-i.y)*s}}function qh(n){return 1-n+1e-5}function ua(n){return n==360?360:n%360}function fn(n,t,e){if(t>e){var i=t;t=e,e=i}n=ua(n);var r=(t-ua(t))/360;n<t&&(n+=360*(r+1));var s=t+(e-t)/2+180,a=t+(e-t)/2-180;return n>e&&(n-360>t?n-=360:n<s?n=e:n=t),n<t&&(n>a?n=t:n=e),n}function yn(n,t,e){var i=Number.MAX_VALUE,r=Number.MAX_VALUE,s=-Number.MAX_VALUE,a=-Number.MAX_VALUE,o=[];D(e)||(e=1),o.push(op(e,n)),o.push(op(e,t));for(var u=Math.min(Math.floor(n/90)*90,Math.floor(t/90)*90),c=Math.max(Math.ceil(n/90)*90,Math.ceil(t/90)*90),f=u;f<=c;f+=90)f>=n&&f<=t&&o.push(op(e,f));for(var p=0;p<o.length;p++){var g=o[p];g.x<i&&(i=g.x),g.y<r&&(r=g.y),g.x>s&&(s=g.x),g.y>a&&(a=g.y)}return{x:i,y:r,width:s-i,height:a-r}}function op(n,t){return{x:n*oe(t),y:n*ae(t)}}function A0(n,t){return n.x>=t.x&&n.x<=t.x+t.width&&n.y>=t.y&&n.y<=t.y+t.height}function qr(n,t){for(var e=n.length,i=0;i<e;++i)if(n[i]===t)return i;return-1}function Cm(n,t){for(var e=n.length,i=0;i<e;++i)if(t(n[i]))return!0;return!1}function Ul(n,t){for(var e=n.length,i=new Array(e),r=0;r<e;++r)i[r]=t(n[r],r);return i}function ce(n,t){for(var e=n.length,i=0;i<e;++i)t(n[i],i)}function Ok(n,t){for(var e=n.length;e--;)t(n[e],e)}function Sm(n,t){for(var e=n.length,i=0;i<e&&t(n[i],i);++i);}function Tk(n,t){for(var e=n.length,i=t;i<e;++i)n[i-t]=n[i];n.length=e-t}function Mk(n,t){for(var e=t.length,i=0;i<e;++i)n.push(t[i])}function Le(n,t){var e=!1,i=n.indexOf(t);if(i!==-1){e=!0,n.splice(i,1);for(var r=n.length;i<r;)n[i]===t?(n.splice(i,1),--r):++i}return e}function Mr(n,t,e){var i=qr(n,t);i!==-1&&ho(n,i),n.push(t)}function Qa(n,t,e){D(e)?n.splice(e,0,t):n.push(t)}function Fk(n,t,e){var i=n.indexOf(t);i!==-1&&n.splice(i,1),D(e)?n.splice(e,0,t):n.push(t)}function I0(n){return Array.isArray(n)?n:[n]}function Ol(n){for(var t=n.length,e=new Array(t),i=0;i<t;++i)e[i]=n[i];return e}function Tl(n,t,e){n.splice(t,0,e)}function ho(n,t){n.splice(t,1)}function Jh(n,t,e){for(var i=0,r=n.length,s=!1;i<r;){var a=i+r>>1,o=t(e,n[a]);o<0?r=a:(o===0&&(s=!0),i=a+1)}return{found:s,index:s?i-1:i}}function R0(n,t){for(var e=n.length,i=0;i<e;++i)if(t(n[i],i))return i;return-1}function L0(n,t){for(var e=n.length,i=0;i<e;)t(n[i])?++i:(n.splice(i,1),--e)}var vt=function(){function n(t){this._disposed=!1,this._dispose=t}return n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},n}(),Lt=function(n){N(t,n);function t(e){return n.call(this,function(){ce(e,function(i){i.dispose()})})||this}return t}(vt),li=function(n){N(t,n);function t(){var e=n.call(this,function(){M(e._disposer)&&(e._disposer.dispose(),e._disposer=void 0)})||this;return e}return t.prototype.get=function(){return this._value},t.prototype.set=function(e,i){M(this._disposer)&&this._disposer.dispose(),this._disposer=i,this._value=e},t.prototype.reset=function(){this.set(void 0,void 0)},t}(vt),Ec=function(n){N(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._counter=0,e}return t.prototype.increment=function(){var e=this;return++this._counter,new vt(function(){--e._counter,e._counter===0&&e.dispose()})},t}(vt),Mp=!1,bh=[],pl=[],Oh=[],Fp=[],Ek=1e3/60,jm=typeof requestAnimationFrame=="function"?function(n){requestAnimationFrame(n)}:function(n){setTimeout(n,Ek)};function N0(){for(var n=Date.now(),t=bh.length,e=0;e<t;++e)bh[e](n);Tk(bh,t);for(var e=0;e<pl.length;++e)pl[e](n);pl.length=0;for(var e=0;e<Oh.length;++e)Oh[e](n);Oh.length=0,bh.length===0&&pl.length===0?Mp=!1:jm(N0)}function z0(){Mp||(Mp=!0,jm(N0))}function Vk(n){pl.push(n),z0()}function rx(n){Oh.push(n),z0()}function Ak(n){Fp.push(n)}function Ik(){for(var n=Date.now(),t=Fp.length,e=0;e<t;++e)Fp.shift()(n)}var Cs=function(){function n(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{ce(t,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},n.prototype.hasListeners=function(){return this._listeners.length!==0},n.prototype.hasListenersByType=function(t){return Cm(this._listeners,function(e){return(e.type===null||e.type===t)&&!e.killed})},n.prototype.enable=function(){this._enabled=!0},n.prototype.disable=function(){this._enabled=!1},n.prototype.enableType=function(t){delete this._disabled[t]},n.prototype.disableType=function(t,e){e===void 0&&(e=1/0),this._disabled[t]=e},n.prototype._removeListener=function(t){if(this._iterating===0){var e=this._listeners.indexOf(t);if(e===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)},n.prototype._removeExistingListener=function(t,e,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(s){s.once===t&&s.type===e&&(i==null||s.callback===i)&&s.context===r&&s.disposer.dispose()})},n.prototype.isEnabled=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&this._disabled[t]==null},n.prototype.has=function(t,e,i){var r=R0(this._listeners,function(s){return s.once!==!0&&s.type===t&&(e==null||s.callback===e)&&s.context===i});return r!==-1},n.prototype._shouldDispatch=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[t];return D(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled},n.prototype._eachListener=function(t){var e=this;++this._iterating;try{ce(this._listeners,t)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(ce(this._killed,function(i){e._removeListener(i)}),this._killed.length=0)}},n.prototype.dispatchImmediately=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(i.type===null||i.type===t)&&i.dispatch(t,e)})},n.prototype.dispatch=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(i.type===null||i.type===t)&&Ak(function(){i.killed||i.dispatch(t,e)})})},n.prototype._on=function(t,e,i,r,s,a){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,r);var u={type:e,callback:i,context:r,shouldClone:s,dispatch:a,killed:!1,once:t,disposer:new vt(function(){u.killed=!0,o._removeListener(u)})};return this._listeners.push(u),u},n.prototype.onAll=function(t,e,i){return i===void 0&&(i=!0),this._on(!1,null,t,e,i,function(r,s){return t.call(e,r,s)}).disposer},n.prototype.on=function(t,e,i,r){return r===void 0&&(r=!0),this._on(!1,t,e,i,r,function(s,a){return e.call(i,a)}).disposer},n.prototype.once=function(t,e,i,r){r===void 0&&(r=!0);var s=this._on(!0,t,e,i,r,function(a,o){s.disposer.dispose(),e.call(i,o)});return s.disposer},n.prototype.off=function(t,e,i){this._removeExistingListener(!1,t,e,i)},n.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");ce(t._listeners,function(i){!i.killed&&i.shouldClone&&(i.type===null?e.onAll(i.callback,i.context):i.once?e.once(i.type,i.callback,i.context):e.on(i.type,i.callback,i.context))})},n}(),B0=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i.target=e,i}return t.prototype.copyFrom=function(e){var i=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");ce(e._listeners,function(r){r.context!==e.target&&!r.killed&&r.shouldClone&&(r.type===null?i.onAll(r.callback,r.context):r.once?i.once(r.type,r.callback,r.context):i.on(r.type,r.callback,r.context))})},t}(Cs);function Rk(n){return function(t){for(var e in n)if(pn(n,e)&&!t([e,n[e]]))break}}function H0(n){var t=[];for(var e in n)pn(n,e)&&t.push(e);return t}function Lk(n,t){return H0(n).sort(t)}function pn(n,t){return{}.hasOwnProperty.call(n,t)}function W0(n,t){for(var e in n)if(pn(n,e)&&!t(e,n[e]))break}function Ve(n,t){W0(n,function(e,i){return t(e,i),!0})}function Rn(n,t,e){ce(Lk(n,e),function(i){t(i,n[i])})}function Ep(n,t){return Object.assign({},n,t)}function Nk(n){return JSON.parse(JSON.stringify(n))}function Qt(n,t,e){ce(e,function(i){M(n[i])&&(t[i]=n[i])})}function zk(n,t,e){ce(e,function(i){t[i]=n[i]})}function cl(n,t){Qt(n,t,H0(n))}function ha(n){return function(t){for(var e=n.length,i=0;i<e&&t(n[i]);++i);}}function Bk(n){var t=0;return n(function(e){return++t,!0}),t}function Ml(n){var t=[];return n(function(e){return t.push(e),!0}),t}function yr(n,t){n(t)}function Q(n,t){n(function(e){return t(e),!0})}function io(n,t){return ha(Ml(n).sort(t))}function Y0(n,t){return function(e){return n(function(i){return e(t(i))})}}function Hk(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){for(var i=!0,r=function(o){return i=e(o)},s=n.length,a=0;a<s&&(n[a](r),!!i);++a);}}function Wk(n){return function(t){var e=!0,i=function(r){return e=t(r)};n(function(r){return r(i),e})}}function ca(n){return function(t){var e=0;n(function(i){return t([e++,i])})}}function Yk(n,t){var e;return n(function(i){return t(i)?(e=i,!1):!0}),e}function Dm(n,t){var e=!1;return n(function(i){return t(i)?(e=!0,!1):!0}),e}var km=function(){function n(t,e){this.createNewItems=!1,this.list=t,this._create=e,this.reset()}return n.prototype.reset=function(){this._listCopy=Ml(this.list.iterator())},n.prototype.clear=function(){this._listCopy.length=0},n.prototype.getFirst=function(){return this.returnItem(0)},n.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},n.prototype.find=function(t){var e=R0(this._listCopy,t);if(e!==-1){var i=this._listCopy[e];return Le(this._listCopy,i),i}else return this.getLast()},n.prototype.removeItem=function(t){return Le(this._listCopy,t)},n.prototype.returnItem=function(t){if(t>=0&&t<this._listCopy.length){var e=this._listCopy[t];return Le(this._listCopy,e),e}else if(this.createNewItems)return this._create()},n.prototype.iterator=function(){return ha(this._listCopy)},n}();function Vp(n,t){return n===t?0:n<t?-1:1}function nx(n,t){return new Array(t+1).join(n)}function Uk(n){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var da=function(n){N(t,n);function t(e){var i=this,r=e.events.on("removed",function(s){s.oldValue.dispose()},void 0,!1);return i=n.call(this,function(){r.dispose(),Q(e.iterator(),function(s){var a=s[1];a.dispose()})})||this,i}return t}(vt),St=function(){function n(){this.events=new Cs,this._dictionary={}}return n.prototype.hasKey=function(t){return pn(this._dictionary,t)},n.prototype.getKey=function(t){return this._dictionary[t]},n.prototype.insertKey=function(t,e){if(pn(this._dictionary,t))throw new Error("Key "+t+" already exists in dictionary");this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},n.prototype.setKey=function(t,e){if(pn(this._dictionary,t)){var i=this._dictionary[t];i!==e&&(this._dictionary[t]=e,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},n.prototype.updateKey=function(t,e){if(pn(this._dictionary,t)){var i=this._dictionary[t],r=e(i);i!==r&&(this._dictionary[t]=r,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:r}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else throw new Error("Key "+t+" doesn't exist in dictionary")},n.prototype.removeKey=function(t){if(pn(this._dictionary,t)){var e=this._dictionary[t];delete this._dictionary[t],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e})}},n.prototype.insertKeyIfEmpty=function(t,e){return this.hasKey(t)||this.insertKey(t,e()),this.getKey(t)},n.prototype.clear=function(){var t=this;this.events.isEnabled("removed")&&Ve(this._dictionary,function(e,i){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:i})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},n.prototype.copyFrom=function(t){var e=this;Q(t.iterator(),function(i){e.setKey(i[0],i[1])})},n.prototype.iterator=function(){return Rk(this._dictionary)},n.prototype[Symbol.iterator]=function(){var t,e,i,r;return mt(this,function(s){switch(s.label){case 0:t=[];for(e in this._dictionary)t.push(e);i=0,s.label=1;case 1:return i<t.length?(r=t[i],pn(this._dictionary,r)?[4,[r,this._dictionary[r]]]:[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})},n.prototype.each=function(t){Q(this.iterator(),function(e){var i=to(e,2),r=i[0],s=i[1];return t(r,s)})},n.prototype.sortedIterator=function(){return io(this.iterator(),function(t,e){return Vp(t[0],e[0])})},n}(),Fl=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;Q(e.iterator(),function(r){i.setKey(r[0],r[1].clone())})},t.prototype.create=function(e){var i=this;return this.insertKeyIfEmpty(e,function(){return i.template.clone()})},t}(St),Xk=function(){function n(){this._storage=new St,this.ttl=1e3}return n.prototype.set=function(t,e,i,r){var s=this._storage.insertKeyIfEmpty(t,function(){return new St}),a={touched:new Date().getTime(),ttl:D(r)?r:this.ttl,value:i};s.setKey(e,a)},n.prototype.get=function(t,e,i){if(i===void 0&&(i=void 0),this._storage.hasKey(t)){var r=this._storage.getKey(t);if(r.hasKey(e)){var s=r.getKey(e);return s.ttl&&s.touched+s.ttl<new Date().getTime()&&(s.expired=!0),s.expired?(r.removeKey(e),i):s.value}else return i}else return i},n.prototype.clear=function(t){t?this._storage.removeKey(t):this._storage.clear()},n}(),_l=new Xk,$k=function(){function n(){var t=this;this.events=new Cs,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],typeof addEventListener<"u"&&(addEventListener("beforeprint",function(){ce(t.baseSprites,function(e){var i=e.paper.svg;i.setAttribute("viewBox","0 0 "+i.clientWidth+" "+i.clientHeight)})}),addEventListener("afterprint",function(){ce(t.baseSprites,function(e){var i=e.paper.svg;i.removeAttribute("viewBox")})}))}return n.prototype.getUniqueId=function(){var t=this._uidCount;return this._uidCount+=1,"id-"+t},Object.defineProperty(n.prototype,"map",{get:function(){return this._map||(this._map=new St),this._map},enumerable:!0,configurable:!0}),n.prototype.setCache=function(t,e,i){_l.set(this.uid,t,e,i)},n.prototype.getCache=function(t,e){return e===void 0&&(e=void 0),_l.get(this.uid,t,e)},n.prototype.dispatch=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},n.prototype.dispatchImmediately=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},n.prototype.getPlaceholder=function(t){return M(this._placeholders[t])?this._placeholders[t]:(this._placeholders[t]="__amcharts_"+t+"_"+Uk(8)+"__",this._placeholders[t])},n.prototype.addToInvalidComponents=function(t){t.baseId?Mr(this.invalidDatas[t.baseId],t):Mr(this.invalidDatas.noBase,t)},n.prototype.removeFromInvalidComponents=function(t){t.baseId&&Le(this.invalidDatas[t.baseId],t),Le(this.invalidDatas.noBase,t)},n.prototype.addToInvalidSprites=function(t){t.baseId?Qa(this.invalidSprites[t.baseId],t):Qa(this.invalidSprites.noBase,t)},n.prototype.removeFromInvalidSprites=function(t){t.baseId&&Le(this.invalidSprites[t.baseId],t),Le(this.invalidSprites.noBase,t)},n.prototype.addToInvalidPositions=function(t){t.baseId?Qa(this.invalidPositions[t.baseId],t):Qa(this.invalidPositions.noBase,t)},n.prototype.removeFromInvalidPositions=function(t){t.baseId&&Le(this.invalidPositions[t.baseId],t),Le(this.invalidPositions.noBase,t)},n.prototype.addToInvalidLayouts=function(t){t.baseId?Qa(this.invalidLayouts[t.baseId],t):Qa(this.invalidLayouts.noBase,t)},n.prototype.removeFromInvalidLayouts=function(t){t.baseId&&Le(this.invalidLayouts[t.baseId],t),Le(this.invalidLayouts.noBase,t)},n}(),F=new $k;function Gk(n,t){var e=F.registeredClasses[t];return e!=null&&n instanceof e}var sx=function(){function n(t,e,i){this._array=t,this._start=e,this._end=i}return n.prototype.iterator=function(){var t=this;return function(e){if(t._start!==t._end)if(t._start<t._end)for(var i=t._start;i<t._end&&e(t._array[i]);++i);else for(var i=t._start-1;i>=t._end&&e(t._array[i]);--i);}},n.prototype.backwards=function(){return new n(this._array,this._end,this._start)},n.prototype.range=function(t,e){if(t<=e){if(this._start===this._end)return this;if(this._start<this._end){var i=e-t;return t=Math.max(this._start+t,this._start),e=Math.min(t+i,this._end),new n(this._array,t,e)}else{var i=e-t;return t=Math.max(this._start-t,this._end),e=Math.max(t-i,this._end),new n(this._array,t,e)}}else throw new Error("Start index must be lower than end index")},n}();(function(n){N(t,n);function t(e,i,r){var s=n.call(this,[e.events.on("inserted",function(a){var o=a.newValue,u=s._getKey(o),c=0;yr(e.iterator(),function(f){return f===o?!1:(s._getKey(f)===u&&++c,!0)}),s._insert(o,u,c)},void 0,!1),e.events.on("removed",function(a){s._remove(a.oldValue)},void 0,!1)])||this;return s._keys=[],s._groups={},s._getKey=i,s._sort=r,Q(e.iterator(),function(a){s._insert(a,i(a))}),s}return t.prototype._insert=function(e,i,r){if(this._groups[i]==null){this._groups[i]=[];var s=Jh(this._keys,this._sort,i),a=s.found,o=s.index;if(a)throw new Error("Key already exists: "+i);Tl(this._keys,o,i)}r==null?this._groups[i].push(e):Tl(this._groups[i],r,e)},t.prototype._remove=function(e){var i=this._getKey(e),r=this._groups[i];if(r!=null&&(Le(r,e),r.length===0)){delete this._groups[i];var s=Jh(this._keys,this._sort,i),a=s.found,o=s.index;if(a)ho(this._keys,o);else throw new Error("Key doesn't exist: "+i)}},t.prototype.iterator=function(){var e=this;return Wk(Y0(ha(this._keys),function(i){return ha(e._groups[i])}))},t})(Lt);var Pt=function(n){N(t,n);function t(e,i){i===void 0&&(i=!0);var r=this;if(i){var s=e.events.on("removed",function(a){a.oldValue.dispose()},void 0,!1);r=n.call(this,function(){s.dispose(),Q(e.iterator(),function(a){a.dispose()})})||this}else r=n.call(this,function(){Q(e.iterator(),function(a){a.dispose()})})||this;return r}return t}(vt);function dl(n,t){if(!(n>=0&&n<t))throw new Error("Index out of bounds: "+n)}var ct=function(){function n(t){t===void 0&&(t=[]),this.events=new Cs,this._values=t}return Object.defineProperty(n.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){return this._values.indexOf(t)!==-1},n.prototype.removeValue=function(t){for(var e=0,i=this._values.length;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e},n.prototype.indexOf=function(t){return qr(this._values,t)},Object.defineProperty(n.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),n.prototype.hasIndex=function(t){return t>=0&&t<this._values.length},n.prototype.getIndex=function(t){return this._values[t]},n.prototype.setIndex=function(t,e){dl(t,this._values.length);var i=this._values[t];return i!==e&&(this._values[t]=e,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})),i},n.prototype.insertIndex=function(t,e){dl(t,this._values.length+1),Tl(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},n.prototype._sortQuicksort=function(t,e,i){if(t<e){var r=this._sortPartition(t,e,i);this._sortQuicksort(t,r,i),this._sortQuicksort(r+1,e,i)}},n.prototype._sortPartition=function(t,e,i){for(var r=this._values,s=r[t],a=t-1,o=e+1;;){do++a;while(i(r[a],s)<0);do--o;while(i(r[o],s)>0);if(a>=o)return o;this.swap(a,o)}},n.prototype.sort=function(t){this._sortQuicksort(0,this._values.length-1,t)},n.prototype.swap=function(t,e){var i=this._values.length;if(dl(t,i),dl(e,i),t!==e){var r=this._values[t],s=this._values[e];this._values[t]=s,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:r,newValue:s}),this._values[e]=r,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:s,newValue:r})}},n.prototype.removeIndex=function(t){dl(t,this._values.length);var e=this._values[t];return ho(this._values,t),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e}),e},n.prototype.moveValue=function(t,e){var i=this.indexOf(t);if(i!==-1){var r=this._values[i];ho(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:r})}e==null?(e=this._values.length,this._values.push(t)):Tl(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),i===-1&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},n.prototype.push=function(t){var e=this._values.push(t)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t}),t},n.prototype.unshift=function(t){this.insertIndex(0,t)},n.prototype.pushAll=function(t){var e=this;ce(t,function(i){e.push(i)})},n.prototype.copyFrom=function(t){this.pushAll(t._values)},n.prototype.pop=function(){var t=this._values.length-1;return t<0?void 0:this.removeIndex(this._values.length-1)},n.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},n.prototype.setAll=function(t){var e=this,i=Ol(this._values);this._values.length=0,ce(t,function(r){e._values.push(r)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&ce(i,function(r){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:r})}),this.events.isEnabled("inserted")&&ce(this._values,function(r){e.events.dispatchImmediately("inserted",{type:"inserted",target:e,newValue:r})})},n.prototype.clear=function(){this.setAll([])},n.prototype.iterator=function(){return ha(this._values)},n.prototype[Symbol.iterator]=function(){var t,e;return mt(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},n.prototype.each=function(t){ce(this._values,t)},n.prototype.range=function(t,e){if(t<=e){var i=e-t;return t=Math.max(t,0),e=Math.min(t+i,this._values.length),new sx(this._values,t,e)}else throw new Error("Start index must be lower than end index")},n.prototype.backwards=function(){return new sx(this._values,this._values.length,0)},n}(),zt=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;Q(e.iterator(),function(r){i.push(r.clone())})},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.push(i),i},t.prototype.clone=function(){for(var e=new t(this.template),i=this.values,r=i.length,s=0;s<r;++s)e.push(i[s].clone());return e},t}(ct),U0=function(){function n(t){this._values=[],this.events=new Cs,t!=null&&this.setAll(t)}return Object.defineProperty(n.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),n.prototype._insert=function(t){return this._values.push(t),this._values.length-1},Object.defineProperty(n.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),n.prototype.indexOf=function(t){return qr(this._values,t)},n.prototype.contains=function(t){return this.indexOf(t)!==-1},n.prototype.getIndex=function(t){return this._values[t]},Object.defineProperty(n.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),n.prototype.insert=function(t){var e=this._insert(t);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:e,newValue:t})},n.prototype.remove=function(t){var e=this.indexOf(t);if(e!==-1){var i=this._values[e];ho(this._values,e),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:e,oldValue:i})}},n.prototype.setAll=function(t){var e=this;Ok(this._values,function(i,r){e._values.pop(),e.events.isEnabled("removed")&&e.events.dispatchImmediately("removed",{type:"removed",target:e,index:r,oldValue:i})}),ce(t,function(i){e.insert(i)})},n.prototype.clear=function(){this.setAll([])},n.prototype.slice=function(t,e){var i=new n;return i._values=this._values.slice(t,e),i},n.prototype.findClosestIndex=function(t,e,i){i===void 0&&(i="any");var r=-1,s,a,o=0;return yr(this.iterator(),function(u){var c=e(u);if(i==="any"){if(c===t)return r=o,!1;var f=Math.abs(t-c);(!M(a)||a>f)&&(r=o,s=c,a=f)}else i==="left"&&c<t?(!M(s)||s<c)&&(r=o,s=c):i==="right"&&c>=t&&(!M(s)||s>=c)&&(r=o,s=c);return++o,!0}),r===-1&&(i==="left"?r=0:i==="right"&&(r=this.length-1)),r},n.prototype.iterator=function(){return ha(this._values)},n.prototype[Symbol.iterator]=function(){var t,e;return mt(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},n.prototype.each=function(t){ce(this._values,t)},n}(),Om=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i._ordering=e,i}return t.prototype._insert=function(e){var i=Jh(this._values,this._ordering,e).index;return Tl(this._values,i,e),i},t.prototype.indexOf=function(e){var i=Jh(this._values,this._ordering,e),r=i.found,s=i.index;return r?s:-1},t.prototype.update=function(e){var i=qr(this._values,e);if(i!==-1){var r=this._values.length-1;(i===0||this._ordering(this._values[i-1],e)<0)&&(i===r||this._ordering(e,this._values[i+1])<0)||(ho(this._values,i),this._insert(e))}},t}(U0),ec=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;Q(e.iterator(),function(r){i.insert(r.clone())})},t.prototype.slice=function(e,i){var r=new t(this.template);return r._values=this._values.slice(e,i),r},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.insert(i),i},t}(U0),X0=function(n){N(t,n);function t(e,i){var r=n.call(this,i)||this;return r.template=e,r}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;Q(e.iterator(),function(r){i.insert(r.clone())})},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.insert(i),i},t}(Om);function vn(n,t){return n===t?0:n<t?-1:1}function Ap(n){switch(n){case 0:return 0;case-1:return 1;case 1:return-1}}function $0(n,t){return n===0?t:n}var Kk=function(){function n(){this._callbackId=0,this._callbacks=new Om(function(t,e){return $0(vn(t.priority,e.priority),vn(t.id,e.id))})}return n.prototype.addAll=function(t,e,i,r,s){r===void 0&&(r=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:i,priority:r,scope:s,type:t})},n.prototype.isEnabled=function(t,e){return Cm(this._callbacks.values,function(i){return i.key===e&&t instanceof i.type})},n.prototype.applyAll=function(t,e,i){var r=this._callbacks.values,s=r.length;if(s==0)return i;for(var a=0;a<s;++a){var o=r[a];o.key===e&&t instanceof o.type&&(i=o.callback.call(o.scope,i,t,e))}return i},n}(),Ip=new Kk,rr=function(){function n(t){this._callbackId=0,this._callbacks=new Om(function(e,i){return $0(vn(e.priority,i.priority),vn(e.id,i.id))}),this._disabled={},this.object=t,this.events=this._callbacks.events}return n.prototype.add=function(t,e,i,r){i===void 0&&(i=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:e,priority:i,scope:r})},n.prototype.has=function(t,e,i,r){return i===void 0&&(i=0),Dm(this._callbacks.iterator(),function(s){return s.key===t&&s.callback===e&&s.priority===i&&s.scope===r})},n.prototype.remove=function(t,e){var i=this;ce(Ml(this._callbacks.iterator()),function(r){r.key===t&&(!D(e)||e===r.priority)&&i._callbacks.remove(r)})},n.prototype.enableKey=function(t){delete this._disabled[t]},n.prototype.disableKey=function(t,e){e===void 0&&(e=1/0),this._disabled[t]=e},n.prototype._hasListenersByType=function(t){return Cm(this._callbacks.values,function(e){return e.key===t})},n.prototype.isEnabled=function(t){return this._disabled[t]==null&&(this._hasListenersByType(t)||Ip.isEnabled(this.object,t))},n.prototype._shouldDispatch=function(t){var e=this._disabled[t];return D(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):!0},n.prototype.apply=function(t,e){if(this._shouldDispatch(t)){var i=this._callbacks.values,r=i.length;if(r>0)for(var s=0;s<r;++s){var a=i[s];a.key===t&&(e=a.callback.call(a.scope,e,this.object,t))}return e=Ip.applyAll(this.object,t,e),e}else return e},n.prototype.keys=function(){return Ml(Y0(this._callbacks.iterator(),function(t){return t.key}))},n.prototype.copyFrom=function(t){var e=this;Q(t._callbacks.iterator(),function(i){e.add(i.key,i.callback,i.priority,i.scope)}),Ve(t._disabled,function(i,r){e._disabled[i]=r})},n.prototype.clear=function(){this._callbacks.clear()},n}(),ax={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function Zk(n,t){var e;return ax[n]?e=ax[n]:n.charAt(0)==="#"?e=Qk(n):n.match(/^rgba?\(/)&&(e=Jk(n)),e||(e={r:0,g:0,b:0,a:1}),M(t)&&(e.a=t),e}function Qk(n){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;n=n.replace(t,function(i,r,s,a){return r+r+s+s+a+a});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:qk(n)}function qk(n){var t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;n=n.replace(t,function(i,r,s,a,o){return r+r+s+s+a+a+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/256}:void 0}function Jk(n){n=n.replace(/[ ]/g,"");var t=n.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(t=n.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!t)return;return{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:parseFloat(t[4])}}function eO(n){return"#"+lp(n.r.toString(16))+lp(n.g.toString(16))+lp(n.b.toString(16))}function tO(n){return M(n.a)&&n.a!==1?"rgba("+n.r+","+n.g+","+n.b+","+n.a+")":"rgb("+n.r+","+n.g+","+n.b+")"}function lp(n){return n.length==1?"0"+n:""+n}function tc(n,t,e){return e=ge(e,0,1),n?t?{r:n.r+Math.round((t.r-n.r)*e),g:n.g+Math.round((t.g-n.g)*e),b:n.b+Math.round((t.b-n.b)*e),a:(n.a||1)+Math.round(((t.a||1)-(n.a||1))*e)}:n:t||n}function iO(n,t){return n&&{r:Math.max(0,Math.min(255,n.r+Th(n.r,t))),g:Math.max(0,Math.min(255,n.g+Th(n.g,t))),b:Math.max(0,Math.min(255,n.b+Th(n.b,t))),a:n.a}}function Th(n,t){var e=t>0?255-n:n;return Math.round(e*t)}function rO(n,t){if(n){var e=Math.min(Math.max(n.r,n.g,n.b),230),i=Th(e,t);return{r:Math.max(0,Math.min(255,Math.round(n.r+i))),g:Math.max(0,Math.min(255,Math.round(n.g+i))),b:Math.max(0,Math.min(255,Math.round(n.b+i))),a:n.a}}else return n}function nO(n,t){if(n==null||t==1)return n;var e=Mh(n);return e.s=t,G0(e)}function G0(n){var t,e,i,r=n.h,s=n.s,a=n.l;if(s==0)t=e=i=a;else{var o=function(p,g,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?p+(g-p)*6*y:y<.5?g:y<.6666666666666666?p+(g-p)*(.6666666666666666-y)*6:p},u=a<.5?a*(1+s):a+s-a*s,c=2*a-u;t=o(c,u,r+1/3),e=o(c,u,r),i=o(c,u,r-1/3)}return{r:Math.round(t*255),g:Math.round(e*255),b:Math.round(i*255)}}function Mh(n){var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.max(t,e,i),s=Math.min(t,e,i),a=0,o=0,u=(r+s)/2;if(r===s)a=o=0;else{var c=r-s;switch(o=u>.5?c/(2-r-s):c/(r+s),r){case t:a=(e-i)/c+(e<i?6:0);break;case e:a=(i-t)/c+2;break;case i:a=(t-e)/c+4;break}a/=6}return{h:a,s:o,l:u}}function sO(n){return(n.r*299+n.g*587+n.b*114)/1e3>=128}var ht=function(){function n(t){this._value=t}return Object.defineProperty(n.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hex",{get:function(){return this._value?eO(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rgba",{get:function(){return this._value?tO(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._value!=null&&this._value.a!=null?this._value.a:1},set:function(t){this._value&&(this._value.a=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new n({r:255,g:255,b:255})),this._lightColor},set:function(t){this._lightColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new n({r:0,g:0,b:0})),this._darkColor},set:function(t){this._darkColor=t},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},n.prototype.lighten=function(t){return new n(iO(this.rgb,t))},n.prototype.brighten=function(t){return new n(rO(this.rgb,t))},n.prototype.saturate=function(t){return new n(nO(this.rgb,t))},Object.defineProperty(n.prototype,"alternative",{get:function(){if(this.rgb!=null)return sO(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),n}();function Oe(n,t){if(!M(n))return new ht(void 0);if(typeof n=="string"){var e="_color_"+n+"_"+(t||"1"),i=F.getCache(e);if(i)return new ht({r:i.r,g:i.g,b:i.b,a:i.a});var r=Zk(n,t);return F.setCache(e,r),new ht(r)}return n instanceof ht?(M(t)&&(n.alpha=t),n):new ht(n)}function aO(n){return n instanceof ht}function oO(n){return Oe(n)}function Or(n){return M(n)&&!aO(n)?oO(n):n}var Ri=function(){function n(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return n.prototype.debug=function(){},Object.defineProperty(n.prototype,"uid",{get:function(){return this._uid||(this._uid=F.getUniqueId(),F.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"map",{get:function(){return this._map||(this._map=new St),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new St),this._delayedMap},enumerable:!0,configurable:!0}),n.prototype.addDelayedMap=function(t,e){var i=this.delayedMap;i.hasKey(e)||i.setKey(e,[]);var r=i.getKey(e);r.push({property:t,target:this})},n.prototype.processDelayedMap=function(){var t=this;this.delayedMap.each(function(e,i){if(t.map.hasKey(e)){var r=t.map.getKey(e);ce(i,function(s){s.target[s.property]=r}),t.delayedMap.removeKey(e)}})},n.prototype.applyTheme=function(){var t=this;if(F){var e=this.getCurrentThemes();e&&ce(e,function(i,r){i(t)})}},Object.defineProperty(n.prototype,"themes",{get:function(){return this._themes},set:function(t){this._themes=t},enumerable:!0,configurable:!0}),n.prototype.getCurrentThemes=function(){return this.themes||F.themes},n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;t.length!==0;){var e=t.shift();e.dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var i=this._uid;i!=null&&F.map.removeKey(i)}},n.prototype.addDisposer=function(t){this._disposers.push(t)},n.prototype.removeDispose=function(t){if(!this._disposed){var e=qr(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()},n.prototype.clone=function(t){t||(t="clone-"+F.getUniqueId());var e=new this.constructor;return e.cloneId=t,e.copyFrom(this),e},Object.defineProperty(n.prototype,"clones",{get:function(){return this._clones||(this._clones=new ct),this._clones},enumerable:!0,configurable:!0}),n.prototype.copyFrom=function(t){t.clones.push(this),this.clonedFrom=t},Object.defineProperty(n.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t},enumerable:!0,configurable:!0}),n.prototype.setCache=function(t,e,i){_l.set(this.uid,t,e,i)},n.prototype.getCache=function(t,e){return e===void 0&&(e=void 0),_l.get(this.uid,t,e)},n.prototype.clearCache=function(){_l.clear(this.uid)},n.prototype.setTimeout=function(t,e){var i=this,r=setTimeout(function(){i.removeDispose(s),t()},e),s=new vt(function(){clearTimeout(r)});return this._disposers.push(s),s},n.prototype.setInterval=function(t,e){var i=this,r=setInterval(function(){i.removeDispose(s),t()},e),s=new vt(function(){clearTimeout(r)});return this._disposers.push(s),s},Object.defineProperty(n.prototype,"config",{set:function(t){try{this.processConfig(t)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),n.prototype.processConfig=function(t){var e=this;if(t){var i=this;if(Rn(t,function(s,a){var o=a;if(s=="callback"&&typeof a=="function"&&a.call(i),e.hasProperty(s)){var u;if(Ot(o)&&M(o.type)&&(!Ot(i[s])||!M(i[s].className)||o.forceCreate||i[s].className!=o.type)&&!e.asIs(s)?(u=e.createClassInstance(o.type),u?i[s]=u:u=i[s]):u=i[s],u instanceof rr)e.processAdapters(u,o);else if(u instanceof Cs)e.processEvents(u,o);else if(s=="locale"&&at(o))window["am4lang_"+o]&&(i[s]=window["am4lang_"+o]);else if(s=="parent"&&at(o)){var c=e.map.getKey(o);c?i[s]=c:e.addDelayedMap("parent",o)}else if(e.asIs(s))i[s]=o;else if(e.asFunction(s)&&at(o))if(M(F.registeredClasses[o]))i[s]=F.registeredClasses[o];else throw Error("Invalid easing function: "+o);else if(o instanceof n)i[s]=o;else if(u instanceof n)u.config=o;else if(u instanceof zt||u instanceof ec||u instanceof X0){if(fi(o))u instanceof zt?e.processListTemplate(o,u):e.processOrderedTemplate(o,u);else if(Ot(o))if(o instanceof n)u.template=o;else{var f=void 0;M(o.template)?f=o.template:f=o,u.template instanceof n?u.template.config=f:Ve(f,function(p,g){var y=u.template[p];y instanceof rr?e.processAdapters(y,g):y instanceof Cs?e.processEvents(y,g):y instanceof Fl?e.processDictionaryTemplate(y,g):u.template[p]instanceof n?u.template[p].config=g:Ot(g)&&M(g.type)?(y=e.createClassInstance(g.type),y?(y instanceof n&&(y.config=g),u.template[p]=y):u.template[p]=g):y instanceof ct?e.processList(g,y):u.template[p]=e.maybeColorOrPercent(g)}),M(o.values)&&(u instanceof zt?e.processListTemplate(o.values,u):e.processOrderedTemplate(o.values,u))}}else u instanceof ct?s=="children"?e.processList(o,u,e):e.processList(o,u):u instanceof Fl?e.processDictionaryTemplate(u,o):u instanceof St?e.processDictionary(u,o):u instanceof ht||u instanceof st?i[s]=e.maybeColorOrPercent(o):Ot(u)&&Ot(o)?cl(o,u):(o=e.maybeColorOrPercent(o),i[s]=o)}else e.isReserved(s)||(i[s]=o)},this.configOrder),this.processingErrors.length){var r=this.processingErrors.join(`
`);throw this._processingErrors=[],Error(r)}}},n.prototype.maybeColorOrPercent=function(t){if(at(t)){if(t.match(/^[\-]?[0-9.]+\%$/))return te(_t(t));if(t.match(/^\#[0-9abcdef]{3,}$/i))return Oe(t)}return t},n.prototype.processAdapters=function(t,e){var i=this;fi(e)?ce(e,function(r,s){t.add(r.key,r.callback,r.priority||0,i)}):Ot(e)&&Ve(e,function(r,s){t.has(r,s)||t.add(r,s)})},n.prototype.processEvents=function(t,e){var i=this;fi(e)?ce(e,function(r,s){t.on(r.type,r.callback,i)}):Ot(e)&&Ve(e,function(r,s){t.has(r,s)||t.on(r,s)})},n.prototype.processDictionaryTemplate=function(t,e){Ot(e)&&Ve(e,function(i,r){var s;i=="template"?s=t.template:t.hasKey(i)?s=t.getKey(i):s=t.create(i),s instanceof n?s.config=r:Ot(s)&&Ot(r)?cl(r,s):s.setKey(i,r)})},n.prototype.processDictionary=function(t,e){Ot(e)&&Ve(e,function(i,r){t.setKey(i,r)})},n.prototype.processListTemplate=function(t,e){var i=this;for(ce(t,function(r,s){var a=i.getConfigEntryType(r),o;if(e.hasIndex(s)&&!r.forceCreate)o=e.getIndex(s);else if(r instanceof n){e.push(r);return}else a?o=e.create(a):o=e.create();r===o||Ot(r)&&(o instanceof n?o.config=r:Ot(o)&&Ot(r)?cl(r,o):e.setIndex(e.indexOf(o),r))});t.length>e.length;)e.pop()},n.prototype.processOrderedTemplate=function(t,e){var i=this;ce(t,function(r,s){var a=i.getConfigEntryType(r),o;a?o=e.create(a):o=e.create(),Ot(r)&&(o instanceof n?o.config=r:Ot(o)&&Ot(r)?cl(r,o):e.insert(r))})},n.prototype.processList=function(t,e,i){var r=this;fi(t)||(t=[t]);var s=e.length,a=0;for(ce(t,function(o,u){if(Ot(o)){var c=void 0;if(u<s&&!o.forceCreate)c=e.getIndex(u);else if(o instanceof n){e.push(o);return}else a++,c=r.createEntryInstance(o),i?c.parent=i:e.push(c);c instanceof n?c.config=o:Ot(c)&&Ot(o)&&cl(o,c)}else e.hasIndex(u)?e.setIndex(u,o):e.push(o)});!i&&t.length+a<e.length;)e.pop()},n.prototype.configOrder=function(t,e){return t==e?0:t=="language"?-1:e=="language"?1:0},n.prototype.asIs=function(t){return qr(["locale"],t)!=-1},n.prototype.asFunction=function(t){return!1},n.prototype.createClassInstance=function(t){if(M(F.registeredClasses[t]))return new F.registeredClasses[t];throw Error('Invalid type: "'+t+'".')},n.prototype.createEntryInstance=function(t){var e;return M(t.type)&&(e=this.createClassInstance(t.type)),e||t},n.prototype.getConfigEntryType=function(t){if(M(t.type)){if(M(F.registeredClasses[t.type]))return F.registeredClasses[t.type];throw Error('Invalid type: "'+t.type+'".')}},n.prototype.hasProperty=function(t){return t in this},n.prototype.isReserved=function(t){return["type","forceCreate"].indexOf(t)!==-1},Object.defineProperty(n.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),n}(),wn=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="BaseObjectEvents",e}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new Cs,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}))},t.prototype.dispatchImmediately=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatchImmediately(e,i)):this.events.dispatchImmediately(e,{type:e,target:this}))},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},t}(Ri);function lO(){return/apple/i.test(navigator.vendor)}function uO(){return/MSIE |Trident\//.test(navigator.userAgent)}var ox="string",Fh="number",Eh="date",Rp="duration",gr="__§§§__",ro="__§§§§__";function Bn(n,t){return Ve(n,function(e,i){M(i)&&(t[e]=i)}),t}function lx(n){return/^[^#]*/.exec(n)[0]}function ml(){var n="#";if(lO()){var t=document.baseURI;if(t){t=lx(t);var e=lx(location.href);t!==e&&(n=e+n)}}return n}function hO(n,t){return Ve(n,function(e,i){t[e]=i}),t}function ic(n){return M(n)&&n.toString()!==""}function Ft(n,t){return D(n)?n:n!=null&&D(n.value)&&D(t)?t*n.value:0}function di(n,t,e){var i;return D(n)?(i=n,i<0&&(e?i=t+i:i=t-i)):n!=null&&D(n.value)&&(i=t*n.value),i}function cO(){var n=window.devicePixelRatio||1;return n}function rc(n){var t=n.split("");return t[0]=t[0].toUpperCase(),t.join("")}function ux(n){return JSON.stringify(n)}function Lp(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Np(n,t,e,i,r){if(n.length<=t)return[n];var s=[];if(e){for(var a=-1,o=n.replace(/([,;:!?\\\/]+|[\s])/g,gr+"$1"+gr),u=o.split(gr),c=1;c<u.length;c++){var f=u[c];(f=="."||f==",")&&u[c-1].match(/[\w]+$/)&&(u[c-1]+=f,u[c]="")}for(var c=0;c<u.length;c++){var f=u[c],p=f.length;if(p!==0){if(p>t&&(e!==!0||r!=!1)){i&&(f=up(f));var g=f.match(new RegExp(".{1,"+t+"}","g"));if(g){if(i)for(var y=0;y<g.length;y++)g[y]=up(g[y]);s=s.concat(g)}}else a===-1&&(s.push(""),a=0),s[a].length+p+1>t&&s[a]!==""&&(s.push(""),a++),s[a]+=f;a=s.length-1}}}else{var g=n.match(new RegExp(".{1,"+t+"}","g"));if(g){if(i)for(var y=0;y<g.length;y++)i||(g[y]=up(g[y]));s=g}}return s.length==1&&e&&r&&s[0].length>t&&(s=[]),s}function zp(n,t,e,i,r){if(n.length<=t)return n;t-=e.length,t<1&&(t=1);var s=Np(n,t,i,r);return(s[0]||"")+e}function K0(n){return n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function dO(n){return n.replace(/[\s\uFEFF\xA0]+$/g,"")}function fO(n){return n.replace(/^[\s\uFEFF\xA0]+/g,"")}function up(n){return n.split("").reverse().join("")}function ki(n,t,e){return t===void 0&&(t=0),e===void 0&&(e="0"),typeof n!="string"&&(n=n.toString()),t>n.length?Array(t-n.length+1).join(e)+n:n}function pO(n){if(typeof n>"u")return ox;n=n.toLowerCase().replace(/^\[[^\]]*\]/,""),n=n.replace(/\[[^\]]+\]/,""),n=n.trim();var t=n.match(/\/(date|number|duration)$/);return t?t[1]:n===Fh?Fh:n===Eh?Eh:n===Rp?Rp:n.match(/[#0]/)?Fh:n.match(/[ymwdhnsqaxkzgtei]/)?Eh:ox}function nc(n){return n.replace(/\/(date|number|duration)$/i,"")}function Z0(n){return n&&n.replace(/<[^>]*>/g,"")}function Bp(n){return n&&Z0((""+n).replace(/[\n\r]+/g,". "))}function mO(n){if(Oi(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(n===0&&1/n===-1/0)return"-0";var t=n<0;n=Math.abs(n);var e=Et(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+n)),i=e[1],r=e[2]||"",s;if(e[3]==null)s=r===""?i:i+"."+r;else{var a=+e[3];if(n<1){var o=a-1;s="0."+nx("0",o)+i+r}else{var o=a-r.length;o===0?s=i+r:o<0?s=i+r.slice(0,o)+"."+r.slice(o):s=i+r+nx("0",o)}}return t?"-"+s:s}function Q0(n){if(kl(n)){var t=new Date(n);return t.setMilliseconds(n.getMilliseconds()),t}else{if(D(n))return new Date(n);var e=Number(n);return D(e)?new Date(e):new Date(n)}}function Hp(n){if(kl(n))return n.getTime();if(D(n))return n;if(at(n)){var t=Number(n);return D(t)?t:void 0}}function hx(n,t){var e=new Date(n.getFullYear(),0,0),i=n.getTime()-e.getTime()+(e.getTimezoneOffset()-n.getTimezoneOffset())*60*1e3,r=1e3*60*60*24;return Math.floor(i/r)}function sc(n,t){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);var r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)}function gO(n,t){var e=sc(new Date(n.getFullYear(),n.getMonth(),1)),i=sc(n);return i==1&&(i=53),i-e+1}function yO(n,t,e,i){i===void 0&&(i=!1);var r=new Date(t,0,4,0,0,0,0);i&&r.setUTCFullYear(t);var s=n*7+e-((r.getDay()||7)+3);return s}function xh(n,t){return n>12?n-=12:n===0&&(n=12),M(t)?n+(t-1):n}function wh(n,t,e,i){if(t===void 0&&(t=!1),e===void 0&&(e=!1),i===void 0&&(i=!1),i)return t?"Coordinated Universal Time":"UTC";var r=n.toLocaleString("UTC"),s=n.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(r.length);return e===!1&&(s=s.replace(/ (standard|daylight|summer|winter) /i," ")),s}function vO(n,t){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);var r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return r.getFullYear()}function hp(n,t,e){return n>e?e:n<t?t:n}function cp(n,t,e){var i=e-t;return(n>e||n<t)&&(n=t+(n-i*Math.floor(n/i))),n}function Jr(n,t){var e=n.x,i=n.y,r=[];if(t){for(;M(t.parent);)r.push(t),t=t.parent;r.reverse();for(var s=0;s<r.length;s++){var a=r[s],o=a.rotation,u=e-a.pixelX-a.ex,c=i-a.pixelY-a.ey;a.dx&&(e-=a.dx),a.dy&&(i-=a.dy);var f=a.scale;a.group&&(f=a.group.scale),e=(oe(-o)*u-ae(-o)*c)/f-a.pixelPaddingLeft,i=(oe(-o)*c+ae(-o)*u)/f-a.pixelPaddingTop}}return{x:e,y:i}}function Tr(n,t){var e=n.x,i=n.y;if(t)for(;M(t.parent);){var r=t.rotation;e+=t.pixelPaddingLeft+t.ex,i+=t.pixelPaddingTop+t.ey;var s=t.scale;t.group&&(s=t.group.scale);var a=t.pixelX+(e*oe(r)-i*ae(r))*s,o=t.pixelY+(e*ae(r)+i*oe(r))*s;t.dx&&(a+=t.dx),t.dy&&(o+=t.dy),e=a,i=o,t=t.parent}return{x:e,y:i}}function $i(n,t,e){return Jr(Tr(n,t),e)}function Tm(n,t){var e=Tr(n,t),i=Tr({x:n.x+n.width,y:n.y+n.height},t);return{x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y}}function bs(n,t,e){try{var i=t.getBoundingClientRect();return D(e)||(e=1),{x:(n.x-i.left)/e,y:(n.y-i.top)/e}}catch{return n}}function q0(n,t){try{var e=t.getBoundingClientRect();return{x:n.x+e.left,y:n.y+e.top}}catch{return n}}function ao(n,t){if(t&&t.htmlContainer){var e=bs(n,Et(t.htmlContainer),t.svgContainer.cssScale);return Jr(e,t)}else return n}function Wp(n,t){if(t&&t.htmlContainer){var e=Tr(n,t);return q0(e,Et(t.htmlContainer))}else return n}function bO(n){var t=getComputedStyle(n),e=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth);return n.clientWidth-e-i}function xO(n){var t=getComputedStyle(n),e=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),i=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return n.clientHeight-e-i}function wO(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}var _O=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function cx(n){var t=_O.exec(n);return{protocol:t&&t[1]||"",separator:t&&t[2]||"",authority:t&&t[3]||"",domain:t&&t[4]||"",port:t&&t[5]||"",path:t&&t[6]||"",query:t&&t[7]||"",hash:t&&t[8]||""}}function dx(n){return n.protocol+n.separator+n.authority+n.domain+n.port+n.path+n.query+n.hash}function fx(n){return n.protocol===""&&n.separator===""&&n.authority===""&&n.domain===""&&n.port===""}function Mm(n,t){var e=cx(n),i=cx(t);if(fx(e))throw new Error("Left URL is not absolute");if(fx(i)){if(i.path!=="")if(i.path[0]==="/")e.path=i.path;else{var r=e.path.split(/\//),s=i.path.split(/\//);if(r.length===0?s.length!==0&&r.push(""):r.length>1&&r.pop(),Mk(r,s),e.path=r.join("/"),e.path!==""&&e.path[0]!=="/")throw new Error("URL path must start with /")}return e.query=i.query,e.hash=i.hash,dx(e)}else return dx(i)}function El(){return!!window.MSInputMethodContext&&!!document.documentMode}function J0(n){return+n}F.registeredClasses["ease.linear"]=J0;function PO(n){return n*n}F.registeredClasses["ease.quadIn"]=PO;function CO(n){return n*(2-n)}F.registeredClasses["ease.quadOut"]=CO;function SO(n){return n*=2,(n<=1?n*n:--n*(2-n)+1)/2}F.registeredClasses["ease.quadInOut"]=SO;function e1(n,t){return Math.pow(n,t)}F.registeredClasses["ease.polyIn"]=e1;function t1(n,t){return 1-Math.pow(1-n,t)}F.registeredClasses["ease.polyOut"]=t1;function i1(n,t){return n*=2,(n<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}F.registeredClasses["ease.polyInOut"]=i1;function jO(n){return e1(n,3)}F.registeredClasses["ease.polyIn3"]=jO;function Yp(n){return t1(n,3)}F.registeredClasses["ease.polyOut3"]=Yp;function DO(n){return i1(n,3)}F.registeredClasses["ease.polyInOut3"]=DO;function kO(n){return Math.pow(2,10*n-10)}F.registeredClasses["ease.expIn"]=kO;function OO(n){return 1-Math.pow(2,-10*n)}F.registeredClasses["ease.expOut"]=OO;function TO(n){return n*=2,(n<=1?Math.pow(2,10*n-10):2-Math.pow(2,10-10*n))/2}F.registeredClasses["ease.expInOut"]=TO;function MO(n){return 1-Math.cos(n*F0)}F.registeredClasses["ease.sinIn"]=MO;function r1(n){return Math.sin(n*F0)}F.registeredClasses["ease.sinOut"]=r1;function FO(n){return(1-Math.cos(Mc*n))/2}F.registeredClasses["ease.sinInOut"]=FO;function n1(n){return n*n*n}F.registeredClasses["ease.cubicIn"]=n1;function fa(n){return--n*n*n+1}F.registeredClasses["ease.cubicOut"]=fa;function EO(n){return n*=2,(n<=1?n*n*n:(n-=2)*n*n+2)/2}F.registeredClasses["ease.cubicInOut"]=EO;function VO(n){return 1-Math.sqrt(1-n*n)}F.registeredClasses["ease.circleIn"]=VO;function AO(n){return Math.sqrt(1- --n*n)}F.registeredClasses["ease.circleOut"]=AO;function IO(n){return n*=2,(n<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}F.registeredClasses["ease.circleInOut"]=IO;var Up=4/11,RO=6/11,LO=8/11,NO=3/4,zO=9/11,BO=10/11,HO=15/16,WO=21/22,YO=63/64,_h=1/Up/Up;function UO(n){return 1-ac(1-n)}F.registeredClasses["ease.bounceIn"]=UO;function ac(n){return n=+n,n<Up?_h*n*n:n<LO?_h*(n-=RO)*n+NO:n<BO?_h*(n-=zO)*n+HO:_h*(n-=WO)*n+YO}F.registeredClasses["ease.bounceOut"]=ac;function XO(n){return n*=2,(n<=1?1-ac(1-n):ac(n-1)+1)/2}F.registeredClasses["ease.bounceInOut"]=XO;var $O=2*Math.PI,Vl=1,Al=.3/$O,oc=Math.asin(1/Vl)*Al;function GO(n){return Vl*Math.pow(2,10*--n)*Math.sin((oc-n)/Al)}F.registeredClasses["ease.elasticIn"]=GO;function KO(n){return 1-Vl*Math.pow(2,-10*(n=+n))*Math.sin((n+oc)/Al)}F.registeredClasses["ease.elasticOut"]=KO;function ZO(n){return n=n*2-1,(n<0?Vl*Math.pow(2,10*n)*Math.sin((oc-n)/Al):2-Vl*Math.pow(2,-10*n)*Math.sin((oc+n)/Al))/2}F.registeredClasses["ease.elasticInOut"]=ZO;var lc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.transitionDuration=0,e.transitionEasing=fa,e.properties={},e.propertyFields={},e.filters=new ct,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new Pt(e.filters)),e.applyTheme(),e}return Object.defineProperty(t.prototype,"adapter",{get:function(){var e=this;return this._adapterO||(this._adapterO=new rr(this),this._adapterO.events.on("inserted",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.getPropertyValue=function(e){var i=this.properties[e],r=this.sprite;if(r){var s=this.propertyFields[e];if(M(s)&&(r.dataItem&&(i=r.dataItem.dataContext[s]),i==null&&(i="__unset")),M(i))this._adapterO&&(i=this._adapterO.apply(e,i));else{var a=r.getPropertyValue(e);this._adapterO?i=this._adapterO.apply(e,a):i=a,i==a&&(i=void 0)}}return i},t.prototype.copyFrom=function(e){e&&e!=this&&(this.transitionDuration=e.transitionDuration,this.transitionEasing=e.transitionEasing,Bn(e.properties,this.properties),Bn(e.propertyFields,this.propertyFields),this.filters.copyFrom(e.filters),e._adapterO&&this.adapter.copyFrom(e._adapterO))},Object.defineProperty(t.prototype,"allValues",{get:function(){var e=this,i={};if(Ve(this.properties,function(a,o){i[a]=e.getPropertyValue(a)}),this._adapterO){var r=this._adapterO.keys();Ve(r,function(a,o){var u=e.getPropertyValue(o);i[o]=u})}var s=this.propertyFields;return Ve(s,function(a){var o=e.getPropertyValue(a);i[a]=o}),i},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.properties={},this.filters.clear()},t.prototype.processConfig=function(e){M(e)&&M(e.properties)&&Ve(e.properties,function(i,r){at(r)&&(r.match(/^[0-9.\-]+\%$/)?e.properties[i]=te(_t(r)):r.match(/^\#[0-9abcdef]{3,}$/i)&&(e.properties[i]=Or(r)))}),n.prototype.processConfig.call(this,e)},t.prototype.asFunction=function(e){return e=="transitionEasing"||n.prototype.asIs.call(this,e)},t}(Ri);F.registeredClasses.SpriteState=lc;var QO=function(n){N(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._interactionEvents=new St,e}return t.prototype._dispatchSpriteEvent=function(e){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(e.type)){var i=Ep(e,{target:this.target});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._dispatchSpritePointEvent=function(e){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(e.type)){var i=Ep(e,{target:this.target,spritePoint:e.point?ao(e.point,this.target):void 0,svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._addInteractionObjectEvent=function(e,i,r,s){var a=this,o=s+"-"+e,u=this._interactionEvents.insertKeyIfEmpty(o,function(){var c=a.target.interactions.events.on(e,i,r,s);return new Ec(function(){a._interactionEvents.removeKey(o),c.dispose()})});return u.increment()},t.prototype._on=function(e,i,r,s,a,o){var u=n.prototype._on.call(this,e,i,r,s,a,o),c=[u.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":c.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,a));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":c.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,a));break}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;break}return u.disposer=new Lt(c),u},t}(B0),qO=function(){function n(){}return n.opacity=1,n.strokeOpacity=1,n.strokeWidth=1,n.fillOpacity=1,n.fill=Oe("#000000"),n.stroke=Oe("#000000"),n.focusable=void 0,n.tabindex=0,n}(),Fr={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function s1(n,t,e){return t+(e-t)*n}function JO(n,t,e){return new st(s1(n,t.percent,e.percent))}function eT(n,t,e){var i=new ht(tc(t.rgb,e.rgb,n));return t.alpha!=e.alpha&&(i.alpha=t.alpha+(e.alpha-t.alpha)*n),i}function px(n,t){return t+n.charAt(0).toUpperCase()+n.substr(1)}var go=function(){function n(t){this._disposer=new vt(function(){for(;t.length!==0;)t[0].dispose()})}return n.prototype.isDisposed=function(){return this._disposer.isDisposed()},n.prototype.dispose=function(){this._disposer.dispose()},n}(),$r=function(n){N(t,n);function t(e,i,r,s){var a=n.call(this)||this;return a.duration=0,a.easing=J0,a.progress=0,a._loop=0,a._pause=!1,a._delayTimeout=null,a._time=0,a._isFinished=!1,a.className="Animation",a.object=e,a.animationOptions=I0(i),a.duration=r,s&&(a.easing=s),a.applyTheme(),a}return t.prototype.debug=function(){},t.prototype.dispose=function(){n.prototype.dispose.call(this),this.pause()},t.prototype.delay=function(e){var i=this;if(e>0){this.pause(),Mr(this.object.animations,this);var r=setTimeout(function(){i._delayTimeout=null,i.start()},e);this._delayTimeout=new vt(function(){clearTimeout(r)})}return this},t.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,Mr(it.animations,this),Mr(this.object.animations,this),it.requestFrame()},t.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var e=this.animationOptions.length-1;e>=0;e--){var i=this.animationOptions[e];if(M(i.from)||(i.childObject?i.from=i.childObject[i.property]:(i.from=this.object[i.property],M(i.from)||(i.from=qO[i.property]))),i.from==i.to)Le(this.animationOptions,i);else if(!M(i.from)||!(i.from instanceof st)&&i.to instanceof st||i.from instanceof st&&!(i.to instanceof st))this.staticOptions.push(i),Le(this.animationOptions,i);else if(D(i.to))if(i.updateMethod=s1,i.from instanceof st){var r=this.object[px(i.property,"pixel")];isNaN(r)?(this.staticOptions.push(i),Le(this.animationOptions,i)):i.from=r}else isNaN(i.from)&&(this.staticOptions.push(i),Le(this.animationOptions,i));else if(i.to instanceof ht)i.from?i.updateMethod=eT:(this.staticOptions.push(i),Le(this.animationOptions,i));else if(i.to instanceof st){if(i.updateMethod=JO,!isNaN(i.from)){var r=this.object[px(i.property,"relative")];isNaN(r)||(i.from=te(r*100))}}else this.staticOptions.push(i),Le(this.animationOptions,i)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var s={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",s)}return this.update(),this.duration===0&&this.end(),this},t.prototype.loop=function(e){return D(e)||(e=1/0),this._loop=e,this},t.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),Le(it.animations,this),Le(this.object.animations,this),this},t.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},t.prototype.end=function(){if(this._loop==0&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var e={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",e)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},t.prototype.kill=function(){this.pause(),this._isFinished=!0},t.prototype.isFinished=function(){return this._isFinished},t.prototype.applyStaticOptions=function(){var e=this;ce(this.staticOptions,function(i){i.childObject?i.childObject[i.property]=e.progress==1?i.to:i.from:e.object[i.property]=e.progress==1?i.to:i.from})},t.prototype.stop=function(e){if(this.pause(),!e&&this.events.isEnabled("animationstopped")){var i={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",i)}return this},t.prototype.setProgress=function(e){var i=this;if(this._time=this.duration*e,ce(this.animationOptions,function(s){if(s.updateMethod&&M(s.from)){var a=s.updateMethod(e,s.from,s.to);s.childObject?s.childObject[s.property]=a:i.object[s.property]=a}}),this.progress=e,this.events.isEnabled("animationprogress")){var r={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",r)}it.requestFrame()},t.prototype.update=function(){if(!this._pause){var e=void 0;this._time=ge(Date.now()-this._startTime,0,this.duration);var i=this._time/this.duration;e=this.easing(i),(this.duration==0||!D(e)||i>=1)&&(e=1),this.setProgress(e),ee(this._time/this.duration,6)==1&&this.end()}return this},Object.defineProperty(t.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),t.prototype.stopSameAnimations=function(){var e=this;ce(Ol(this.object.animations),function(i){if(i!==e&&!i.delayed){var r=[];ce(e.animationOptions,function(s){ce(i.animationOptions,function(a){s.property==a.property&&s.childObject==a.childObject&&(r.push(a),i.animationOptions.length==0&&i.kill())})}),ce(r,function(s){Le(i.animationOptions,s)})}})},t.prototype.asFunction=function(e){return e=="easing"||n.prototype.asIs.call(this,e)},t}(wn),Vh="http://www.w3.org/2000/svg",mx="http://www.w3.org/2000/xmlns/",Fm="http://www.w3.org/1999/xlink";function ei(n,t,e,i){return n.addEventListener(t,e,i||!1),new vt(function(){n.removeEventListener(t,e,i||!1)})}function a1(n){if(at(n)){var t=document.getElementById(n);if(t==null&&(t=document.getElementsByClassName(n)[0]),t instanceof HTMLElement)return t}else if(n instanceof HTMLElement)return n}function Xp(n,t){if(n)if(n.classList){var e=t.split(" ");ce(e,function(r){n.classList.add(r)})}else{var i=n.getAttribute("class");i?n.setAttribute("class",i.split(" ").filter(function(r){return r!==t}).join(" ")+" "+t):n.setAttribute("class",t)}}function $p(n,t){if(n)if(n.classList)n.classList.remove(t);else{var e=n.getAttribute("class");e&&n.setAttribute("class",e.split(" ").filter(function(i){return i!==t}).join(" "))}}function gx(n,t,e){n.style[t]=e}function Em(n,t){return n.currentStyle?n.currentStyle[t]:document.defaultView.getComputedStyle(n,null).getPropertyValue(t)}function Ah(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var n=document.createElement("button");n.style.position="fixed",n.style.top="0px",n.style.left="-10000px",document.body.appendChild(n),n.focus(),n.blur(),document.body.removeChild(n)}}function yx(n,t){for(var e=t;;){if(n===e)return!0;if(e.parentNode==null){if(e.host==null)return!1;e=e.host}else e=e.parentNode}}function Vm(n){for(var t=n;;){if(t.parentNode==null)return t.host!=null?t:null;t=t.parentNode}}function o1(n){for(var t=n.ownerDocument,e=n;;){if(e.parentNode==null)return e===t||e.host!=null?e:null;e=e.parentNode}}function tT(n){return typeof n.composedPath=="function"?n.composedPath()[0]:n.target}function iT(n){Vk(function(){try{var t=n.getBoundingClientRect(),e=t.left-Math.round(t.left),i=t.top-Math.round(t.top);e!==0&&rx(function(){n.style.left=e+"px"}),i!==0&&rx(function(){n.style.top=i+"px"})}catch{}})}var dp;function rT(n){if(n==null){if(!M(dp)){var t=document.createElement("style");t.type="text/css",document.head.appendChild(t),dp=t.sheet}return dp}else{var t=document.createElement("style");return t.type="text/css",n.appendChild(t),t.sheet}}function nT(n,t){var e=n.cssRules.length;return n.insertRule(t+"{}",e),n.cssRules[e]}var wt=function(n){N(t,n);function t(e,i,r){var s=this,a=rT(e);return s=n.call(this,function(){var o=qr(a.cssRules,s._rule);if(o===-1)throw new Error("Could not dispose StyleRule");a.deleteRule(o)})||this,s._rule=nT(a,i),Ve(r,function(o,u){s.setStyle(o,u)}),s}return Object.defineProperty(t.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!0,configurable:!0}),t.prototype._setVendorPrefixName=function(e,i){var r=this._rule.style;r.setProperty("-webkit-"+e,i,""),r.setProperty("-moz-"+e,i,""),r.setProperty("-ms-"+e,i,""),r.setProperty("-o-"+e,i,""),r.setProperty(e,i,"")},t.prototype.setStyle=function(e,i){e==="transition"?this._setVendorPrefixName(e,i):this._rule.style.setProperty(e,i,"")},t}(vt),sT=0;(function(n){N(t,n);function t(e,i,r){var s=this,a=M(r)?r:"__style_"+ ++sT+"__";return s=n.call(this,e,"."+a,i)||this,s._className=a,s}return Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._className},t})(wt);function aT(n){if(document.readyState!=="loading")n();else{var t=function(){document.readyState!=="loading"&&(document.removeEventListener("readystatechange",t),n())};document.addEventListener("readystatechange",t)}}function Ih(n){var t=Em(n,"font-family");if(t)return t;var e=n.parentElement||n.parentNode;return e?Ih(e):void 0}function Rh(n){var t=Em(n,"font-size");if(t)return t;var e=n.parentElement||n.parentNode;return e?Rh(e):void 0}var uc=function(){function n(t){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,typeof t=="string"?this.node=document.createElementNS(Vh,t):this.node=t}return n.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(n.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),n.prototype.transform=function(){var t="translate("+this._x+","+this._y+")";if(this._scale!=1&&(t+=(t?" ":"")+"scale("+this._scale+")"),this._rotation!=0){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),t+=(t?" ":"")+e}this._transformString=t,this.node.setAttribute("transform",t)},n.prototype.getBBox=function(){var t={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}catch{}return t},n.prototype.moveTo=function(t){if(t){var e=t.x,i=t.y;(this._x!=e||this._y!=i)&&(this._x=e,this._y=i,this.transform())}},Object.defineProperty(n.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(t){this.node.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!=t&&(this._x=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!=t&&(this._y=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationX",{get:function(){return this._rotationX},set:function(t){this._rotationX!=t&&(this._rotationX=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationY",{get:function(){return this._rotationY},set:function(t){this._rotationY!=t&&(this._rotationY=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t,this.transform())},enumerable:!0,configurable:!0}),n.prototype.removeAttr=function(t){this.node.removeAttribute(t)},n.prototype.attr=function(t){var e=this;return Ve(t,function(i,r){M(r)?e.node.setAttribute(i,r):e.node.removeAttribute(i)}),this},n.prototype.getAttr=function(t){return this.node.getAttribute(t)},n.prototype.attrNS=function(t,e,i){return this.node.setAttributeNS(t,e,i),this},n.prototype.getAttrNS=function(t,e){return this.node.getAttributeNS(t,e)},n.prototype.removeStyle=function(t){this.node.style[t]=null,delete this.node.style[t]},n.prototype.getStyle=function(t){return this.node.style[t]},n.prototype.addStyle=function(t){var e=this;return Ve(t,function(i,r){M(r)?e.node.style[i]=r:e.removeStyle(i)}),this},n.prototype.addClass=function(t){Xp(this.node,t)},n.prototype.removeClass=function(t){$p(this.node,t)},n.prototype.setClass=function(t){this.node.setAttribute("class",t)},n.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},n.prototype.isDisposed=function(){return this._isDisposed},n.prototype.dispose=function(){this.removeNode()},n}(),oT=function(n){N(t,n);function t(e){return n.call(this,e)||this}return t.prototype.add=function(e){e&&this.node.appendChild(e.node)},t.prototype.addToBack=function(e){if(e){var i=this.node.childNodes[0];i?i!=e.node&&this.node.insertBefore(e.node,i):this.node.appendChild(e.node)}},t.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node)}catch{}},t.prototype.hasChild=function(e){for(var i=0;i<this.node.childNodes.length;i++)if(this.node.childNodes[i]==e.node)return!0;return!1},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),t.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e)}},t.prototype.removeChildrenByTag=function(e){if(this.node.childNodes)for(var i=this.node.getElementsByTagName(e),r=0;r<i.length;r++)this.node.removeChild(i[r])},t}(uc),ft=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._purposes={stroke:Oe("#e5e5e5"),fill:Oe("#f3f3f3"),primaryButton:Oe("#6794dc"),primaryButtonHover:Oe("#6771dc"),primaryButtonDown:Oe("#68dc75"),primaryButtonActive:Oe("#68dc75"),primaryButtonText:Oe("#FFFFFF"),primaryButtonStroke:Oe("#FFFFFF"),secondaryButton:Oe("#d9d9d9"),secondaryButtonHover:Oe("#d9d9d9").brighten(-.25),secondaryButtonDown:Oe("#d9d9d9").brighten(-.35),secondaryButtonActive:Oe("#d9d9d9").brighten(.35),secondaryButtonText:Oe("#000000"),secondaryButtonStroke:Oe("#FFFFFF"),grid:Oe("#000000"),background:Oe("#ffffff"),alternativeBackground:Oe("#000000"),text:Oe("#000000"),alternativeText:Oe("#FFFFFF"),disabledBackground:Oe("#999999"),positive:Oe("#67dc75"),negative:Oe("#dc6788")},e.className="InterfaceColorSet",e.applyTheme(),e}return t.prototype.debug=function(){},t.prototype.getFor=function(e){return this._purposes[e]},t.prototype.setFor=function(e,i){this._purposes[e]=i},t}(Ri);F.registeredClasses.InterfaceColorSet=ft;var vx=new St;function lT(n,t){t||(t="ampopup");var e=new ft,i=e.getFor("text"),r=e.getFor("background");r.alpha=.8;var s=e.getFor("alternativeBackground");s.alpha=.05;var a=vx.insertKeyIfEmpty(t,function(){var o=new Lt([new wt(n,"."+t,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new wt(n,"."+t+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":r.hex,opacity:"0.5"}),new wt(n,"."+t+"-header",{display:"block",width:"100%","min-height":"1.8em",background:s.rgba}),new wt(n,"."+t+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new wt(n,"."+t+"-content",{background:r.hex,"background-color":r.rgba,color:i.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new wt(n,"."+t+"-inside",{padding:"1em"}),new wt(n,"."+t+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new Ec(function(){vx.removeKey(t),o.dispose()})});return a.increment()}var uT=function(n){N(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._domEvents={},e}return t.prototype._addDOMEvent=function(e,i,r,s){var a=this;if(!this._domEvents[e]){var o=function(u){r.call(s,i,u)};this.target.element.addEventListener(e,o,!1),this._domEvents[e]=new Ec(function(){delete a._domEvents[e],a.target.element.removeEventListener(e,o,!1)})}return this._domEvents[e].increment()},t.prototype._dispatchKeyboardEvent=function(e,i){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:i})},t.prototype._on=function(e,i,r,s,a,o){var u=n.prototype._on.call(this,e,i,r,s,a,o),c=[u.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":c.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keyup":c.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keypress":c.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"input":c.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break}return u.disposer=new Lt(c),u},t}(B0),hT=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i._eventDispatcher=new uT(i),i.eventDisposers=new St,i.replacedStyles=new St,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new St,i.inertias=new St,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=e,i.className="InteractionObject",i._disposers.push(new da(i.inertias)),i._disposers.push(new da(i.eventDisposers)),i.applyTheme(),i}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?Ne().overObjects.moveValue(this):(this.isRealHover=!1,Ne().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new ct),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?Ne().downObjects.moveValue(this):Ne().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new ct),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,e?Ne().focusedObject=this:Ne().focusedObject=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?Ne().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&Ne().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,Ne().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,Ne().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,Ne().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,Ne().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,Ne().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,Ne().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,Ne().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,Ne().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&this.tabindex==-1&&(this._tabindex=1),Ne().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return sp(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),Ne().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalScale",{get:function(){return sp(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalAngle",{get:function(){return sp(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.inertiaOptions=e.inertiaOptions,this.hitOptions=e.hitOptions,this.hoverOptions=e.hoverOptions,this.swipeOptions=e.swipeOptions,this.keyboardOptions=e.keyboardOptions,this.cursorOptions=e.cursorOptions,this.contextMenuDisabled=e.contextMenuDisabled,Ne().applyCursorOverStyle(this)},t.prototype.setEventDisposer=function(e,i,r){var s=this.eventDisposers.getKey(e);i?s==null&&this.eventDisposers.setKey(e,r()):s!=null&&(s.dispose(),this.eventDisposers.removeKey(e))},t.prototype.dispose=function(){n.prototype.dispose.call(this);var e=Ne();e.overObjects.removeValue(this),e.downObjects.removeValue(this),e.trackedObjects.removeValue(this),e.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&e.unlockWheel(),e.focusedObject===this&&(e.focusedObject=void 0)},t}(wn),cT=function(){function n(t,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=t,this.keyboardEvent=e,this._startedOn=new Date().getTime(),Ne().processDragStart(t),it.animations.push(this),this.update()}return n.prototype.update=function(){var t=this.interaction,e=Ne().getKeyboardOption(t,"speed"),i=Ne().getKeyboardOption(t,"accelleration"),r=Ne().getKeyboardOption(t,"accellerationDelay"),s={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,i=1):this.keyboardEvent.ctrlKey&&(e*=2);var a=new Date().getTime()-this._startedOn,o=a-r;if(i>0&&o>0){var u=a/r;a=r,s.x+=this.directionX*(e*i*u*o),s.y+=this.directionY*(e*i*u*o)}s.x+=this.directionX*(e*a),s.y+=this.directionY*(e*a),Ne().handleTransformMove(t,s,{x:0,y:0},this.keyboardEvent,!0,!1)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||(Ne().processDragStop(this.interaction),Le(it.animations,this))},n}(),dT=function(n){N(t,n);function t(e,i,r,s){var a=n.call(this)||this;return a.animations=[],a.className="Inertia",a.interaction=e,a.type=i,a.point=r,a.startPoint=s,a._disposers.push(new go(a.animations)),a}return Object.defineProperty(t.prototype,"x",{get:function(){return this.point.x},set:function(e){D(e)&&(this.point.x=e,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.point.y},set:function(e){D(e)&&(this.point.y=e,this.handleMove())},enumerable:!0,configurable:!0}),t.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var e={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",e)}},t.prototype.done=function(){this.interaction.inertias.removeKey(this.type),this.type==="move"&&Ne().processDragStop(this.interaction),this.dispose()},t}(Ri),fT=function(){function n(){}return n.prototype.getEventKey=function(t){var e=t.keyCode||t.which,i;switch(e){case 38:i="up";break;case 40:i="down";break;case 37:i="left";break;case 39:i="right";break;case 13:i="enter";break;case 27:i="esc";break;case 36:i="home";break;case 35:i="end";break;case 9:i="tab";break;case 17:i="ctrl";break;case 18:i="alt";break;case 16:i="shift";break;case 32:i="space";break;case 36:i="home";break;case 35:i="end";break;case 33:i="pgup";break;case 34:i="pgdn";break;case 45:i="ins";break;case 46:i="del";break;case 107:i="plus";break;case 109:i="minus";break;default:i="other";break}return i},n.prototype.isKey=function(t,e){var i=this.getEventKey(t);return at(e)&&(e=[e]),e.indexOf(i)!==-1},n.prototype.shiftKey=function(t){return t.shiftKey},n.prototype.ctrlKey=function(t){return t.ctrlKey},n.prototype.altKey=function(t){return t.altKey},n.prototype.metaKey=function(t){return t.metaKey},n}(),mn=new fT,pT={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function l1(n){switch(n){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Ht(n,t){return M(t)||(t=1),pT[n]*t}function mT(){return new Date}function dn(){return mT().getTime()}function qa(n){return new Date(n.getTime())}function Gp(n,t,e,i){n=new Date(n.getTime()),t=new Date(t.getTime());var r=0,s=0;!i&&e!="millisecond"&&(r=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-r),s=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-s));var a=!1;switch(e){case"year":n.getUTCFullYear()!=t.getUTCFullYear()&&(a=!0);break;case"month":(n.getUTCFullYear()!=t.getUTCFullYear()||n.getUTCMonth()!=t.getUTCMonth())&&(a=!0);break;case"day":(n.getUTCMonth()!=t.getUTCMonth()||n.getUTCDate()!=t.getUTCDate())&&(a=!0);break;case"hour":n.getUTCHours()!=t.getUTCHours()&&(a=!0);break;case"minute":n.getUTCMinutes()!=t.getUTCMinutes()&&(a=!0);break;case"second":n.getUTCSeconds()!=t.getUTCSeconds()&&(a=!0);break;case"millisecond":n.getTime()!=t.getTime()&&(a=!0);break}if(a)return!0;var o=l1(e);return o?(n.setUTCMinutes(n.getUTCMinutes()+r),t.setUTCMinutes(t.getUTCMinutes()+s),Gp(n,t,o,i)):!1}function Ai(n,t,e,i){var r=0;switch(!i&&t!="millisecond"&&(r=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-r)),t){case"day":var s=n.getUTCDate();n.setUTCDate(s+e);break;case"second":var a=n.getUTCSeconds();n.setUTCSeconds(a+e);break;case"millisecond":var o=n.getUTCMilliseconds();n.setUTCMilliseconds(o+e);break;case"hour":var u=n.getUTCHours();n.setUTCHours(u+e);break;case"minute":var c=n.getUTCMinutes();n.setUTCMinutes(c+e);break;case"year":var f=n.getUTCFullYear();n.setUTCFullYear(f+e);break;case"month":var p=n.getUTCMonth();n.setUTCMonth(p+e);break;case"week":var g=n.getUTCDate();n.setUTCDate(g+e*7);break}if(!i&&t!="millisecond"&&(n.setUTCMinutes(n.getUTCMinutes()+r),t=="day"||t=="week"||t=="month"||t=="year")){var y=n.getTimezoneOffset();if(y!=r){var b=y-r;n.setUTCMinutes(n.getUTCMinutes()+b),n.getTimezoneOffset()!=y&&n.setUTCMinutes(n.getUTCMinutes()-b)}}return n}function ci(n,t,e,i,r,s,a,o){a===void 0&&(a=0),D(e)||(e=1);var u=0;switch(o&&["day","month","week","year"].indexOf(t)!=-1&&(n=Vc(n,o)),!r&&t!="millisecond"&&(u=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-u)),t){case"day":var c=n.getUTCDate();if(e>1){if(s){s=ci(s,"day",1);var f=n.getTime()-s.getTime(),p=Math.floor(f/Ht("day")/e),g=Ht("day",p*e);n.setTime(s.getTime()+g-u*Ht("minute"))}}else n.setUTCDate(c);n.setUTCHours(0,0,0,0);break;case"second":var y=n.getUTCSeconds();e>1&&(y=Math.floor(y/e)*e),n.setUTCSeconds(y,0);break;case"millisecond":if(e==1)return n;var b=n.getUTCMilliseconds();b=Math.floor(b/e)*e,n.setUTCMilliseconds(b);break;case"hour":var x=n.getUTCHours();e>1&&(x=Math.floor(x/e)*e),n.setUTCHours(x,a,0,0);break;case"minute":var w=n.getUTCMinutes();b=n.getUTCMilliseconds(),e>1&&(w=Math.floor(w/e)*e),n.setUTCMinutes(w,0,0);break;case"month":var P=n.getUTCMonth();e>1&&(P=Math.floor(P/e)*e),n.setUTCMonth(P,1),n.setUTCHours(0,a,0,0);break;case"year":var S=n.getUTCFullYear();e>1&&(S=Math.floor(S/e)*e),n.setUTCFullYear(S,0,1),n.setUTCHours(0,a,0,0);break;case"week":var k=n.getUTCDate(),T=n.getUTCDay();D(i)||(i=1),T>=i?k=k-T+i:k=k-(7+T)+i,n.setUTCDate(k),n.setUTCHours(0,a,0,0);break}if(!r&&t!="millisecond"&&(n.setUTCMinutes(n.getUTCMinutes()+u),t=="day"||t=="week"||t=="month"||t=="year")){var j=n.getTimezoneOffset();if(j!=u){var V=j-u;n.setUTCMinutes(n.getUTCMinutes()+V)}}return n}function Vc(n,t){var e=new Date(n.toLocaleString("en-US",{timeZone:t}));return e}function gT(n){var t=new Date;t.setHours(0,0,0,0);var e=Vc(t,n);return e.getMinutes()}var yT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._globalEventsAdded=!1,e._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},e._usePointerEventsOnly=!1,e._useTouchEventsOnly=!1,e._addHoverEvents=!0,e._passiveSupported=!1,e._delayedEvents={out:[]},e.overObjects=new ct,e.downObjects=new ct,e.trackedObjects=new ct,e.transformedObjects=new ct,e.pointers=new St,e.inertiaOptions=new St,e.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},e.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},e.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},e.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},e.mouseOptions={sensitivity:1},e.className="Interaction",e.body=e.getInteraction(document.body),e._disposers.push(e.body),window.hasOwnProperty("PointerEvent")?(e._pointerEvents.pointerdown="pointerdown",e._pointerEvents.pointerup="pointerup",e._pointerEvents.pointermove="pointermove",e._pointerEvents.pointercancel="pointercancel",e._pointerEvents.pointerover="pointerover",e._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(e._pointerEvents.pointerdown="MSPointerDown",e._pointerEvents.pointerup="MSPointerUp",e._pointerEvents.pointermove="MSPointerMove",e._pointerEvents.pointercancel="MSPointerUp",e._pointerEvents.pointerover="MSPointerOver",e._pointerEvents.pointerout="MSPointerOut"):typeof matchMedia<"u"&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(e._addHoverEvents=!1,e._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||e.fullFF()?e._usePointerEventsOnly=!0:e._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?e._pointerEvents.wheel="wheel":M(document.onmousewheel)&&(e._pointerEvents.wheel="mousewheel"),e.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:Yp}),e.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:Yp}),e._passiveSupported=t.passiveSupported,e.applyTheme(),e}return t.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},t.prototype.debug=function(){},t.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(ei(document,this._pointerEvents.pointerdown,function(i){e.handleGlobalPointerDown(i)})),this._disposers.push(ei(document,this._pointerEvents.pointermove,function(i){e.handleGlobalPointerMove(i)})),this._disposers.push(ei(document,this._pointerEvents.pointerup,function(i){e.handleGlobalPointerUp(i)})),this._disposers.push(ei(document,this._pointerEvents.pointercancel,function(i){e.handleGlobalPointerUp(i,!0)})),this._disposers.push(ei(document,"mouseenter",function(i){!M(i.relatedTarget)&&(i.buttons==0||i.which==0)&&e.handleDocumentLeave(i)}))),this._usePointerEventsOnly||(this._disposers.push(ei(document,"touchstart",function(i){e.handleGlobalTouchStart(i)})),this._disposers.push(ei(document,"touchmove",function(i){e.handleGlobalTouchMove(i)})),this._disposers.push(ei(document,"touchend",function(i){e.handleGlobalTouchEnd(i)}))),this._disposers.push(ei(document,"keydown",function(i){e.handleGlobalKeyDown(i)})),this._disposers.push(ei(document,"keyup",function(i){e.handleGlobalKeyUp(i)})),this._globalEventsAdded=!0)},t.prototype.processClickable=function(e){this.processTouchable(e)},t.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",ei(e.element,"contextmenu",function(i){i.preventDefault()})):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose()},t.prototype.processHoverable=function(e){var i=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new Lt([ei(e.element,this._pointerEvents.pointerout,function(s){return i.handlePointerOut(e,s)}),ei(e.element,this._pointerEvents.pointerover,function(s){return i.handlePointerOver(e,s)})])),e.trackable;else{var r=e.eventDisposers.getKey("hoverable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("hoverable"))}this.processTouchable(e)},t.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(!this.isGlobalElement(e)&&!e.isTouchProtected&&this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e)},t.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e)},t.prototype.processDraggable=function(e){this.processMovable(e)},t.prototype.processSwipeable=function(e){this.processMovable(e)},t.prototype.processResizable=function(e){this.processMovable(e)},t.prototype.processWheelable=function(e){var i=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new Lt([ei(e.element,this._pointerEvents.wheel,function(s){return i.handleMouseWheel(e,s)},this._passiveSupported?{passive:!1}:!1),e.events.on("out",function(s){e.wheelable&&i.unlockWheel()}),e.events.on("over",function(s){e.wheelable&&i.lockWheel()})]));else{var r=e.eventDisposers.getKey("wheelable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("wheelable"))}},t.prototype.processFocusable=function(e){var i=this;if(e.focusable===!0&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new Lt([ei(e.element,"focus",function(s){return i.handleFocus(e,s)}),ei(e.element,"blur",function(s){return i.handleBlur(e,s)}),ei(e.element,this._pointerEvents.pointerdown,function(s){return i.handleFocusBlur(e,s)}),ei(e.element,"touchstart",function(s){return i.handleFocusBlur(e,s)},this._passiveSupported?{passive:!1}:!1)]));else{var r=e.eventDisposers.getKey("focusable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("focusable"))}},t.prototype.processTouchable=function(e){var i=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(!this._useTouchEventsOnly&&!this._usePointerEventsOnly?e.eventDisposers.setKey("touchable",new Lt([ei(e.element,this._pointerEvents.pointerdown,function(s){return i.handlePointerDown(e,s)}),ei(e.element,"touchstart",function(s){return i.handleTouchDown(e,s)},this._passiveSupported?{passive:!1}:!1)])):this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",ei(e.element,"touchstart",function(s){return i.handleTouchDown(e,s)},this._passiveSupported?{passive:!1}:!1)):e.eventDisposers.setKey("touchable",ei(e.element,this._pointerEvents.pointerdown,function(s){return i.handlePointerDown(e,s)})));else{var r=e.eventDisposers.getKey("touchable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("touchable"))}},t.prototype.handleFocus=function(e,i){if(!e.focusable){i.preventDefault();return}if(e.isFocused=!0,e.events.isEnabled("focus")&&!it.isPaused){var r={type:"focus",target:e,event:i};e.events.dispatchImmediately("focus",r)}},t.prototype.handleFocusBlur=function(e,i){e.focusable!==!1&&this.getHitOption(e,"noFocus")&&e.events.once("focus",function(){e.events.disableType("blur"),Ah(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur")})},t.prototype.handleBlur=function(e,i){if(!e.focusable){i.preventDefault();return}if(e.isFocused=!1,e.events.isEnabled("blur")&&!it.isPaused){var r={type:"blur",target:e,event:i};e.events.dispatchImmediately("blur",r)}},t.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject){if(mn.isKey(e,"esc"))Ah();else if(this.focusedObject.draggable&&mn.isKey(e,["up","down","left","right"])){e.preventDefault();var i=this.focusedObject,r="interactionKeyboardObject";if(i.eventDisposers.hasKey(r))return;var s=new cT(i,e);switch(i.eventDisposers.setKey(r,s),mn.getEventKey(e)){case"up":s.directionY=-1;break;case"down":s.directionY=1;break;case"left":s.directionX=-1;break;case"right":s.directionX=1;break}}}},t.prototype.handleGlobalKeyUp=function(e){var i="interactionKeyboardObject";if(this.focusedObject){var r=this.focusedObject.eventDisposers.getKey(i);r!=null&&(e.preventDefault(),r.dispose(),this.focusedObject.eventDisposers.removeKey(i));var s=this.focusedObject.sprite;mn.isKey(e,"enter")&&s&&(s.events.isEnabled("hit")||s.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):s.showTooltipOn=="hit"&&this.focusedObject.dispatchImmediately("up"))}},t.prototype.handleGlobalPointerMove=function(e){var i=this.getPointer(e);if(i.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!it.isPaused){var r={type:"track",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("track",r)}this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,e)},t.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var i=this.getPointer(e);if(this.events.isEnabled("down")&&!it.isPaused){var r={type:"down",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("down",r)}},t.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault()},t.prototype.handleGlobalPointerUp=function(e,i){i===void 0&&(i=!1);var r=this.getPointer(e);if(this.events.isEnabled("up")&&!it.isPaused){var s={type:"up",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("up",s)}this.handleGlobalUp(r,e,i)},t.prototype.handleGlobalTouchMove=function(e){for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(r.point=this.getPointerPoint(e.changedTouches[i]),this.events.isEnabled("track")&&!it.isPaused){var s={type:"track",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("track",s)}this.addBreadCrumb(r,r.point),this.handleGlobalMove(r,e)}},t.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!it.isPaused){var s={type:"down",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("down",s)}}},t.prototype.handleGlobalTouchEnd=function(e){for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(this.events.isEnabled("up")&&!it.isPaused){var s={type:"up",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("up",s)}this.handleGlobalUp(r,e)}},t.prototype.handlePointerDown=function(e,i){var r=this.getPointer(i);!r.touch&&i.which!=1&&i.which!=3||(r.button=i.which,this.resetPointer(r,i),this.handleDown(e,r,i))},t.prototype.handlePointerOver=function(e,i){var r=this.getPointer(i);this.handleOver(e,r,i)},t.prototype.handlePointerOut=function(e,i){var r=this.getPointer(i);this.handleOut(e,r,i)},t.prototype.handleMouseWheel=function(e,i){var r=this.getPointer(i);r.point=this.getPointerPoint(i);var s=0,a=0,o=1;if(i.deltaMode==1&&(o=50),o*=this.getMouseOption(e,"sensitivity"),i instanceof WheelEvent)s=Math.round(-1*i.wheelDeltaX||i.deltaX*o),a=Math.round(-1*i.wheelDeltaY||i.deltaY*o);else throw new Error("Invalid event type");this.handleWheel(e,r,s,a,i)},t.prototype.handleTouchDown=function(e,i){for(var r=0;r<i.changedTouches.length;r++){var s=this.getPointer(i.changedTouches[r]);this.maybePreventDefault(e,i,s),this.resetPointer(s,i.changedTouches[r]),this.handleDown(e,s,i)}},t.prototype.handleHit=function(e,i,r){var s=dn();if(e.lastHit&&e.lastHit>=s-this.getHitOption(e,"doubleHitTime")){if(s-e.lastHit<100)return;if(e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!it.isPaused){var a={type:"doublehit",target:e,point:i.point,event:r,touch:i.touch};e.events.dispatchImmediately("doublehit",a)}}else if(e.lastHit=s,e.lastHitPointer=i,i.button===3){if(e.events.isEnabled("rightclick")&&!it.isPaused){var a={type:"rightclick",target:e,event:r};e.events.dispatchImmediately("rightclick",a)}}else if(e.events.isEnabled("hit")&&!it.isPaused){var a={type:"hit",target:e,event:r,point:i.point,touch:i.touch};e.events.dispatchImmediately("hit",a)}},t.prototype.handleOver=function(e,i,r,s){if(e.hoverable){var a=!1;if(this.shouldCancelHovers(i)&&this.areTransformed()&&this.moved(i,this.getHitOption(e,"hitTolerance"))&&(a=!0,this.cancelAllHovers(r)),this.processDelayed(),e.overPointers.moveValue(i),!e.isRealHover&&(a||(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e)),this.handleTrack(this.body,i,r,!0),e.events.isEnabled("over")&&!it.isPaused&&!a)){var o={type:"over",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("over",o)}}},t.prototype.handleOut=function(e,i,r,s,a){var o=this;if(s===void 0&&(s=!1),a===void 0&&(a=!1),!!e.hoverable&&(e.overPointers.removeValue(i),e.isHover&&(!e.hasDelayedOut||a))){if(s&&e.overPointers.length)return;if(i&&i.touch&&!a&&!this.old(i)){var u=this.getHoverOption(e,"touchOutBehavior");if(u=="leave"){this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:r,keepUntil:dn()+500}),e.hasDelayedOut=!0;return}else if(u=="delay"&&this.getHoverOption(e,"touchOutDelay")){this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:r,keepUntil:dn()+500,timeout:this.setTimeout(function(){o.handleOut(e,i,r,!0)},this.getHoverOption(e,"touchOutDelay"))});return}}if(e.isHover=!1,this.overObjects.removeValue(e),!e.isDisposed()&&e.events.isEnabled("out")&&!it.isPaused){var c={type:"out",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("out",c)}e.overPointers.clear(),e.hasDelayedOut=!1}},t.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop(),!!e;)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0)},t.prototype.handleDown=function(e,i,r){if(this.maybePreventDefault(e,r,i),e.inert&&this.stopInertia(e),this.handleOver(e,i,r,!0),e.downPointers.moveValue(i),this.applyCursorDownStyle(e,i),e.isDown||(e.focusable!==!1&&this.getHitOption(e,"noFocus")&&this.focusedObject&&Ah(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,i,r),e.resizable&&this.processResizeStart(e,i,r)),e.events.isEnabled("down")&&!it.isPaused){var s={type:"down",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("down",s)}},t.prototype.handleGlobalUp=function(e,i,r){var s=this;r===void 0&&(r=!1);var a=this.downObjects.values.slice();a.sort(function(o,u){if(o&&u){var c=o.element.compareDocumentPosition(u.element);return c&Node.DOCUMENT_POSITION_CONTAINED_BY?1:c&Node.DOCUMENT_POSITION_CONTAINS?-1:0}else return 0}),ce(a,function(o){o&&o.downPointers.contains(e)&&s.handleUp(o,e,i,r)})},t.prototype.handleDocumentLeave=function(e){var i=this;Q(this.downObjects.backwards().iterator(),function(r){r.downPointers.each(function(s){i.handleUp(r,s,e)})})},t.prototype.handleUp=function(e,i,r,s){if(s===void 0&&(s=!1),this.restoreCursorDownStyle(e,i),e.downPointers.removeValue(i),(i&&i.touch||this._useTouchEventsOnly)&&this.handleOut(e,i,r,!0),e.isDown){if(e.downPointers.length==0&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!it.isPaused&&i){var a={type:"up",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("up",a)}s||(e.swipeable&&this.swiped(e,i)?this.handleSwipe(e,i,r):(e.clickable&&!this.moved(i,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,i,r),e.inert&&this.moved(i,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,i):e.draggable&&this.processDragStop(e,i,r),e.resizable&&this.processResizeStop(e,i,r)))}},t.prototype.maybePreventDefault=function(e,i,r){M(i)&&(e.draggable||e.swipeable||e.trackable||e.resizable)&&!this.isGlobalElement(e)&&i.cancelable!==!1&&(!e.isTouchProtected||!r||!r.touch)&&i.preventDefault()},t.prototype.cancelAllHovers=function(e){var i=this;Q(this.overObjects.backwards().iterator(),function(r){if(r){var s=r.overPointers.getIndex(0);i.handleOut(r,s,e,!0,!0)}})},t.prototype.shouldCancelHovers=function(e){return Fr.disableHoverOnTransform=="touch"},t.prototype.handleGlobalMove=function(e,i){var r=this;if(!e.touch){var s=tT(e.lastEvent);Q(this.overObjects.backwards().iterator(),function(a){if(a&&a.overPointers.contains(e)&&a.hoverable){var o=!1;a.element&&e.lastEvent&&yx(a.element,s)||(o=!0),o&&r.handleOut(a,e,i,!0)}})}Q(this.transformedObjects.backwards().iterator(),function(a){a.downPointers.contains(e)&&!(a.swipeable&&r.swiping(a,e))&&(a.draggable||a.resizable)&&r.handleTransform(a,i)}),Q(this.trackedObjects.backwards().iterator(),function(a){a.overPointers.contains(e)||r.handleTrack(a,e,i)})},t.prototype.handleTrack=function(e,i,r,s){if(s===void 0&&(s=!1),!(!s&&!this.moved(i,0))&&e.events.isEnabled("track")&&!it.isPaused){var a={type:"track",target:e,event:r,point:i.point,pointer:i,touch:i.touch};e.events.dispatchImmediately("track",a)}},t.prototype.handleSwipe=function(e,i,r){if(e.events.isEnabled("swipe")&&!it.isPaused){var s={type:"swipe",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swipe",s)}if(i.startPoint.x<i.point.x){if(e.events.isEnabled("swiperight")&&!it.isPaused){var s={type:"swiperight",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swiperight",s)}}else if(e.events.isEnabled("swipeleft")&&!it.isPaused){var s={type:"swipeleft",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swipeleft",s)}},t.prototype.handleWheel=function(e,i,r,s,a){var o={x:r,y:s};e.events.isEnabled("wheel")&&!it.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:a,point:i.point,shift:o}),r<0?e.events.isEnabled("wheelleft")&&!it.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:a,point:i.point,shift:o}):r>0?e.events.isEnabled("swiperight")&&!it.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:a,point:i.point,shift:o}):s<0?e.events.isEnabled("wheelup")&&!it.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:a,point:i.point,shift:o}):s>0&&e.events.isEnabled("wheeldown")&&!it.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:a,point:i.point,shift:o})},t.prototype.handleInertia=function(e,i){e.draggable&&e.downPointers.length===0&&this.handleMoveInertia(e,i),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,i)},t.prototype.handleMoveInertia=function(e,i){var r=e,s="move",a={x:i.point.x,y:i.point.y},o={x:i.startPoint.x,y:i.startPoint.y},u=new dT(r,s,a,o),c=this.getTrailPoint(i,dn()-this.getInertiaOption(e,"move","time"));if(typeof c>"u"){this.processDragStop(e,i,i.lastUpEvent);return}var f=this.getInertiaOption(e,"move","factor"),p=[{to:i.point.x+(i.point.x-c.point.x)*f,property:"x"},{to:i.point.y+(i.point.y-c.point.y)*f,property:"y"}],g=new $r(u,p,this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(g.events.on("animationended",function(y){u.done()})),e.inertias.setKey("move",u)},t.prototype.handleResizeInertia=function(e,i){},t.prototype.handleTransform=function(e,i){var r=e.downPointers.getIndex(0),s=null,a=null;r&&(s=r.point,a=r.startPoint);var o,u,c;u={x:e.originalPosition.x,y:e.originalPosition.y},c=u;for(var f=!0,p=1;p<e.downPointers.length;p++){var g=e.downPointers.getIndex(p);if(a.x!=g.startPoint.x&&a.y!=g.startPoint.y){f=!1,o=g,u=o.point,c=o.startPoint;break}}var y=r&&this.moved(r,0);if(e.draggable&&r&&r.dragStartEvents&&r.dragStartEvents.length&&y&&e.events.isEnabled("dragstart")&&!it.isPaused&&e.events.dispatchImmediately("dragstart",r.dragStartEvents.shift()),f&&e.draggable)this.handleTransformMove(e,s,a,i,y,r.touch),this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))&&this.cancelAllHovers(i);else{var b=o&&this.moved(o,0);(this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))||this.shouldCancelHovers(o)&&this.moved(o,this.getHitOption(e,"hitTolerance")))&&this.cancelAllHovers(i),e.draggable&&e.resizable?(this.handleTransformMove(e,s,a,i,y&&b,r.touch),this.handleTransformResize(e,s,a,u,c,i,y&&b,r.touch)):(e.draggable&&this.handleTransformMove(e,s,a,i,y,r.touch),e.resizable&&(!f||i.ctrlKey)&&this.handleTransformResize(e,s,a,u,c,i,y&&b,r.touch))}},t.prototype.handleTransformMove=function(e,i,r,s,a,o){if(a&&e.events.isEnabled("drag")&&!it.isPaused&&(!e.isTouchProtected||!o)){var u={type:"drag",target:e,event:s,shift:{x:i.x-r.x,y:i.y-r.y},startPoint:r,point:i,touch:o};e.events.dispatchImmediately("drag",u)}},t.prototype.handleTransformResize=function(e,i,r,s,a,o,u,c){if(e.events.isEnabled("resize")&&!it.isPaused&&(!e.isTouchProtected||!c)){var f={type:"resize",target:e,event:o,scale:kk(i,r,s,a),startPoint1:r,point1:i,startPoint2:a,point2:s,touch:c};e.events.dispatchImmediately("resize",f)}},t.prototype.processDragStart=function(e,i,r){this.transformedObjects.moveValue(e),this.shouldCancelHovers(i)&&this.cancelAllHovers(r);var s={type:"dragstart",target:e,event:r,touch:i?i.touch:!1};i&&(i.dragTarget=e),i&&i.dragStartEvents?i.dragStartEvents.push(s):it.isPaused||e.dispatchImmediately("dragstart",s)},t.prototype.processDragStop=function(e,i,r){if(i||(i=this.getDragPointer(e)),i&&(i.dragTarget=void 0),this.transformedObjects.removeValue(e),(!i||this.moved(i,0))&&e.events.isEnabled("dragstop")&&!it.isPaused){var s={type:"dragstop",target:e,touch:i?i.touch:!1};e.events.dispatchImmediately("dragstop",s)}},t.prototype.processResizeStart=function(e,i,r){this.transformedObjects.moveValue(e)},t.prototype.processResizeStop=function(e,i,r){this.transformedObjects.removeValue(e)},t.prototype.dragStart=function(e,i){i||(i=this.getDragPointer(e)),i&&this.handleDown(e,i,i.lastDownEvent)},t.prototype.dragStop=function(e,i,r){i||(i=this.getDragPointer(e)),i&&!r&&this.handleGlobalUp(i,i.lastUpEvent,r)},t.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},t.prototype.getPointerId=function(e){var i="";return M(e.identifier)?i=""+e.identifier:M(e.pointerId)?i=""+e.pointerId:i="m",i.replace("-","")},t.prototype.getPointerPoint=function(e){return{x:e.clientX,y:e.clientY}},t.prototype.getPointer=function(e){var i=this.getPointerId(e),r=this.getPointerPoint(e),s;return this.pointers.hasKey(i)?(s=this.pointers.getKey(i),s.touch=this.isPointerTouch(e)):(s={id:i,touch:this.isPointerTouch(e),startPoint:r,startTime:dn(),point:r,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(s,r),this.pointers.setKey(i,s)),s.lastEvent=e,this.lastPointer=s,s},t.prototype.isPointerTouch=function(e){if(typeof Touch<"u"&&e instanceof Touch)return!0;if(typeof PointerEvent<"u"&&e instanceof PointerEvent&&M(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(M(e.type)&&e.type.match(/^mouse/))return!1;return!0},t.prototype.resetPointer=function(e,i){var r=this.getPointerPoint(i);e.startTime=dn(),e.startPoint={x:r.x,y:r.y},e.point={x:r.x,y:r.y},e.track=[],e.swipeCanceled=!1},t.prototype.addBreadCrumb=function(e,i){e.track.push({timestamp:dn(),point:i})},t.prototype.lockDocument=function(){this.prepElement(this.body)},t.prototype.unlockDocument=function(){this.transformedObjects.length==0&&this.restoreAllStyles(this.body)},t.prototype.lockElement=function(e){this.prepElement(e)},t.prototype.unlockElement=function(e){this.restoreAllStyles(e)},t.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,this._passiveSupported?{passive:!1}:!1)},t.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},t.prototype.isLocalElement=function(e,i,r){var s=this.getCache("local_pointer_"+e.id);if(M(s))return s;var a=o1(i)||document;if(a.elementFromPoint){var o=a.elementFromPoint(e.point.x,e.point.y),u=o&&yx(i,o);return this.setCache("local_pointer_"+e.id+"_"+r,u,100),u}return!1},t.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},t.prototype.prepElement=function(e){var i=e.element;if(i){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],s=0;s<r.length;s++)r[s]in i.style&&this.setTemporaryStyle(e,r[s],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)")}},t.prototype.unprepElement=function(e){var i=e.element;if(i){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],s=0;s<r.length;s++)r[s]in i.style&&this.restoreStyle(e,r[s]);this.restoreStyle(e,"tapHighlightColor")}},t.prototype.getHitOption=function(e,i){var r=e.hitOptions[i];return typeof r>"u"&&(r=this.hitOptions[i]),r},t.prototype.getHoverOption=function(e,i){var r=e.hoverOptions[i];return typeof r>"u"&&(r=this.hoverOptions[i]),r},t.prototype.getSwipeOption=function(e,i){var r=e.swipeOptions[i];return typeof r>"u"&&(r=this.swipeOptions[i]),r},t.prototype.getKeyboardOption=function(e,i){var r=e.keyboardOptions[i];return typeof r>"u"&&(r=this.keyboardOptions[i]),r},t.prototype.getMouseOption=function(e,i){var r=e.mouseOptions[i];return typeof r>"u"&&(r=this.mouseOptions[i]),r},t.prototype.getInertiaOption=function(e,i,r){var s=e.inertiaOptions.getKey(i),a;return s&&M(s[r])?a=s[r]:a=this.inertiaOptions.getKey(i)[r],a},t.prototype.stopInertia=function(e){for(var i,r=["move","resize"],s=0;s<r.length;s++)if(i=r[s],e.inertias.hasKey(i)){var a=e.inertias.getKey(i);if(a){a.dispose();continue}}},t.prototype.swiping=function(e,i){var r=dn();return i.swipeCanceled||!e.swipeable?!1:Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>r-this.getSwipeOption(e,"time")},t.prototype.swiped=function(e,i){var r=dn();return i.swipeCanceled?!1:Math.abs(i.startPoint.x-i.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>r-this.getSwipeOption(e,"time")},t.prototype.applyCursorOverStyle=function(e){var i=e.cursorOptions;if(M(i.overStyle))for(var r=0;r<i.overStyle.length;r++)gx(e.element,i.overStyle[r].property,i.overStyle[r].value)},t.prototype.applyCursorDownStyle=function(e,i){if(!(i&&i.touch)){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&M(r))for(var s=0;s<r.length;s++)this.setTemporaryStyle(this.body,r[s].property,r[s].value),this.setTemporaryStyle(e,r[s].property,r[s].value)}},t.prototype.restoreCursorDownStyle=function(e,i){if(!(i&&i.touch)){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&M(r))for(var s=0;s<r.length;s++)this.restoreStyle(this.body,r[s].property),this.restoreStyle(e,r[s].property)}},t.prototype.setGlobalStyle=function(e){for(var i=Ne().body,r=fi(e)?e:[e],s=0;s<r.length;s++)this.setTemporaryStyle(i,r[s].property,r[s].value)},t.prototype.restoreGlobalStyle=function(e){for(var i=Ne().body,r=fi(e)?e:[e],s=0;s<r.length;s++)this.restoreStyle(i,r[s].property)},t.prototype.isGlobalElement=function(e){return document.body===e.element},t.prototype.moved=function(e,i,r){var s=this.getShift(e);return Math.abs(s.x)>i||Math.abs(s.y)>i},t.prototype.old=function(e,i){return i===void 0&&(i=300),dn()-e.startTime>i},t.prototype.getShift=function(e){return{x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},t.prototype.getTrailPoint=function(e,i){for(var r,s=0;s<e.track.length;s++)if(e.track[s].timestamp>=i){r=e.track[s];break}return r},t.prototype.pointerExists=function(e,i){var r=!1;return e.each(function(s){s!=i&&(r=s.point.x==i.point.x&&s.point.y==i.point.y)}),r},t.prototype.getInteraction=function(e){return new hT(e)},t.prototype.setTemporaryStyle=function(e,i,r){var s=e.element;M(s.style[i])&&!e.replacedStyles.hasKey(i)&&e.replacedStyles.setKey(i,s.style[i]),gx(s,i,r)},t.prototype.restoreStyle=function(e,i){e.replacedStyles.hasKey(i)?(e.element.style[i]=e.replacedStyles.getKey(i),e.replacedStyles.removeKey(i)):delete e.element.style[i]},t.prototype.restoreAllStyles=function(e){Q(e.replacedStyles.iterator(),function(i){var r=i[0],s=i[1];e.element.style[r]=s,e.replacedStyles.removeKey(r)})},t.prototype.dispose=function(){this.isDisposed()||(n.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},t.prototype.log=function(e,i,r){{if(i.changedTouches){for(var s=0;s<i.changedTouches.length;s++)this.logTouch(e,i.type,i.changedTouches[s]);return}var a="";if(i.pointerType)switch(i.pointerType){case 2:a="touch";break;case 4:a="mouse";break;default:a=i.pointerType;break}else typeof TouchEvent<"u"&&i instanceof TouchEvent?a="touch":i.type.match(/^mouse/)?a="mouse":a="???";var o="";M(i.identifier)?o=i.identifier:M(i.pointerId)?o=i.pointerId:o="???",console.log(r?e+" ("+r.uid+")  "+i.type+"  "+a+"  "+o:e+"  "+i.type+"  "+a+"  "+o)}},t.prototype.areTransformed=function(e){var i=this.transformedObjects.length;if(e)for(var r=fi(e)?e:[e],s=0;s<r.length;s++)this.transformedObjects.contains(r[s])&&i--;return i>0},t.prototype.logTouch=function(e,i,r){console.log(e+"  "+i+"  touch  "+r.identifier)},Object.defineProperty(t,"passiveSupported",{get:function(){var e=this;if(this._passiveSupported==null)try{var i=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0}});window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch{this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),t}(wn),fp=null;function Ne(){return fp==null&&(fp=new yT),fp}var u1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.adapter=new rr(e),e._elements={},e._IOs={},e._content="",e._title="",e._classPrefix="ampopup",e._defaultStyles=!0,e._showCurtain=!1,e._draggable=!0,e._align="center",e._dynamicResize=!0,e._verticalAlign="middle",e._shift={x:0,y:0},e._tempShift={x:0,y:0},e._readerTitle="",e._closable=!0,e._cssLoaded=!1,e._fitTo="window",e.isTemplate=!1,e._sized=!1,e.className="Popup",e}return t.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},t.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},t.prototype.dispose=function(){this.close(),n.prototype.dispose.call(this)},t.prototype.positionElement=function(e){var i=this;e===void 0&&(e=!0),this._elements.wrapper&&setTimeout(function(){if(i._elements.wrapper){if(e||!i._sized){i._elements.wrapper.style.opacity="0.01",i._elements.wrapper.style.left="0",i._elements.wrapper.style.top="0",i._elements.wrapper.style.margin="0 0 0 0",i._elements.wrapper.style.width="",i._elements.wrapper.style.height="";var r=i._elements.wrapper.getBoundingClientRect();i._elements.wrapper.style.width=r.width+"px",i._elements.wrapper.style.height=r.height+"px",i._sized=!0}if(i.dynamicResize)for(var s=i._elements.wrapper.getElementsByTagName("img"),a=0;a<s.length;a++){var o=s[a];if(!o.complete){o.addEventListener("load",function(){i.positionElement(!0)});break}}setTimeout(function(){if(i._elements.wrapper){var u;switch((e||!i._sized)&&i._bbox?u=i._bbox:(u=i._elements.wrapper.getBoundingClientRect(),i._elements.wrapper.style.opacity=""),i.align){case"left":i._elements.wrapper.style.left="0",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;case"center":i._elements.wrapper.style.left="50%",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(Math.round(-u.width/2)+(i._shift.x+i._tempShift.x));break;case"right":i._elements.wrapper.style.left="auto",i._elements.wrapper.style.right="0",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;default:i._elements.wrapper.style.left=i.toStyle(i.left)||"auto",i._elements.wrapper.style.right=i.toStyle(i.right)||"auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break}switch(i.verticalAlign){case"top":i._elements.wrapper.style.top="0",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;case"middle":i._elements.wrapper.style.top="50%",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(Math.round(-u.height/2)+(i._shift.y+i._tempShift.y));break;case"bottom":i._elements.wrapper.style.top="auto",i._elements.wrapper.style.bottom="0",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;default:i._elements.wrapper.style.top=i.toStyle(i.top)||"auto",i._elements.wrapper.style.bottom=i.toStyle(i.bottom)||"auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break}}},1)}},1)},t.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(i){e._tempShift.x=i.shift.x,e._tempShift.y=i.shift.y,e.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(i){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1)})):this._IOs.header&&(Ne().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},t.prototype.toStyle=function(e){return M(e)?D(e)?""+e+"px":e.toString():null},Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement())},enumerable:!0,configurable:!0}),t.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},t.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),i=document.createElement("div");i.className=e.contentClass,i.style.opacity="0.01";var r=document.createElement("a");r.className=e.closeClass;var s=document.createElement("div");s.className=e.headerClass;var a=document.createElement("div");a.innerHTML=this.title,a.className=e.titleClass,this.title||(a.style.display="none");var o=document.createElement("div");o.className=e.insideClass,o.innerHTML=this.content,this._IOs.wrapper=Ne().getInteraction(i),this._IOs.header=Ne().getInteraction(s),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=Ne().getInteraction(r),this._disposers.push(this._IOs.close),r.style.visibility="hidden",i.setAttribute("role","dialog"),s.appendChild(r),s.appendChild(a),i.appendChild(s),i.appendChild(o),this.container.appendChild(i),this._elements.wrapper=i,this._elements.header=s,this._elements.content=o,this._elements.title=a,this._elements.close=r,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",this._readerTitle!=""?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"))},enumerable:!0,configurable:!0}),t.prototype.createCurtainElement=function(){var e=this.getClassNames(),i=document.createElement("div");i.className=e.curtainClass,this.container.appendChild(i),this._IOs.curtain=Ne().getInteraction(i),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),i.style.display=this.showCurtain?"block":"none",this._elements.curtain=i},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(lT(Vm(this.container),this.classPrefix)),Ve(this._elements,function(e,i){i.style.display=""}),this._cssLoaded=!0)},t.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var i=[Ne().body.events.on("keyup",function(r){mn.isKey(r.event,"esc")&&e.closable&&e.close()}),this._IOs.close.events.on("hit",function(r){e.close()})];i.push(this._IOs.curtain.events.on("hit",function(r){e.showCurtain&&e.closable&&e.close()})),this._disposers.push(new Lt(i))}else this._IOs.close.element.style.visibility="hidden"},t.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},t.prototype.releasePointers=function(){M(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},t.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.container=e.container,this.sprite=e.sprite,this.classPrefix=e.classPrefixRaw,this.content=e.content,this.title=e.title,this.readerTitle=e.readerTitle,this.defaultStyles=e.defaultStyles,this.showCurtain=e.showCurtain,this.align=e.align,this.verticalAlign=e.verticalAlign,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.adapter.copyFrom(e.adapter)},t}(wn),h1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.adapter=new rr(e),e.className="Modal",e.showCurtain=!0,e.draggable=!1,e}return t}(u1);function vT(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console&&console.log.apply(console,so(n))}function Am(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console&&console.warn.apply(console,so(n))}var bT=function(){function n(){var t=this;this._targets=[],this._observer=new ResizeObserver(function(e){ce(e,function(i){ce(t._targets,function(r){r.target===i.target&&r.callback()})})})}return n.prototype.addTarget=function(t,e){this._observer.observe(t,{box:"content-box"}),this._targets.push({target:t,callback:e})},n.prototype.removeTarget=function(t){this._observer.unobserve(t),L0(this._targets,function(e){return e.target!==t})},n}(),xT=function(){function n(){this._targets=[]}return n.prototype.addTarget=function(t,e){var i=this;if(this._targets.length===0){var r=null,s=function(){var o=Date.now();(r===null||o>r+n.delay)&&(r=o,ce(i._targets,function(u){var c=u.target.getBoundingClientRect();(c.width!==u.size.width||c.height!==u.size.height)&&(u.size=c,u.callback())})),i._timer=requestAnimationFrame(s)};this._timer=requestAnimationFrame(s)}var a=t.getBoundingClientRect();this._targets.push({target:t,callback:e,size:a})},n.prototype.removeTarget=function(t){L0(this._targets,function(e){return e.target!==t}),this._targets.length===0&&cancelAnimationFrame(this._timer)},n.delay=200,n}(),Ph=null;function wT(){return Ph===null&&(typeof ResizeObserver<"u"?Ph=new bT:Ph=new xT),Ph}var _T=function(){function n(t,e){this._disposed=!1,this._sensor=wT(),this._element=t,this._sensor.addTarget(t,e)}return n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(n.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),n.prototype.reset=function(){Am("resizeSensor.reset() is no longer needed and can be removed")},n}(),Kp=[],c1=function(){function n(t,e){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=t,e||(this._printing=!1,this.initSensor(),this._disposers.push(ei(window,"beforeprint",function(){i._printing=!0})),this._disposers.push(ei(window,"afterprint",function(){i._printing=!1}))),Kp.push(this);var r=document.createElement("div"),s=r.style;s.width="100%",s.height="100%",s.position="relative",t.appendChild(r),this.SVGContainer=r}return n.prototype.initSensor=function(){var t=this;this.resizeSensor&&this.resizeSensor.dispose();var e=function(){t.autoResize&&!t._printing&&t.measure()};this.resizeSensor=new _T(this.htmlElement,e),this._disposers.push(this.resizeSensor)},n.prototype.measure=function(){var t=bO(this.htmlElement),e=xO(this.htmlElement),i=this.container;i&&((this.width!=t||this.height!=e)&&(this.width=t,this.height=e,t>0&&(i.maxWidth=t),e>0&&(i.maxHeight=e),iT(this.SVGContainer)),i.maxWidth||(i.maxWidth=0),i.maxHeight||(i.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.measure()},enumerable:!0,configurable:!0}),n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||Le(Kp,this),ce(this._disposers,function(t){t.dispose()})},Object.defineProperty(n.prototype,"hideOverflow",{set:function(t){t?this.SVGContainer.style.overflow="hidden":this.SVGContainer.style.overflow=""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modal",{get:function(){return M(this._modal)||(this._modal=new h1,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),n.prototype.openModal=function(t,e){this.closeModal();var i=this.modal;return i.content=t,i.readerTitle=e||"",i.title=e||"",i.open(),i},n.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(n.prototype,"popups",{get:function(){if(!M(this._popups)){var t=new u1;t.container=this.SVGContainer,this._popups=new zt(t),this._disposers.push(new Pt(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),n.prototype.openPopup=function(t,e){var i=this.popups.create();return i.content=t,M(e)&&(i.title=e),i.open(),i},n.prototype.closeAllPopups=function(){this.popups.each(function(t){t.close()})},Object.defineProperty(n.prototype,"readerAlertElement",{get:function(){if(!M(this._readerAlertElement)){var t=document.createElement("div");t.setAttribute("role","alert"),t.style.zIndex="-100000",t.style.opacity="0",t.style.position="absolute",t.style.top="0",this.SVGContainer.appendChild(t),this._readerAlertElement=t}return this._readerAlertElement},enumerable:!0,configurable:!0}),n.prototype.readerAlert=function(t){this.readerAlertElement.innerHTML=t},n.prototype.checkTransform=function(t){if(window.getComputedStyle){if(t&&t.style){var e=window.getComputedStyle(t,null);if(e){var i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");if(i&&i!=="none"){var r=i.split("(")[1].split(")")[0].split(","),s=Number(r[0]),a=Number(r[1]),o=Math.sqrt(s*s+a*a);isNaN(o)||(this.cssScale*=o)}}}t.parentNode&&t.parentNode instanceof HTMLElement&&this.checkTransform(t.parentNode)}},n}(),d1=function(){function n(t,e){this.container=t,this.id=e;var i=document.createElementNS(Vh,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(mx,"xmlns",Vh),i.setAttributeNS(mx,"xmlns:xlink",Fm),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(Vh,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i}return n.prototype.add=function(t){return new uc(t)},n.prototype.addGroup=function(t){return new oT(t)},n.prototype.append=function(t){t&&this.svg.appendChild(t.node)},n.prototype.appendDef=function(t){t&&this.defs.appendChild(t.node)},n.prototype.foreignObject=function(){var t=new uc("foreignObject");return t},n.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},n}(),pp=null;function Xl(){if(pp===null){var n=document.createElement("div");n.hidden=!0,n.style.width="1px",n.style.height="1px",n.style.position="absolute",n.style.zIndex="-1000000",document.body.appendChild(n);var t=new c1(n,!0);pp=new d1(t.SVGContainer,"ghost")}return pp}var co=function(n){N(t,n);function t(){var e=n.call(this)||this;e._elements=new ct,e.properties={},e.className="Pattern",e.width=10,e.height=10,e.x=0,e.y=0,e.patternUnits="userSpaceOnUse";var i=new ft;return e.backgroundFill=i.getFor("background"),e.backgroundOpacity=0,e.fillOpacity=1,e.fill=i.getFor("alternativeBackground"),e.stroke=i.getFor("alternativeBackground"),e.strokeOpacity=1,e.strokeWidth=1,e.shapeRendering="crispEdges",e.rotation=0,e.element=e.paper.addGroup("pattern"),e.id="pattern-"+F.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e._disposers.push(new Pt(e._elements)),e.patternUnits=e.patternUnits,e.width=e.width,e.height=e.height,e.applyTheme(),e}return t.prototype.draw=function(){var e=this,i=this.element;if(i){i.removeChildNodes();var r=this.paper.add("rect");r.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),i.add(r),i.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),Q(this._elements.iterator(),function(s){s.rotation=e.rotation,s.rotationX=e.properties.rotationX,s.rotationY=e.properties.rotationY,e.element.add(s)})}},t.prototype.animate=function(e,i,r){return new $r(this,e,i,r).start()},t.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e)},t.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e)},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xl()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),Ve(e.properties,function(r,s){i[r]=s})},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new go(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e&&M(e.elements)&&fi(e.elements))for(var i=0,r=e.elements.length;i<r;i++){var s=e.elements[i];if(M(s.type)){var a=this.createEntryInstance(s);a instanceof Ri&&(a.config=s),this.addElement(M(s.typeProperty)?a[s.typeProperty]:a.element)}}n.prototype.processConfig.call(this,e)},t}(Ri);F.registeredClasses.Pattern=co;var Er=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._stops=new ct,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+F.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return t.prototype.validate=function(){var e=this,i=(this._rotation+90)*Fc,r=Math.round(50+Math.sin(i+Math.PI)*50)+"%",s=Math.round(50+Math.cos(i)*50)+"%",a=Math.round(50+Math.sin(i)*50)+"%",o=Math.round(50+Math.cos(i+Math.PI)*50)+"%",u=this.element;u.removeChildNodes(),u.attr({x1:r,x2:a,y1:s,y2:o}),Q(ca(this._stops.iterator()),function(c){var f=c[0],p=c[1],g=p.offset;D(g)||(g=f/(e._stops.length-1));var y=e.paper.add("stop");M(p.color)&&y.attr({"stop-color":p.color.toString()}),D(p.opacity)&&y.attr({"stop-opacity":p.opacity}),D(g)&&y.attr({offset:g}),u.add(y)})},t.prototype.clear=function(){this._stops.clear()},t.prototype.addColor=function(e,i,r){this._stops.push({color:e,opacity:i,offset:r})},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xl()},set:function(e){this._paper!=e&&(this._paper=e,this.validate(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this.validate()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(t.prototype,"gradientUnits",{set:function(e){this.element.attr({gradientUnits:e})},enumerable:!0,configurable:!0}),t}(Ri);F.registeredClasses.LinearGradient=Er;var Ss=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._stops=new ct,e.element=e.paper.addGroup("radialGradient"),e.id="gradient-"+F.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return t.prototype.draw=function(){var e=this,i=this.element;if(D(this.cx)){var r=this.cx;r instanceof st&&(r=r.percent+"%"),i.attr({cx:r})}if(D(this.cy)){var r=this.cy;r instanceof st&&(r=r.percent+"%"),i.attr({cy:r})}if(this.fx){var r=this.fx;r instanceof st&&(r=r.percent+"%"),i.attr({fx:r})}if(this.fy){var r=this.fy;r instanceof st&&(r=r.percent+"%"),i.attr({fy:r})}i.removeChildNodes(),Q(ca(this._stops.iterator()),function(s){var a=s[0],o=s[1],u=o.offset;D(u)||(u=a/(e._stops.length-1));var c=e.paper.add("stop");M(o.color)&&c.attr({"stop-color":o.color.toString()}),D(o.opacity)&&c.attr({"stop-opacity":o.opacity}),D(u)&&c.attr({offset:u}),i.add(c)})},t.prototype.addColor=function(e,i,r){this._stops.push({color:e,opacity:i,offset:r}),this.draw()},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xl()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this.cx=e.cx,this.cy=e.cy,this.fx=e.fx,this.fy=e.fy},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._stops.clear()},t}(Ri);F.registeredClasses.RadialGradient=Ss;var gi=function(){function n(){}return n.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],n.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],n.pointer=[{property:"cursor",value:"pointer"}],n.default=[{property:"cursor",value:"default"}],n.horizontalResize=[{property:"cursor",value:"ew-resize"}],n.verticalResize=[{property:"cursor",value:"ns-resize"}],n.notAllowed=[{property:"cursor",value:"not-allowed"}],n.text=[{property:"cursor",value:"text"}],n}();const bx={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(n){var t="th";if(n<11||n>13)switch(n%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var js=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.adapter=new rr(e),e._locale=bx,e._defaultLocale=bx,e.className="Language",M(Fr.defaultLocale)&&(e.locale=Fr.defaultLocale),e.applyTheme(),e}return t.prototype.getLocale=function(e){return e==null&&(e=this._locale),this.adapter.apply("locale",{locale:e}).locale},t.prototype.translate=function(e,i){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];i=this.getLocale(i);var a=e,o=this.getTranslations(i),u=o[e];if(u===null)a="";else if(M(u))u&&(a=u);else if(i!==this._defaultLocale)return this.translate.apply(this,so([e,this._defaultLocale],r));if(r.length)for(var c=r.length,f=0;f<c;++f)a=a.split("%"+(f+1)).join(r[f]);return this.adapter.apply("translate",{translation:a,locale:i}).translation},t.prototype.translateAny=function(e,i){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return this.translate.apply(this,so([e,i],r))},t.prototype.setTranslationAny=function(e,i,r){var s=r||this.locale;s[e]=i},t.prototype.translateEmpty=function(e,i){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=this.translate.apply(this,so([e,i],r));return a==e?"":a},t.prototype.translateFunc=function(e,i){i=this.getLocale(i);var r=this.getTranslations(i),s=r[e];return s??(i!==this._defaultLocale?this.translateFunc(e,this._defaultLocale):function(){return""})},t.prototype.translateAll=function(e,i){var r=this;return this.isDefault()?e:Ul(e,function(s){return r.translate(s,i)})},t.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(e){if(this._locale!=e&&(this._locale=e,this.events.isEnabled("localechanged"))){var i={type:"localechanged",locale:e,target:this};this.events.dispatchImmediately("localechanged",i)}},enumerable:!0,configurable:!0}),t.prototype.getTranslations=function(e){return this.adapter.apply("translations",{translations:e,locale:e}).translations},t}(wn),f1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.adapter=new rr(e),e.className="TextFormatter",e.applyTheme(),e}return t.prototype.debug=function(){},t.prototype.format=function(e,i){M(i)||(i="svg");var r="";e=this.escape(e);var s=e.match(/\[([^\]]*?)\]/gm);if(!s)return this.wrap(e,"",i);for(var a=e.split(/\[[^\[\]]*\]/),o=0,u=a.length;o<u;o++){var c=a[o];if(c!==""){c=this.adapter.apply("chunk",c);var f="";o>0&&(f=s[o-1].replace("[","").replace("]","")),r+=this.wrap(c,f,i)}}return r=this.unescape(r),this.cleanUp(r)},t.prototype.escape=function(e){return e.replace(/\[\[/g,F.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+F.getPlaceholder("2")).replace(/\]\]/g,F.getPlaceholder("2")).replace(/\{\{/g,F.getPlaceholder("3")).replace(/\}\}/g,F.getPlaceholder("4")).replace(/\'\'/g,F.getPlaceholder("5"))},t.prototype.unescape=function(e){return e.replace(new RegExp(F.getPlaceholder("1"),"g"),"[[").replace(new RegExp(F.getPlaceholder("2"),"g"),"]]").replace(new RegExp(F.getPlaceholder("3"),"g"),"{{").replace(new RegExp(F.getPlaceholder("4"),"g"),"}}").replace(new RegExp(F.getPlaceholder("5"),"g"),"''")},t.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},t.prototype.wrap=function(e,i,r){switch((i===""||i==="/")&&(i=""),r){case"html":return this.wrapHtml(e,this.translateStyleShortcuts(i));default:return this.wrapSvg(e,this.translateStyleShortcuts(i))}},t.prototype.wrapSvg=function(e,i){return i===""?"<tspan>"+e+"</tspan>":"<tspan style='"+i+"'>"+e+"</tspan>"},t.prototype.getSvgElement=function(e,i){var r=new uc("tspan");return r.textContent=e,i&&r.node.setAttribute("style",i),r},t.prototype.wrapHtml=function(e,i){return i===""?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(i)+"'>"+e+"</span>"},t.prototype.getHtmlElement=function(e,i){var r=document.createElement("span");return r.innerHTML=e,i&&r.setAttribute("style",i),r},t.prototype.styleSvgToHtml=function(e){return e=e.replace(/fill:/,"color:"),e},t.prototype.translateStyleShortcuts=function(e){if(e==""||e=="[ ]")return"";var i=F.getCache("translateStyleShortcuts_"+e);if(i)return i;var r=e.match(/('[^']*')|("[^"]*")/gi);if(r)for(var s=0;s<r.length;s++)e=e.replace(r[s],r[s].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var a=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!a)return e;for(var s=0;s<a.length;s++)a[s].match(/^bold$/i)?a[s]="font-weight:"+a[s]:a[s]=="/"?a[s]="":a[s].match(/:/)?a[s]=a[s].replace(/\+/g," "):a[s]="fill:"+a[s];var o=a.join(";");return F.setCache("translateStyleShortcuts_"+e,o),o},t.prototype.chunk=function(e,i,r){i===void 0&&(i=!1),r===void 0&&(r=!1);var s=[];e=this.escape(e);for(var a=i?e.split("'"):[e],o=0;o<a.length;o++){var u=a[o];if(u!=="")if(o%2===0){u=u.replace(/\]\[/g,"]"+gr+"["),u=u.replace(/\[\]/g,"[ ]");for(var c=u.split(/[\[\]]+/),f=0;f<c.length;f++){var p=this.cleanUp(this.unescape(c[f]));p!==gr&&p!==""&&(f%2===0?s.push({type:"value",text:this.adapter.apply("chunk",p)}):s.push({type:r?"value":"format",text:"["+p+"]"}))}}else for(var c=u.split(/[\[\]]+/),f=0;f<c.length;f++){var p=this.cleanUp(this.unescape(c[f]));p!==""&&(f%2===0?s.push({type:"text",text:p}):this.isImage(p)?s.push({type:"image",text:"["+p+"]"}):s.push({type:"format",text:"["+p+"]"}))}}return s},t.prototype.isImage=function(e){return!!e.match(/img[ ]?:/)},t}(Ri),mp;function zn(){return mp==null&&(mp=new f1),mp}F.registeredClasses.TextFormatter=f1;var Im=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._negativeBase=0,e._numberFormat="#,###.#####",e._outputFormat="svg",e._smallNumberThreshold=1,e._forceLTR=!1,e.className="NumberFormatter",e.applyTheme(),e}return t.prototype.dispose=function(){n.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new js),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,r){(typeof i>"u"||at(i)&&i.toLowerCase()==="number")&&(i=this._numberFormat);var s,a=Number(e);if(Ot(i))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,i).format(a):new Intl.NumberFormat(void 0,i).format(a)}catch{return"Invalid"}else{i=nc(i);var o=this.parseFormat(i,this.language),u=void 0;a>this._negativeBase?u=o.positive:a<this._negativeBase?u=o.negative:u=o.zero,M(r)&&!u.mod&&(u=Nk(u),u.decimals.active=a==0?0:r),s=u.template.split(gr).join(this.applyFormat(a,u))}return this.forceLTR&&(s="‎"+s),s},t.prototype.parseFormat=function(e,i){var r=this,s=this.getCache(e);if(M(s))return s;var a={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}};e=e.replace("||",ro);var o=e.split("|");return a.positive.source=o[0],typeof o[2]>"u"?a.zero=a.positive:a.zero.source=o[2],typeof o[1]>"u"?a.negative=a.positive:a.negative.source=o[1],Ve(a,function(u,c){if(!c.parsed){if(typeof r.getCache(c.source)<"u"){a[u]=r.getCache(c.source);return}var f=c.source;f.toLowerCase()==="number"&&(f=at(r._numberFormat)?r._numberFormat:"#,###.#####");for(var p=zn().chunk(f,!0),g=0;g<p.length;g++){var y=p[g];if(y.text=y.text.replace(ro,"|"),y.type==="value"){var b=y.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(b)if(b===null||b[0]==="")c.template+=y.text;else{var x=b[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);x&&(c.mod=x[0].toLowerCase(),c.modSpacing=!!b[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));var w=b[0].split(".");if(w[0]!==""){c.thousands.active=(w[0].match(/0/g)||[]).length,c.thousands.passive=(w[0].match(/\#/g)||[]).length+c.thousands.active;var P=w[0].split(",");P.length===1||(c.thousands.interval=Et(P.pop()).length,c.thousands.interval===0&&(c.thousands.interval=-1))}typeof w[1]>"u"||(c.decimals.active=(w[1].match(/0/g)||[]).length,c.decimals.passive=(w[1].match(/\#/g)||[]).length+c.decimals.active),c.template+=y.text.split(b[0]).join(gr)}}else c.template+=y.text}r.setCache(c.source,c),c.parsed=!0}}),this.setCache(e,a),a},t.prototype.applyFormat=function(e,i){var r=e<0;e=Math.abs(e);var s="",a="",o=i.mod?i.mod.split(""):[];if(o.indexOf("b")!==-1){var u=this.applyPrefix(e,this.bytePrefixes,o.indexOf("!")!==-1);e=u[0],s=u[1],a=u[2],i.modSpacing&&(a=" "+a)}else if(o.indexOf("a")!==-1){var c=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,o.indexOf("!")!==-1);e=c[0],s=c[1],a=c[2],i.modSpacing&&(a=" "+a)}else if(o.indexOf("p")!==-1){var f=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(f)),s=this.language.translate("_percentPrefix")||"",a=this.language.translate("_percentSuffix")||"",s==""&&a==""&&(a="%")}else if(o.indexOf("%")!==-1){var f=ot(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(f)),a="%"}else if(o.indexOf("‰")!==-1){var f=ot(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(f)),a="‰"}if(o.indexOf("e")!==-1){var p=void 0;i.decimals.passive>=0?p=e.toExponential(i.decimals.passive).split("e"):p=e.toExponential().split("e"),e=Number(p[0]),a="e"+p[1],i.modSpacing&&(a=" "+a)}else if(i.decimals.passive===0)e=Math.round(e);else if(i.decimals.passive>0){var g=Math.pow(10,i.decimals.passive);e=Math.round(e*g)/g}var y="",b=mO(e).split("."),x=b[0];if(x.length<i.thousands.active&&(x=Array(i.thousands.active-x.length+1).join("0")+x),i.thousands.interval>0){for(var w=[],P=x.split("").reverse().join(""),S=0,k=x.length;S<=k;S+=i.thousands.interval){var T=P.substr(S,i.thousands.interval).split("").reverse().join("");T!==""&&w.unshift(T)}x=w.join(i.thousands.separator)}y+=x,b.length===1&&b.push("");var j=b[1];return j.length<i.decimals.active&&(j+=Array(i.decimals.active-j.length+1).join("0")),j!==""&&(y+=i.decimals.separator+j),y===""&&(y="0"),e!==0&&r&&o.indexOf("s")===-1&&(y="-"+y),s&&(y=s+y),a&&(y+=a),y},t.prototype.applyPrefix=function(e,i,r){r===void 0&&(r=!1);for(var s=e,a="",o="",u=!1,c=1,f=0,p=i.length;f<p;f++)i[f].number<=e&&(i[f].number===0?s=0:(s=e/i[f].number,c=i[f].number),a=i[f].prefix,o=i[f].suffix,u=!0);return!u&&r&&i.length&&e!=0&&(s=e/i[0].number,a=i[0].prefix,o=i[0].suffix,u=!0),u&&(s=parseFloat(s.toPrecision(ot(c.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,a,o]},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigNumberPrefixes",{get:function(){return M(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberPrefixes",{get:function(){return M(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytePrefixes",{get:function(){return M(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(e){this._forceLTR=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.escape=function(e){return e.replace("||",ro)},t.prototype.unescape=function(e){return e.replace(ro,"|")},t}(Ri);F.registeredClasses.NumberFormatter=Im;var $l=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._dateFormat="yyyy-MM-dd",e._inputDateFormat="yyyy-MM-dd",e._utc=!1,e.timezoneMinutes=0,e._firstDayOfWeek=1,e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e._outputFormat="svg",e.capitalize=!0,e.className="DateFormatter",e.applyTheme(),e}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,r){this.language||(this.sprite?this.language=this.sprite.language:this.language=new js),(typeof i>"u"||i==="")&&(i=this._dateFormat);var s,a;if(at(e)?a=this.parse(e):a=Q0(e),Ot(i))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,i).format(a):new Intl.DateTimeFormat(void 0,i).format(a)}catch{return"Invalid"}else{i=nc(i);var o=this.parseFormat(i);if(M(this.timezoneOffset)?a.setMinutes(a.getMinutes()+a.getTimezoneOffset()-this.timezoneOffset):M(this.timezone)&&r!==!1&&(a=Vc(a,this.timezone)),!D(a.getTime()))return this.language.translate("Invalid date");s=this.applyFormat(a,o,this.language),this.capitalize&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase()))}return s},t.prototype.parseFormat=function(e){var i=this.getCache(e);if(M(i))return i;for(var r={template:"",parts:[]},s=zn().chunk(e,!0),a=0;a<s.length;a++){var o=s[a];if(o.type==="value"){o.text.match(/^date$/i)&&at(this._dateFormat)&&(o.text=this._dateFormat);var u=o.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(u)for(var c=0;c<u.length;c++)r.parts.push(u[c]),o.text=o.text.replace(u[c],gr)}r.template+=o.text}return this.setCache(e,r),r},t.prototype.applyFormat=function(e,i,r){var s=i.template,a,o,u,c,f,p,g,y,b=e.getTimezoneOffset(),x=e.getTime();this.utc?(a=e.getUTCFullYear(),o=e.getUTCMonth(),u=e.getUTCDay(),c=e.getUTCDate(),f=e.getUTCHours(),p=e.getUTCMinutes(),g=e.getUTCSeconds(),y=e.getUTCMilliseconds()):(a=e.getFullYear(),o=e.getMonth(),u=e.getDay(),c=e.getDate(),f=e.getHours(),p=e.getMinutes(),g=e.getSeconds(),y=e.getMilliseconds());for(var w=0,P=i.parts.length;w<P;w++){var S="";switch(i.parts[w]){case"G":S=r.translate(a<0?"_era_bc":"_era_ad");break;case"yyyy":S=Math.abs(a).toString(),a<0&&(S+=r.translate("_era_bc"));break;case"yyy":case"yy":case"y":S=Math.abs(a).toString().substr(-i.parts[w].length),a<0&&(S+=r.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var k=vO(e);i.parts[w]=="YYYY"?S=Math.abs(k).toString():S=Math.abs(k).toString().substr(-i.parts[w].length),k<0&&(S+=r.translate("_era_bc"));break;case"u":break;case"q":S=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":S=r.translate(this.months[o]).substr(0,1);break;case"MMMM":S=r.translate(this.months[o]);break;case"MMM":S=r.translate(this.monthsShort[o]);break;case"MM":S=ki(o+1,2,"0");break;case"M":S=(o+1).toString();break;case"ww":S=ki(sc(e,this.utc),2,"0");break;case"w":S=sc(e,this.utc).toString();break;case"W":S=gO(e,this.utc).toString();break;case"dd":S=ki(c,2,"0");break;case"d":S=c.toString();break;case"DD":case"DDD":S=ki(hx(e,this.utc).toString(),i.parts[w].length,"0");break;case"D":S=hx(e,this.utc).toString();break;case"F":break;case"g":break;case"t":S=r.translateFunc("_dateOrd").call(this,c);break;case"E":S=(u||7).toString();break;case"EE":S=ki((u||7).toString(),2,"0");break;case"EEE":case"eee":S=r.translate(this.weekdaysShort[u]);break;case"EEEE":case"eeee":S=r.translate(this.weekdays[u]);break;case"EEEEE":case"eeeee":S=r.translate(this.weekdays[u]).substr(0,1);break;case"e":case"ee":S=(u-this.firstDayOfWeek+1).toString(),i.parts[w]=="ee"&&(S=ki(S,2,"0"));break;case"a":f>=12?S=r.translate("PM"):S=r.translate("AM");break;case"aa":f>=12?S=r.translate("P.M."):S=r.translate("A.M.");break;case"aaa":f>=12?S=r.translate("P"):S=r.translate("A");break;case"h":S=xh(f).toString();break;case"hh":S=ki(xh(f),2,"0");break;case"H":S=f.toString();break;case"HH":S=ki(f,2,"0");break;case"K":S=xh(f,0).toString();break;case"KK":S=ki(xh(f,0),2,"0");break;case"k":S=(f+1).toString();break;case"kk":S=ki(f+1,2,"0");break;case"m":S=p.toString();break;case"mm":S=ki(p,2,"0");break;case"s":S=g.toString();break;case"ss":S=ki(g,2,"0");break;case"S":case"SS":case"SSS":S=Math.round(y/1e3*Math.pow(10,i.parts[w].length)).toString();break;case"x":S=x.toString();break;case"n":case"nn":case"nnn":S=ki(y,i.parts[w].length,"0");break;case"z":S=wh(e,!1,!1,this.utc);break;case"zz":S=wh(e,!0,!1,this.utc);break;case"zzz":S=wh(e,!1,!0,this.utc);break;case"zzzz":S=wh(e,!0,!0,this.utc);break;case"Z":case"ZZ":var T=Math.abs(b)/60,j=Math.floor(T),V=T*60-j*60;this.utc&&(j=0,V=0),i.parts[w]=="Z"?(S="GMT",S+=b>0?"-":"+",S+=ki(j,2)+":"+ki(V,2)):(S=b>0?"-":"+",S+=ki(j,2)+ki(V,2));break;case"i":S=e.toISOString();break;case"I":S=e.toUTCString();break}s=s.replace(gr,S)}return s},t.prototype.parse=function(e,i){if(M(i)||(i=this.inputDateFormat),e instanceof Date)return e;if(typeof e=="number")return new Date(e);typeof e!="string"&&(e=e.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new js);var r,s="";i=nc(i),i=i.substr(0,e.length);for(var a=this.parseFormat(i),o={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},u={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},c=0,f=0,p=0;p<a.parts.length;p++){switch(f=p+c+1,a.parts[p]){case"yyyy":case"YYYY":s+="([0-9]{4})",o.year=f;break;case"yyy":case"YYY":s+="([0-9]{3})",o.year3=f;break;case"yy":case"YY":s+="([0-9]{2})",o.year2=f;break;case"y":case"Y":s+="([0-9]{1})",o.year1=f;break;case"MMMM":s+="("+this.getStringList(this.months).join("|")+")",o.monthLong=f;break;case"MMM":s+="("+this.getStringList(this.monthsShort).join("|")+")",o.monthShort=f;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",o.month=f;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",o.week=f;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",o.day=f;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.yearDay=f;break;case"dddd":s+="("+this.getStringList(this.weekdays).join("|")+")",o.weekdayLong=f;break;case"ddd":s+="("+this.getStringList(this.weekdaysShort).join("|")+")",o.weekdayShort=f;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",o.am=f;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",o.hour12Base1=f;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",o.hourBase0=f;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",o.hour12Base0=f;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",o.hourBase1=f;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",o.minute=f;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",o.second=f;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=f,o.millisecondDigits=a.parts[p].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=f;break;case"x":s+="([0-9]{1,})",o.timestamp=f;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",o.zone=f;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",o.zone=f;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",o.iso=f,c+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":c--;break}s+="[^0-9]*"}var g=new RegExp(s),y=e.match(g);if(y){if(o.year>-1&&(u.year=parseInt(y[o.year])),o.year3>-1){var b=parseInt(y[o.year3]);b+=1e3,u.year=b}if(o.year2>-1){var b=parseInt(y[o.year2]);b>50?b+=1e3:b+=2e3,u.year=b}if(o.year1>-1){var b=parseInt(y[o.year1]);b=Math.floor(new Date().getFullYear()/10)*10+b,u.year=b}if(o.monthLong>-1&&(u.month=this.resolveMonth(y[o.monthLong])),o.monthShort>-1&&(u.month=this.resolveShortMonth(y[o.monthShort])),o.month>-1&&(u.month=parseInt(y[o.month])-1),o.week>-1&&o.day===-1&&(u.month=0,u.day=yO(parseInt(y[o.week]),u.year,1,this.utc)),o.day>-1&&(u.day=parseInt(y[o.day])),o.yearDay>-1&&(u.month=0,u.day=parseInt(y[o.yearDay])),o.hourBase0>-1&&(u.hour=parseInt(y[o.hourBase0])),o.hourBase1>-1&&(u.hour=parseInt(y[o.hourBase1])-1),o.hour12Base0>-1){var b=parseInt(y[o.hour12Base0]);b==11&&(b=0),o.am>-1&&!this.isAm(y[o.am])&&(b+=12),u.hour=b}if(o.hour12Base1>-1){var b=parseInt(y[o.hour12Base1]);b==12&&(b=0),o.am>-1&&!this.isAm(y[o.am])&&(b+=12),u.hour=b}if(o.minute>-1&&(u.minute=parseInt(y[o.minute])),o.second>-1&&(u.second=parseInt(y[o.second])),o.millisecond>-1){var b=parseInt(y[o.millisecond]);o.millisecondDigits==2?b*=10:o.millisecondDigits==1&&(b*=100),u.millisecond=b}if(o.timestamp>-1){u.timestamp=parseInt(y[o.timestamp]);var x=new Date(u.timestamp);u.year=x.getUTCFullYear(),u.month=x.getUTCMonth(),u.day=x.getUTCDate(),u.hour=x.getUTCHours(),u.minute=x.getUTCMinutes(),u.second=x.getUTCSeconds(),u.millisecond=x.getUTCMilliseconds()}o.zone>-1&&(u.offset=this.resolveTimezoneOffset(new Date(u.year,u.month,u.day),y[o.zone])),o.iso>-1&&(u.year=_t(y[o.iso+0]),u.month=_t(y[o.iso+1])-1,u.day=_t(y[o.iso+2]),u.hour=_t(y[o.iso+3]),u.minute=_t(y[o.iso+4]),u.second=_t(y[o.iso+5]),u.millisecond=_t(y[o.iso+6]),y[o.iso+7]=="Z"||y[o.iso+7]=="z"?u.utc=!0:y[o.iso+7]!=""&&(u.offset=this.resolveTimezoneOffset(new Date(u.year,u.month,u.day),y[o.iso+7]))),u.utc?r=new Date(Date.UTC(u.year,u.month,u.day,u.hour,u.minute,u.second,u.millisecond)):r=new Date(u.year,u.month,u.day,u.hour,u.minute+u.offset,u.second,u.millisecond)}else r=new Date(e);return r},t.prototype.resolveTimezoneOffset=function(e,i){var r=i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(r){var s=Et(i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),a=s[1],o=s[2],u=s[3],c=parseInt(o)*60+parseInt(u);a=="+"&&(c*=-1);var f=(e||new Date).getTimezoneOffset(),p=c-f;return p}return 0},t.prototype.resolveMonth=function(e){var i=this.months.indexOf(e);return i>-1||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.months).indexOf(e),i>-1)?i:0},t.prototype.resolveShortMonth=function(e){var i=this.monthsShort.indexOf(e);return i>-1||(i=this.months.indexOf(e),i>-1)||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.monthsShort).indexOf(e),i>-1)?i:0},t.prototype.isAm=function(e){var i=this.getStringList(["AM","A.M.","A"]);return i.indexOf(e.toUpperCase())>-1},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},t.prototype.getStringList=function(e){for(var i=[],r=0;r<e.length;r++)this.language?i.push(Lp(this.language.translate(e[r]))):i.push(Lp(e[r]));return i},Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this._timezone},set:function(e){this._timezone!=e&&(this._timezone=e,this.timezoneMinutes=gT(e),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Ri);F.registeredClasses.DateFormatter=$l;var Rm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return t.prototype.format=function(e,i,r){this.language||(this.sprite?this.language=this.sprite.language:this.language=new js);var s=r||this._baseUnit;(typeof i>"u"||i==="")&&(M(this.durationFormat)?i=this.durationFormat:i=this.getFormat(_t(e),null,s)),i=nc(i);var a=this.parseFormat(i,s),o=Number(e),u;o>this._negativeBase?u=a.positive:o<this._negativeBase?u=a.negative:u=a.zero;var c=this.applyFormat(o,u);return u.color!==""&&(this._outputFormat==="svg"?c="<tspan fill='"+u.color+"'>"+c+"</tspan>":this._outputFormat==="html"&&(c="<span style='color: "+u.color+";'>"+c+"</span>")),c},t.prototype.parseFormat=function(e,i){var r=this,s=this.getCache(e);if(M(s))return s;var a=i||this._baseUnit,o={positive:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1}};e=e.replace("||",ro);var u=e.split("|");return o.positive.source=u[0],typeof u[2]>"u"?o.zero=o.positive:o.zero.source=u[2],typeof u[1]>"u"?o.negative=o.positive:o.negative.source=u[1],Ve(o,function(c,f){if(!f.parsed){if(typeof r.getCache(f.source)<"u"){o[c]=r.getCache(f.source);return}var p=f.source,g=[];g=f.source.match(/^\[([^\]]*)\]/),g&&g.length&&g[0]!==""&&(p=f.source.substr(g[0].length),f.color=g[1]);for(var y=zn().chunk(p,!0),b=0;b<y.length;b++){var x=y[b];if(x.text=x.text.replace(ro,"|"),x.type==="value"){x.text.match(/[yYMdDwhHKkmsSn]+a/)&&(f.absolute=!0,x.text=x.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var w=x.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(w)for(var P=0;P<w.length;P++)M(w[P])||(w[P]=r._unitAliases[w[P]]),f.parts.push(w[P]),x.text=x.text.replace(w[P],gr)}f.template+=x.text}r.setCache(f.source,f),f.parsed=!0}}),this.setCache(e,o),o},t.prototype.applyFormat=function(e,i){var r=!i.absolute&&e<this._negativeBase;e=Math.abs(e);for(var s=this.toTimeStamp(e,i.baseUnit),a=i.template,o=0,u=i.parts.length;o<u;o++){var c=i.parts[o],f=this.toTimeUnit(c.substr(0,1)),p=c.length,g=Math.floor(s/this._unitValues[f]);a=a.replace(gr,ki(g,p,"0")),s-=g*this._unitValues[f]}return r&&(a="-"+a),a},t.prototype.toTimeStamp=function(e,i){return e*this._unitValues[i]},t.prototype.toTimeUnit=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.getFormat=function(e,i,r){if(M(this.durationFormat))return this.durationFormat;if(r||(r=this.baseUnit),M(i)&&e!=i){e=Math.abs(e),i=Math.abs(i);var s=this.getValueUnit(We(e,i),r);return this.durationFormats[r][s]}else{var a=this.getValueUnit(e,r);return this.durationFormats[r][a]}},t.prototype.getValueUnit=function(e,i){i||(i=this.baseUnit);var r,s=this.getMilliseconds(e,i);return W0(this._unitValues,function(a,o){if(a==i||r){var u=s/o;if(u<=1)return r||(r=a),!1;r=a}return!0}),r},t.prototype.getMilliseconds=function(e,i){return i||(i=this.baseUnit),e*this._unitValues[i]},Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(e){this._durationFormat!=e&&(this._durationFormat=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(e){this._durationFormats=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Ri);F.registeredClasses.DurationFormatter=Rm;const PT="modulepreload",CT=function(n){return"/"+n},xx={},hc=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(e.map(u=>{if(u=CT(u),u in xx)return;xx[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":PT,c||(p.as="script"),p.crossOrigin="",p.href=u,o&&p.setAttribute("nonce",o),document.head.appendChild(p),c)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};var wx=new St;function ST(n,t){var e=t||"amexport",i=new ft,r=wx.insertKeyIfEmpty(e,function(){var s=new Lt([new wt(n,"."+e+"-menu *",{"box-sizing":"border-box"}),new wt(n,"."+e+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new wt(n,"."+e+"-menu-level-0."+e+"-left",{right:"auto",left:"5px"}),new wt(n,"."+e+"-menu-level-0."+e+"-right",{right:"5px",left:"auto"}),new wt(n,"."+e+"-menu-level-0."+e+"-top",{top:"5px",bottom:"auto"}),new wt(n,"."+e+"-menu-level-0."+e+"-bottom",{top:"auto",bottom:"5px"}),new wt(n,"."+e+"-item."+e+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new wt(n,"div:hover > div > ."+e+"-menu ."+e+"-item."+e+"-item-level-0, ."+e+"-item."+e+"-item-level-0.active",{opacity:"0.9"}),new wt(n,"."+e+"-item."+e+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new wt(n,"."+e+"-item."+e+"-item-level-0:before",{display:"block"}),new wt(n,"."+e+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":i.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:i.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new wt(n,"."+e+"-left ."+e+"-item",{margin:"1px 0 0 1px"}),new wt(n,"."+e+"-item:hover, ."+e+"-item.active",{background:i.getFor("secondaryButtonHover").hex,color:i.getFor("secondaryButtonText").hex}),new wt(n,"."+e+"-item > ."+e+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new wt(n,"."+e+"-left ."+e+"-item > ."+e+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new wt(n,"."+e+"-right ."+e+"-item > ."+e+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new wt(n,"."+e+"-top ."+e+"-item > ."+e+"-menu",{top:"-1px",bottom:"auto"}),new wt(n,"."+e+"-bottom ."+e+"-item > ."+e+"-menu",{top:"auto",bottom:"0"}),new wt(n,"."+e+"-item > ."+e+"-menu",{display:"none"}),new wt(n,"."+e+"-item:hover > ."+e+"-menu, ."+e+"-item.active > ."+e+"-menu",{display:"block"}),new wt(n,"."+e+"-item:hover > ."+e+"-menu > ."+e+"-item, ."+e+"-item.active > ."+e+"-menu > ."+e+"-item",{opacity:"1"}),new wt(n,"."+e+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new wt(n,"."+e+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new wt(n,"."+e+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new wt(n,"."+e+"-item-level-0 > ."+e+"-icon",{padding:"0.1em 0.2em"}),new wt(n,"."+e+"-clickable",{cursor:"pointer"})]);return new Ec(function(){wx.removeKey(e),s.dispose()})});return r.increment()}var p1=function(n){N(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._validateDisposer=null,e}return t.prototype.invalidate=function(){this._validateDisposer===null&&(this._validateDisposer=F.events.on("exitframe",this.validate,this))},t.prototype.validate=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null)},t.prototype.dispose=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null),n.prototype.dispose.call(this)},t}(wn),jT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.adapter=new rr(e),e.closeDelay=1e3,e.closeOnClick=!0,e._language=new li,e._menuTag="ul",e._itemTag="li",e._labelTag="a",e._iconTag="img",e._classPrefix="amexport",e._defaultStyles=!0,e._align="right",e._verticalAlign="top",e._tabindex=0,e._ignoreNextClose=!1,e._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],e.className="ExportMenu",e._disposers.push(e._language),e.invalidate(),e.applyTheme(),e}return t.prototype.validate=function(){this.draw(),n.prototype.validate.call(this)},t.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),Et(this._container).appendChild(this._element);for(var i=this.adapter.apply("items",{items:this._items}).items,r=i.length,s=0;s<r;s++)this.drawBranch(this._element,i[s],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(Ne().body.events.on("down",function(a){a.pointer.touch||(e._ignoreNextClose=!1),e.close()})),this._disposers.push(Ne().body.events.on("keydown",function(a){var o=mn.getEventKey(a.event);switch(o){case"esc":e.close();break;case"up":case"down":case"left":case"right":e._currentSelection&&a.event.preventDefault(),e.moveSelection(o);break}})),this.defaultStyles&&this.loadDefaultCSS()},t.prototype.drawBranch=function(e,i,r){var s=this;if(i=this.adapter.apply("branch",{branch:i,level:r}).branch,i.unsupported!==!0){i.ascendants||(i.ascendants=new ct);var a=i.type,o=this.createItemElement(r,a),u;i.icon?(u=this.createIconElement(r,a),u.src=i.icon,(i.label||i.title)&&(u.title=i.title||i.label)):i.svg?(u=this.createSvgElement(r,a,i.svg),(i.label||i.title)&&(u.title=i.title||i.label)):(u=this.createLabelElement(r,a),u.innerHTML=i.label?this.language.translate(i.label):"",i.title&&(u.title=i.title));var c=this.getReaderLabel(i,u.innerHTML);u.setAttribute("aria-label",c),o.appendChild(u),i.interactions=Ne().getInteraction(o),i.element=o,this.typeClickable(a)&&(i.interactions.events.on("hit",function(w){if(s.events.isEnabled("hit")&&!s.isDisposed()){var P={type:"hit",event:w.event,target:s,branch:i};s.events.dispatchImmediately("hit",P)}}),i.interactions.events.on("keyup",function(w){if(mn.isKey(w.event,"enter")&&s.events.isEnabled("enter")){var P={type:"enter",event:w.event,target:s,branch:i};s.events.dispatchImmediately("enter",P)}}));{var f=this.getSubMenu(i);f!=null&&(i.interactions.events.on("keyup",function(w){mn.isKey(w.event,"enter")&&(s.selectBranch(f[0]),s.setFocus(f[0]))}),i.interactions.events.on("hit",function(w){s.selectBranch(i)}))}i.interactions.events.on("over",function(w){if(w.pointer.touch&&(s._ignoreNextClose=!0),s.selectBranch(i),s.events.isEnabled("over")){var P={type:"over",event:w.event,target:s,branch:i};s.events.dispatchImmediately("over",P)}}),i.interactions.events.on("out",function(w){if(!s.isDisposed()&&(w.pointer.touch||s.delayUnselectBranch(i),s.events.isEnabled("out"))){var P={type:"out",event:w.event,target:s,branch:i};s.events.dispatchImmediately("out",P)}}),i.interactions.events.on("focus",function(w){s.selectBranch(i)}),i.interactions.events.on("blur",function(w){s.delayUnselectBranch(i)});var p=r+1;if(i.menu){var g=this.createMenuElement(p);i.submenuElement=g;for(var y=i.menu.length,b=0;b<y;b++){var x=new ct;i.menu[b].ascendants=x,i.ascendants.length&&x.copyFrom(i.ascendants),x.push(i),this.drawBranch(g,i.menu[b],p)}if(g.innerHTML=="")return;o.appendChild(g)}i.hidden&&this.hideBranch(i),i.id&&o.setAttribute("id",i.id),i.color&&(o.style.backgroundColor=i.color.hex),e.appendChild(o)}},t.prototype.createMenuElement=function(e){var i=document.createElement(this.menuTag);return i.className=this.getMenuItemClass(e),e===0?i.setAttribute("role","menubar"):i.setAttribute("role","menu"),i},t.prototype.getMenuItemClass=function(e){var i=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return e===0&&(i+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:i,level:e}).className},t.prototype.createItemElement=function(e,i){var r=document.createElement(this.itemTag),s=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return r.className=this.adapter.apply("itemClass",{className:s,level:e,type:i}).className,r.setAttribute("role","menuitem"),r.setAttribute("tabindex",this.tabindex.toString()),r},t.prototype.createLabelElement=function(e,i){var r=document.createElement(this.labelTag),s=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(s+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:s,level:e,type:i}).className,r},t.prototype.createIconElement=function(e,i){var r=document.createElement(this.iconTag),s=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(s+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:s,level:e,type:i}).className,r.setAttribute("tabindex",this.tabindex.toString()),r.setAttribute("role","menuitem"),r},t.prototype.createSvgElement=function(e,i,r){var s=new DOMParser,a=s.parseFromString(r,"image/svg+xml").documentElement,o=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(o+=" "+this.classPrefix+"-clickable"),a.setAttribute("class",this.adapter.apply("labelClass",{className:o,level:e,type:i}).className),a.setAttribute("tabindex",this.tabindex.toString()),a.setAttribute("role","menuitem"),a},t.prototype.dispose=function(){this._disposed||(n.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},t.prototype.typeClickable=function(e){return M(e)},t.prototype.hasSubMenu=function(e){return!!(e.menu&&e.menu.length)},t.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},t.prototype.getReaderLabel=function(e,i){return i=Z0(i),e.ascendants.length==0?(i=i=="..."?this.language.translate("Export"):i,i+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(e)?i+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":e.type=="print"?i=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(i=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,i)),this.adapter.apply("rederLabel",{label:i,branch:e}).label},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag=e=="ul"?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._disposers.push(ST(Vm(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this,i=this._language.get();return i==null&&(i=new js,this._language.set(i,i.events.on("localechanged",function(r){e.invalidate()}))),i},set:function(e){var i=this;this._language.set(e,e.events.on("localechanged",function(r){i.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.close=function(){var e=this;if(!this.isDisposed()){if(this._ignoreNextClose){this._ignoreNextClose=!1;return}if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){e._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var i=this._element.getElementsByClassName("active"),r=i.length,s=r-1;s>=0;s--)i[s]&&$p(i[s],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},t.prototype.selectBranch=function(e){var i=this;if(!this.isDisposed()&&(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),Xp(e.element,"active"),e.submenuElement&&e.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&Q(Hk(ha([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(s){!e.ascendants.contains(s)&&e!==s&&i.unselectBranch(s,!0)}),Q(e.ascendants.iterator(),function(s){s.closeTimeout&&(i.removeDispose(s.closeTimeout),s.closeTimeout=void 0),Xp(s.element,"active")}),this._currentSelection=e,this.events.isEnabled("branchselected"))){var r={type:"branchselected",target:this,branch:e};this.events.dispatchImmediately("branchselected",r)}},t.prototype.unselectBranch=function(e,i){if(!this.isDisposed()&&($p(e.element,"active"),e.submenuElement&&e.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var r={type:"branchunselected",target:this,branch:e};this.events.dispatchImmediately("branchunselected",r)}},t.prototype.delayUnselectBranch=function(e,i){var r=this;this.isDisposed()||(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout(function(){r.unselectBranch(e,i)},this.closeDelay),i!==!0&&e.ascendants&&Q(e.ascendants.iterator(),function(s){r.delayUnselectBranch(s,!0)}))},t.prototype.moveSelection=function(e){if(!this.isDisposed()&&this._currentSelection){var i;if(e=="up")i=this.getPrevSibling(this._currentSelection);else if(e=="down")i=this.getNextSibling(this._currentSelection);else if(e=="left"&&this.align=="right"||e=="right"&&this.align=="left"){var r=this.getSubMenu(this._currentSelection);r!=null&&(i=r[0])}else(e=="right"&&this.align=="right"||e=="left"&&this.align=="left")&&(i=this.getParentItem(this._currentSelection));i&&i!==this._currentSelection&&(this.selectBranch(i),this.setFocus(i),this._currentSelection=i)}},t.prototype.getSiblings=function(e){var i=this.getParentItem(e);return i&&i.menu?i.menu:[]},t.prototype.getParentItem=function(e){if(e.ascendants&&e.ascendants.length)return e.ascendants.getIndex(e.ascendants.length-1)},t.prototype.getNextSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var r=i.indexOf(e)+1;return r=i.length==r?0:r,i[r].unsupported?this.getNextSibling(i[r]):i[r]}else return e},t.prototype.getPrevSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var r=i.indexOf(e)-1;return r=r==-1?i.length-1:r,i[r].unsupported?this.getPrevSibling(i[r]):i[r]}else return e},t.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus()}catch{}},t.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur()}catch{}},t.prototype.hideBranch=function(e){e.element.style.display="none"},t.prototype.showBranch=function(e){e.element.style.display=""},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}(p1);function cc(n,t,e){return new Promise(function(i,r){var s=M(e)&&e.responseType=="blob",a=new XMLHttpRequest;if(a.onload=function(){if(a.status===200){var c=void 0,f;if(s){f=a.response,DT(f).then(function(g){var y={xhr:a,error:!1,response:g,blob:f,type:a.getResponseHeader("Content-Type"),target:t};i(y)});return}else c=a.responseText||a.response;var p={xhr:a,error:!1,response:c,blob:f,type:a.getResponseHeader("Content-Type"),target:t};i(p)}else r({xhr:a,error:!0,type:a.getResponseHeader("Content-Type"),target:t})},a.onerror=function(){r({xhr:a,error:!0,type:a.getResponseHeader("Content-Type"),target:t})},a.open("GET",n,!0),e&&e.withCredentials&&(a.withCredentials=!0),M(e)){if(M(e.requestHeaders))for(var o=0;o<e.requestHeaders.length;o++){var u=e.requestHeaders[o];a.setRequestHeader(u.key,u.value)}M(e.responseType)&&(a.responseType=e.responseType)}a.send()})}function DT(n){return new Promise(function(t,e){var i=new FileReader;i.onload=function(r){t(i.result)},i.onerror=function(r){e(r)},i.readAsText(n)})}var gp;function kT(){return xt(this,void 0,void 0,function(){var n,t,e,i;return mt(this,function(r){switch(r.label){case 0:return[4,Promise.all([hc(()=>import("./pdfmake-BBuQvCWd.js").then(s=>s.p),[]),hc(()=>import("./vfs_fonts-BbT5ejxm.js"),[])])];case 1:return n=r.sent(),t=n[0].default||n[0],e=n[1].default||n[1],i=window,i.pdfMake=i.pdfMake||{},i.pdfMake.vfs=e,t.vfs=e,[2,t]}})})}var _x=/src: ([^;]+);/;function OT(){return window.navigator.msSaveOrOpenBlob!=null}function TT(n){return new Promise(function(t,e){var i=new FileReader;i.onload=function(r){t(i.result)},i.onerror=function(r){e(r)},i.readAsDataURL(n)})}function MT(n){return xt(this,void 0,void 0,function(){var t;return mt(this,function(e){switch(e.label){case 0:t=n.sheet,e.label=1;case 1:return e.trys.push([1,2,,4]),[2,t.cssRules];case 2:return e.sent(),[4,new Promise(function(i,r){n.addEventListener("load",function(){i(t.cssRules)},!0),n.addEventListener("error",function(s){r(s)},!0),setTimeout(function(){r(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,e.sent()];case 4:return[2]}})})}function m1(n,t,e){return xt(this,void 0,void 0,function(){var i,r,s,a;return mt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,cc(t)];case 1:return i=o.sent(),[3,3];case 2:return r=o.sent(),console.error("Failed to load stylesheet",t,r),[2];case 3:s=n.createElement("style"),s.textContent=i.response,n.head.appendChild(s),o.label=4;case 4:return o.trys.push([4,,7,8]),[4,MT(s)];case 5:return a=o.sent(),[4,g1(n,t,a,e)];case 6:return o.sent(),[3,8];case 7:return n.head.removeChild(s),[7];case 8:return[2]}})})}function g1(n,t,e,i){return xt(this,void 0,void 0,function(){var r,s,a,o,u;return mt(this,function(c){switch(c.label){case 0:for(r=[],s=e.length,a=0;a<s;a++)o=e[a],o.type===CSSRule.IMPORT_RULE?(u=o.href,u&&(u=Mm(t,u),r.push(m1(n,u,i)))):i(t,o);return r.length?[4,Promise.all(r)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})}function FT(n){return xt(this,void 0,void 0,function(){var t,e;return mt(this,function(i){switch(i.label){case 0:t=document.createElement("iframe"),t.src="about:blank",t.setAttribute("title",""),document.head.appendChild(t),i.label=1;case 1:return i.trys.push([1,,3,4]),e=t.contentDocument,[4,Promise.all(Ul(document.styleSheets,function(r){var s=r.href;return s==null?g1(e,location.href,r.cssRules,n):(s=Mm(location.href,s),m1(e,s,n))}))];case 2:return i.sent(),[3,4];case 3:return document.head.removeChild(t),[7];case 4:return[2]}})})}var ET=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i.adapter=new rr(i),i._formatOptions=new St,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new ct,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=e,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",function(r){var s=i._formatOptions.getKey(r.type);return r.options?r.options=Ep(s,r.options):r.options=s,r}),i.applyTheme(),i.dispatchImmediately("inited"),i}return Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(e){var i=this;this._menu&&this.removeDispose(this._menu),this._menu=e,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(r){return r.branch.unsupported=!i.typeSupported(r.branch.type),r}),this._menu.events.on("hit",function(r){i.export(r.branch.type,r.branch.options),i.menu.close()}),this._menu.events.on("enter",function(r){i.export(r.branch.type,r.branch.options),i.menu.close()}),this._menu.events.on("over",function(r){i._disablePointers()}),this._menu.events.on("out",function(r){setTimeout(function(){i._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(r){return r.classPrefix=Fr.classNamePrefix+r.classPrefix,r}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),t.prototype.typeSupported=function(e){var i=!0,r=this.getFormatOptions(e);return M(r)&&r.disabled?i=!1:e==="pdf"||(e==="xlsx"?i=!!this._hasData():(e=="print"&&!window.print||["json","csv","html","pdfdata"].indexOf(e)!==-1&&!this._hasData())&&(i=!1)),this.adapter.apply("supported",{supported:i,type:e}).supported},t.prototype._hasData=function(){return this.data&&this.data.length},t.prototype._getFunction=function(e){switch(e){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},t.prototype.export=function(e,i){return xt(this,void 0,void 0,function(){var r,s,a,o,u,c=this;return mt(this,function(f){switch(f.label){case 0:return e=="custom"?(this.handleCustom(i),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(r={type:"exportstarted",target:this,format:e,options:i},this.events.dispatchImmediately("exportstarted",r)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){if(c.events.isEnabled("exporttimedout")){var p={type:"exporttimedout",target:c,format:e,options:i};c.events.dispatchImmediately("exporttimedout",p)}c.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),s=this._getFunction(e),i=this.adapter.apply("options",{options:i,type:e}).options,s=this.adapter.apply("exportFunction",{func:s,type:e,options:i}).func,[4,s.call(this,e,i)]);case 1:return a=f.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),a?(this.events.isEnabled("exportfinished")&&(o={type:"exportfinished",target:this,format:e,options:i},this.events.dispatchImmediately("exportfinished",o)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),e==="print"?[2,this.print(a,i,this.adapter.apply("title",{title:this.title,options:i}).title)]:e=="pdfdata"?[2,this.download(a,this.filePrefix+".pdf")]:[2,this.download(a,this.filePrefix+"."+e,i&&i.addBOM)]):(this.events.isEnabled("error")&&(u={type:"error",target:this,format:e,options:i},this.events.dispatchImmediately("error",u)),[2,!1])}})})},t.prototype.unsupported=function(e,i){return xt(this,void 0,void 0,function(){return mt(this,function(r){return[2,""]})})},t.prototype.handleCustom=function(e){M(e)&&M(e.callback)&&e.callback.call(e.callbackTarget||this,e)},t.prototype.getPrint=function(e,i){return xt(this,void 0,void 0,function(){return mt(this,function(r){return[2,this.getImage("png",i)]})})},t.prototype.getFontFamilies=function(){return xt(this,void 0,void 0,function(){var e,i,r,s,a=this;return mt(this,function(o){switch(o.label){case 0:return e=this.getDOMURL(),i=[],r=[],[4,FT(function(u,c){if(c.type===CSSRule.FONT_FACE_RULE){var f=c.cssText,p=_x.exec(f);if(p!==null){var g=p[1].split(/ *, */).map(function(y){return xt(a,void 0,void 0,function(){var b,x,w,P,S,k;return mt(this,function(T){switch(T.label){case 0:return b=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(y),b!==null?[3,1]:[2,y];case 1:if(x=b[2],w=Mm(u,b[1]),this.webFontFilter&&!w.match(this.webFontFilter))return[2,null];T.label=2;case 2:return T.trys.push([2,7,,8]),[4,cc(w,void 0,{responseType:"blob"})];case 3:return P=T.sent(),OT()?(S=e.createObjectURL(P.blob),i.push(S),[3,6]):[3,4];case 4:return[4,TT(P.blob)];case 5:S=T.sent(),T.label=6;case 6:return[2,'url("'+S+'")'+x];case 7:return k=T.sent(),console.error("Failed to load font",w,k),[2,null];case 8:return[2]}})})});r.push(Promise.all(g).then(function(y){return y=y.filter(function(b){return b!=null}),y.length===0?"":f.replace(_x,"src: "+y.join(", ")+";")}))}}})];case 1:return o.sent(),[4,Promise.all(r)];case 2:return s=o.sent(),[2,{blobs:i,cssText:s.filter(function(u){return!!u}).join(`
`)}]}})})},t.prototype.getImage=function(e,i,r){return xt(this,void 0,void 0,function(){var s,a,o,u,c,f,f;return mt(this,function(p){switch(p.label){case 0:return s=this._objectsAlreadyHidden,s||this.hideNonExportableSprites(),M(i)||(i=this.getFormatOptions(e)),[4,this.awaitValidSprites()];case 1:return p.sent(),[4,this.simplifiedImageExport()];case 2:if(!p.sent())return[3,10];a=void 0,p.label=3;case 3:return p.trys.push([3,7,,9]),[4,this.getCanvas(i)];case 4:return a=p.sent(),r===!1?[3,6]:[4,this.addExtras(a,i)];case 5:o=p.sent(),this.disposeCanvas(a),a=o,p.label=6;case 6:return u=a.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(a),s||this.restoreNonExportableSprites(),[2,u];case 7:return c=p.sent(),console.error(c.message+`
`+c.stack),Am("Simple export failed, falling back to advanced export"),a&&this.disposeCanvas(a),[4,this.getImageAdvanced(e,i,r)];case 8:return f=p.sent(),s||this.restoreNonExportableSprites(),[2,f];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(e,i,r)];case 11:return f=p.sent(),s||this.restoreNonExportableSprites(),[2,f];case 12:return[2]}})})},t.prototype.addExtras=function(e,i,r){return xt(this,void 0,void 0,function(){var s,a,o,u,c,f,p,g,y,b,x,w,P,S,k=this;return mt(this,function(T){switch(T.label){case 0:return this.extraSprites.length?(s=0,a=0,o=e.width,u=e.height,c=0,f=0,[4,Promise.all(Ul(this.extraSprites,function(j){return xt(k,void 0,void 0,function(){var V,A,I,L;return mt(this,function(J){switch(J.label){case 0:return j instanceof Ye?V={sprite:j,position:"bottom"}:V=j,V.position=V.position||"bottom",V.marginTop=V.marginTop||0,V.marginRight=V.marginRight||0,V.marginBottom=V.marginBottom||0,V.marginLeft=V.marginLeft||0,r?[4,V.sprite.exporting.getCanvasAdvanced(i)]:[3,2];case 1:return A=J.sent(),[3,4];case 2:return[4,V.sprite.exporting.getCanvas(i)];case 3:A=J.sent(),J.label=4;case 4:return I=A.width+V.marginLeft+V.marginRight,L=A.height+V.marginTop+V.marginBottom,V.position=="top"?(o=V.crop?u:We(o,I),a+=L):V.position=="right"?(u=V.crop?u:We(u,L),c+=I):V.position=="left"?(u=V.crop?u:We(u,L),s+=I):V.position==="bottom"&&(o=V.crop?u:We(o,I),f+=L),[2,{canvas:A,position:V.position,left:V.marginLeft,top:V.marginTop,width:I,height:L}]}})})}))]):[3,2];case 1:return p=T.sent(),g=this.getDisposableCanvas(),g.width=s+o+c,g.height=a+u+f,y=g.getContext("2d"),b=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),b&&(y.fillStyle=b.toString(),y.fillRect(0,0,g.width,g.height)),x=s,w=a,P=x+o,S=w+u,ce(p,function(j){j.position=="top"?(w-=j.height,y.drawImage(j.canvas,s+j.left,w+j.top)):j.position=="right"?(y.drawImage(j.canvas,P+j.left,a+j.top),P+=j.width):j.position=="left"?(x-=j.width,y.drawImage(j.canvas,x+j.left,a+j.top)):j.position==="bottom"&&(y.drawImage(j.canvas,s+j.left,S+j.top),S+=j.height),k.disposeCanvas(j.canvas)}),y.drawImage(e,s,a),[2,g];case 2:return[2,e]}})})},t.prototype.getCanvas=function(e){return xt(this,void 0,void 0,function(){var i,r,s,a,o,u,c,f,p,g,y,b,x,w,P,S,k;return mt(this,function(T){switch(T.label){case 0:M(e)||(e={}),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),r=this.getDOMURL(),s=null,a=null,T.label=1;case 1:return T.trys.push([1,,4,5]),u=this.sprite.pixelWidth,c=this.sprite.pixelHeight,f=Ih(this.sprite.dom),p=Rh(this.sprite.dom),g=e.scale||1,y=this.getPixelRatio(e),g=this.getAdjustedScale(u*y,c*y,g,e),o=this.getDisposableCanvas(),o.style.width=u*g+"px",o.style.height=c*g+"px",o.width=u*g,o.height=c*g,b=o.getContext("2d"),i&&(b.fillStyle=i.toString(),b.fillRect(0,0,u*g,c*g)),x=[],this.useWebFonts&&x.push(this.getFontFamilies().then(function(j){return a=j.blobs,j.cssText})),x.push(this.imagesToDataURI(this.sprite.dom,e)),x.push(this.prepForeignObjects(this.sprite.dom,e)),[4,Promise.all(x)];case 2:return w=T.sent(),P=this.normalizeSVG("<style>"+w[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,u,c,g,f,p),S=new Blob([P],{type:"image/svg+xml"}),s=r.createObjectURL(S),[4,this.loadNewImage(s,u*g*y,c*g*y,"anonymous")];case 3:return k=T.sent(),b.drawImage(k,0,0),[3,5];case 4:return s!==null&&r.revokeObjectURL(s),a!==null&&ce(a,function(j){r.revokeObjectURL(j)}),this.restoreRemovedObjects(),[7];case 5:return[2,o]}})})},t.prototype.getCanvasAdvanced=function(e){return xt(this,void 0,void 0,function(){var i,r,s,a,o,u,c,f,p,g,y;return mt(this,function(b){switch(b.label){case 0:return M(e)||(e={}),[4,this.imagesToDataURI(this.sprite.dom,e)];case 1:return b.sent(),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return r=b.sent(),s=this.sprite.pixelWidth,a=this.sprite.pixelHeight,o=Ih(this.sprite.dom),u=Rh(this.sprite.dom),c=e.scale||1,f=this.getPixelRatio(e),c=this.getAdjustedScale(s*f,a*f,c,e),p=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,s,a,c,o,u,i),g=this.getDisposableCanvas(),g.style.width=s*f*c+"px",g.style.height=a*f*c+"px",g.width=s*f*c,g.height=a*f*c,y={useCORS:!0},f!=1&&(y.ignoreDimensions=!0,y.scaleWidth=s*f*c,y.scaleHeight=a*f*c),[4,r.fromString(g.getContext("2d"),p,y).render()];case 3:return b.sent(),[2,g]}})})},t.prototype.getImageAdvanced=function(e,i,r){return xt(this,void 0,void 0,function(){var s,a,o;return mt(this,function(u){switch(u.label){case 0:return s=this._objectsAlreadyHidden,s||this.hideNonExportableSprites(),M(i)||(i=this.getFormatOptions(e)),[4,this.getCanvasAdvanced(i)];case 1:return a=u.sent(),r===!1?[3,3]:[4,this.addExtras(a,i,!0)];case 2:a=u.sent(),u.label=3;case 3:return o=a.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(a),s||this.restoreNonExportableSprites(),[2,o]}})})},t.prototype.getDisposableCanvas=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="-10000px",document.body.appendChild(e),e},t.prototype.disposeCanvas=function(e){document.body.contains(e)&&document.body.removeChild(e)},t.prototype.getPixelRatio=function(e){return this.useRetina?cO():1},t.prototype.getAdjustedScale=function(e,i,r,s){if(!s)return r;var a=e*r,o=e*r,u,c;return s.maxWidth&&a>s.maxWidth&&(u=s.maxWidth/e),s.maxHeight&&o>s.maxHeight&&(c=s.maxHeight/i),u||c?ot(u,c):(s.minWidth&&a<s.minWidth&&(u=s.minWidth/e),s.minHeight&&o<s.minHeight&&(c=s.minHeight/i),u||c?We(u,c):r)},t.prototype.imagesToDataURI=function(e,i){return xt(this,void 0,void 0,function(){var r,s,a,o,u,c;return mt(this,function(f){switch(f.label){case 0:if(r=e.querySelectorAll("image"),!r.length)return[3,2];for(s=[],a=r.length,o=0;o<a;o++)u=r[o],c=u.getAttributeNS(t.XLINK,"href"),c&&(c.indexOf("data:image")!==-1||(c.indexOf(".svg")!==-1?s.push(this.svgToDataURI(u,i)):s.push(this.imageToDataURI(u,i))));return[4,Promise.all(s)];case 1:return f.sent(),[2];case 2:return[2]}})})},t.prototype.prepForeignObjects=function(e,i){return xt(this,void 0,void 0,function(){var r,s,a;return mt(this,function(o){if(r=e.querySelectorAll("foreignObject"),r.length)for(s=r.length,a=0;a<s;a++)this.temporarilyRemoveObject(r[a]);return[2]})})},t.prototype.imageToDataURI=function(e,i){return xt(this,void 0,void 0,function(){var r,s,a;return mt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.loadNewImage(e.getAttributeNS(t.XLINK,"href"),null,null,"anonymous")];case 1:r=o.sent(),s=document.createElement("canvas"),s.width=r.width,s.height=r.height,s.getContext("2d").drawImage(r,0,0);try{return a=s.toDataURL(),e.setAttribute("href",a),[2,a]}catch{return i.keepTainted!==!1&&this.temporarilyRemoveObject(e),[2,void 0]}return[3,3];case 2:return o.sent(),(!i||i.keepTainted!==!1)&&this.temporarilyRemoveObject(e),[2,void 0];case 3:return[2]}})})},t.prototype.svgToDataURI=function(e,i){return xt(this,void 0,void 0,function(){var r,s,a,o;return mt(this,function(u){switch(u.label){case 0:r=e.getAttributeNS(t.XLINK,"href"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,cc(r)];case 2:return s=u.sent(),a=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,o=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+a+","+btoa(s.response),options:i}).data,e.setAttributeNS(t.XLINK,"href",o),[2,o];case 3:return u.sent(),(!i||i.keepTainted!==!1)&&this.temporarilyRemoveObject(e),[2,void 0];case 4:return[2]}})})},t.prototype.temporarilyRemoveObject=function(e,i){var r=e.parentElement||e.parentNode;i||(i=this.sprite.paper.add("g").node),r.insertBefore(i,e),e.textContent,r.removeChild(e),this._removedObjects.push({element:e,placeholder:i})},t.prototype.restoreRemovedObjects=function(){for(var e;e=this._removedObjects.pop(),!!e;){var i=e.placeholder.parentElement||e.placeholder.parentNode;i.insertBefore(e.element,e.placeholder)}},t.prototype.simplifiedImageExport=function(){return xt(this,void 0,void 0,function(){var e,i,r,s,a,o,u;return mt(this,function(c){switch(c.label){case 0:if(this.useSimplifiedExport===!1)return[2,!1];if(e=F.getCache("simplifiedImageExport"),e===!1||e===!0)return[2,e];c.label=1;case 1:c.trys.push([1,6,,7]),i=document.createElement("canvas"),i.width=1,i.height=1,r=i.getContext("2d"),s=this.getDOMURL(),a=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),o=s.createObjectURL(a),u=void 0,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.loadNewImage(o,1,1)];case 3:return u=c.sent(),[3,5];case 4:return c.sent(),[2,!1];case 5:r.drawImage(u,0,0),s.revokeObjectURL(o);try{return F.setCache("simplifiedImageExport",!0),[2,!0]}catch{return F.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return c.sent(),F.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}})})},t.prototype.loadNewImage=function(e,i,r,s){return new Promise(function(a,o){var u;i&&r?u=new Image(i,r):u=new Image,s&&u.setAttribute("crossOrigin",s),u.onload=function(){a(u)};function c(){if(s){var f=u.src;u.onerror=function(){o(new Error('Loading image "'+e+'" failed'))},u.removeAttribute("crossorigin"),u.src="",u.src=f}else o(new Error('Loading image "'+e+'" failed'))}u.onabort=c,u.onerror=c,u.src=e})},t.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},t.prototype.getSVG=function(e,i,r){return r===void 0&&(r=!0),xt(this,void 0,void 0,function(){var s,a,o,u,c,f,p,g,y,b;return mt(this,function(x){switch(x.label){case 0:return s=this._objectsAlreadyHidden,s||this.hideNonExportableSprites(),M(i)||(i=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return x.sent(),a=this.sprite.pixelWidth,o=this.sprite.pixelHeight,u=Ih(this.sprite.dom),c=Rh(this.sprite.dom),f=i.scale||1,p=this.getPixelRatio(i),f=this.getAdjustedScale(a*p,o*p,f,i),g=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),i,a,o,f,u,c),y=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:i}).charset,b=this.adapter.apply("getSVG",{data:r?"data:"+this.getContentType(e)+";"+y+","+encodeURIComponent(g):g,options:i}).data,s||this.restoreNonExportableSprites(),[2,b]}})})},t.prototype.normalizeSVG=function(e,i,r,s,a,o,u,c){var f="";r&&(f+='width="'+Math.round(r*(a||1))+'px" '),s&&(f+='height="'+Math.round(s*(a||1))+'px" ');var p="";o&&(p+="font-family: "+o.replace(/"/g,"")+";"),u&&(p+="font-size: "+u+";"),a&&(f+='viewBox="0 0 '+r+" "+s+'" ');var g=[],y=e.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(y)for(var b=0;b<y.length;b++)e=e.replace(y[b],gr),g.push(y[b]);e.match(/<svg/)?f!==""&&(e=e.replace(/(<svg[^>]*)width="[^"]*"/,"$1"),e=e.replace(/(<svg[^>]*)height="[^"]*"/,"$1"),e=e.replace(/(<svg)/,"$1"+f)):e='<?xml version="1.0" encoding="utf-8"?><svg '+f+' style="'+p+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",c&&(e=e.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+c.rgba+'"/>')),uO()&&(e=e.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var x=new RegExp("url\\("+Lp(ml()),"g");if(e=e.replace(x,"url(#"),e=e.replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),g.length)for(var b=0;b<g.length;b++)e=e.replace(gr,g[b]);return e=this.adapter.apply("normalizeSVG",{data:e,options:i}).data,e},t.prototype.serializeElement=function(e){return new XMLSerializer().serializeToString(e)},t.prototype.getPDF=function(e,i){return xt(this,void 0,void 0,function(){function r(w){var P={};P.normal=w.normal.path,x[w.normal.path]=w.normal.bytes,w.bold?(P.bold=w.bold.path,x[w.bold.path]=w.bold.bytes):P.bold=w.normal.path,w.italics?(P.italics=w.italics.path,x[w.italics.path]=w.italics.bytes):P.italics=w.normal.path,w.bolditalics?(P.bolditalics=w.bolditalics.path,x[w.bolditalics.path]=w.bolditalics.bytes):P.bolditalics=w.normal.path,b[w.name]=P}var s,a,o,u,c,f,p,g,y,b,x;return mt(this,function(w){switch(w.label){case 0:return[4,this.getImage(i.imageFormat||"png",i)];case 1:return s=w.sent(),[4,this.pdfmake];case 2:return a=w.sent(),o=[30,30,30,30],u={pageSize:i.pageSize||"A4",pageOrientation:i.pageOrientation||"portrait",pageMargins:i.pageMargins||o,defaultStyle:{font:i.font?i.font.name:void 0},content:[]},c=this.adapter.apply("title",{title:this.title,options:i}).title,f=0,c&&(u.content.push({text:c,fontSize:i.fontSize||14,bold:!0,margin:[0,0,0,15]}),f+=50),i.addURL&&(u.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:i.fontSize,margin:[0,0,0,15]}),f+=50),e!="pdfdata"&&u.content.push({image:s,alignment:i.align||"left",fit:this.getPageSizeFit(u.pageSize,u.pageMargins,f)}),e=="pdfdata"||i.addData?(g=(p=u.content).push,y={},[4,this.getPDFData("pdf",i)]):[3,4];case 3:g.apply(p,[(y.table=w.sent(),y.fontSize=i.fontSize||14,y)]),w.label=4;case 4:return u=this.adapter.apply("pdfmakeDocument",{doc:u,options:i}).doc,b=null,x=null,i.font&&(b={},x={},r(i.font),i.extraFonts&&ce(i.extraFonts,r)),[4,new Promise(function(P,S){a.createPdf(u,null,b,x).getDataUrl(function(k){P(k)})})];case 5:return[2,w.sent()]}})})},t.prototype.getPDFData=function(e,i){return xt(this,void 0,void 0,function(){var r,s,a,o,u,c,f=this;return mt(this,function(p){if(r={body:[]},s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,a=this.data,i.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,Rn(s,function(g,y){var b=[];i.addColumnNames&&b.push(y);for(var x=a.length,w=0;w<x;w++){var P=a[w][g];b.push(f.convertToSpecialFormat(g,P,i,!0))}r.body.push(f.getPDFDataRow(b,i,void 0,!0))},function(g,y){var b=o.indexOf(g),x=o.indexOf(y);return b>x?1:b<x?-1:0});else for(i.addColumnNames&&(r.body.push(this.getPDFDataRow(s,i,void 0,!0)),r.headerRows=1),u=a.length,c=0;c<u;c++)r.body.push(this.getPDFDataRow(a[c],i,s));return[2,this.adapter.apply("pdfmakeTable",{table:r,options:i}).table]})})},t.prototype.getPDFDataRow=function(e,i,r,s){var a=this;s===void 0&&(s=!1);var o=[];r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return Rn(r,function(c,f){var p=a.convertEmptyValue(c,e[c],i),g=s?p:a.convertToSpecialFormat(c,p,i);g=""+g,o.push(g)},function(c,f){var p=u.indexOf(c),g=u.indexOf(f);return p>g?1:p<g?-1:0}),o},t.prototype.getPageSizeFit=function(e,i,r){r===void 0&&(r=0);var s=[0,0,0,0];typeof i=="number"?s=[i,i,i,i]:i.length==2?s=[i[0],i[1],i[0],i[1]]:i.length==4&&(s=i);var a={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},o=a[e];return o[0]-=s[0]+s[2],o[1]-=s[1]+s[3]+r,o},t.prototype.getExcel=function(e,i){return xt(this,void 0,void 0,function(){var r,s,a,o,u,c,f,p,g,y,b=this;return mt(this,function(x){switch(x.label){case 0:return M(i)||(i=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(r=x.sent(),s=this.adapter.apply("xlsxWorkbookOptions",{xlsx:r,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,a=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:r,name:this.title||this.language.translate("Data")}).name),o={SheetNames:[a],Sheets:{}},u=[],c=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,i.pivot)f=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,Rn(c,function(w,P){var S=[];i.addColumnNames&&S.push(P);for(var k=b.data.length,T=0;T<k;T++){var j=b.data[T][w];S.push(b.convertToSpecialFormat(w,j,i,!0))}u.push(b.getExcelRow(S,i,void 0,!0))},function(w,P){var S=f.indexOf(w),k=f.indexOf(P);return S>k?1:S<k?-1:0});else for(i.addColumnNames&&u.push(this.getExcelRow(c,i,void 0,!0)),p=this.data.length,g=0;g<p;g++)u.push(this.getExcelRow(this.data[g],i,c));return o.Sheets[a]=r.utils.aoa_to_sheet(u),o=this.adapter.apply("xlsxWorkbook",{xlsx:r,workbook:o,options:i}).workbook,y=this.adapter.apply("getExcel",{data:"data:"+this.getContentType(e)+";base64,"+r.write(o,s),options:i}).data,[2,y]}})})},t.prototype.normalizeExcelSheetName=function(e){return e=e.replace(/([:\\\/?*\[\]]+)/g," "),zp(e,31,"...",!0)},t.prototype.getExcelRow=function(e,i,r,s){var a=this;s===void 0&&(s=!1);var o=[];r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return Rn(r,function(c,f){var p=a.convertEmptyValue(c,e[c],i),g=s?p:a.convertToSpecialFormat(c,p,i,!0);o.push(g)},function(c,f){var p=u.indexOf(c),g=u.indexOf(f);return p>g?1:p<g?-1:0}),o},t.prototype.getCSV=function(e,i,r){return r===void 0&&(r=!0),xt(this,void 0,void 0,function(){var s,a,o,u,c,f,p,g,y,b,x=this;return mt(this,function(w){if(M(i)||(i=this.getFormatOptions("csv")),s="",a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,o="",u=this.data,i.pivot)c=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,Rn(a,function(P,S){var k=[];i.addColumnNames&&k.push(S);for(var T=u.length,j=0;j<T;j++){var V=u[j][P];k.push(x.convertToSpecialFormat(P,V,i,!0))}s+=o+x.getCSVRow(k,i,void 0,!0),o=`
`},function(P,S){var k=c.indexOf(P),T=c.indexOf(S);return k>T?-1:k<T?1:0});else{for(f=u.length,p=0;p<f;p++)g=this.getCSVRow(u[p],i,a),i.reverse?s=g+o+s:s+=o+g,o=`
`;i.addColumnNames&&(s=this.getCSVRow(a,i,void 0,!0)+o+s)}return y=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,b=this.adapter.apply("getCSV",{data:r?"data:"+this.getContentType(e)+";"+y+","+encodeURIComponent(s):s,options:i}).data,[2,b]})})},t.prototype.getCSVRow=function(e,i,r,s){var a=this;s===void 0&&(s=!1);var o=i.separator||",",u=[];r||(r=e);var c=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return Rn(r,function(f,p){var g=a.convertEmptyValue(f,e[f],i),y=s?g:a.convertToSpecialFormat(f,g,i);y=""+y,y=y.replace(/"/g,'""'),(i.forceQuotes||y.search(new RegExp(`"|
|`+o,"g"))>=0)&&(y='"'+y+'"'),u.push(y)},function(f,p){var g=c.indexOf(f),y=c.indexOf(p);return g>y?1:g<y?-1:0}),u.join(o)},t.prototype.getHTML=function(e,i,r){return r===void 0&&(r=!0),xt(this,void 0,void 0,function(){var s,a,o,u,c,f,p,g,y=this;return mt(this,function(b){if(M(i)||(i=this.getFormatOptions("html")),s="<table>",i.tableClass&&(s='<table class="'+i.tableClass+'">'),a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,o=this.data,i.pivot)u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,s+=`
<tbody>`,Rn(a,function(x,w){var P=[];i.addColumnNames&&P.push(w);for(var S=o.length,k=0;k<S;k++){var T=o[k][x];P.push(y.convertToSpecialFormat(x,T,i,!0))}s+=`
`+y.getHTMLRow(P,i,void 0,!0)},function(x,w){var P=u.indexOf(x),S=u.indexOf(w);return P>S?-1:P<S?1:0}),s+=`
</tbody>`;else{for(i.addColumnNames&&(s+=`
<thead>
`+this.getHTMLRow(a,i,void 0,!0,!0)+`
</thead>`),s+=`
<tbody>`,c=o.length,f=0;f<c;f++)s+=`
`+this.getHTMLRow(o[f],i,a);s+=`
</tbody>`}return s+=`
</table>`,p=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,g=this.adapter.apply("getHTML",{data:r?"data:"+this.getContentType(e)+";"+p+","+encodeURIComponent(s):s,options:i}).data,[2,g]})})},t.prototype.getHTMLRow=function(e,i,r,s,a){var o=this;s===void 0&&(s=!1),a===void 0&&(a=!1);var u="	<tr>";i.rowClass&&(u='	<tr class="'+i.rowClass+'">'),r||(r=e);var c=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,f=a?"th":"td",p=!0;return Rn(r,function(g,y){var b=o.convertEmptyValue(g,e[g],i),x=s?b:o.convertToSpecialFormat(g,b,i);x=""+x,x=x.replace(/[\u00A0-\u9999<>\&]/gim,function(P){return"&#"+P.charCodeAt(0)+";"});var w=f;i.pivot&&p&&(w="th"),i.cellClass?u+=`
		<`+w+' class="'+i.cellClass+'">'+x+"</"+w+">":u+=`
		<`+w+">"+x+"</"+w+">",p=!1},function(g,y){var b=c.indexOf(g),x=c.indexOf(y);return b>x?1:b<x?-1:0}),u+=`
	</tr>`,u},t.prototype.getJSON=function(e,i,r){return r===void 0&&(r=!0),xt(this,void 0,void 0,function(){var s,a,o,u,c,f,p,g,y,b=this;return mt(this,function(x){if(M(i)||(i=this.getFormatOptions("json")),a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)s=this.data;else for(s=[],o=this.data,u=function(w,P){var S=o[P];if(typeof S=="object"){var k={};Ve(S,function(T,j){M(a[T])&&(k[a[T]]=b.convertToSpecialFormat(T,j,i))}),s.push(k)}},c=o.length,f=0;f<c;f++)u(c,f);return p=JSON.stringify(s,function(w,P){return typeof P=="object"&&Ve(P,function(S,k){P[S]=b.convertToSpecialFormat(S,k,i)}),P},i.indent),g=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,y=this.adapter.apply("getJSON",{data:r?"data:"+this.getContentType(e)+";"+g+","+encodeURIComponent(p):p,options:i}).data,[2,y]})})},t.prototype.convertToSpecialFormat=function(e,i,r,s){if(typeof i=="number")if(this.isDateField(e))i=new Date(i);else{if(this.isDurationField(e))return this.durationFormatter.format(i,this.durationFormat);if(this.isNumberField(e)&&this.numberFormat)return this.numberFormatter.format(i,this.numberFormat)}return i instanceof Date?r.useTimestamps?i=i.getTime():r.useLocale?s||(i=i.toLocaleString()):i=this.dateFormatter.format(i,this.dateFormat):at(i)&&this.isDateField(e)&&this.dateFormat&&(i=this.dateFormatter.format(this.dateFormatter.parse(i),this.dateFormat)),i},t.prototype.convertEmptyValue=function(e,i,r){return M(i)?i:r.emptyAs},t.prototype.download=function(e,i,r){return r===void 0&&(r=!1),xt(this,void 0,void 0,function(){var w,P,o,s,f,p,g,y,a,w,P,o,u,c,f,p,g,y,b,x,w,P,S,k;return mt(this,function(T){if(this.msBlobDownloadSupport()){if(w=e.split(";"),P=w.shift().replace(/data:/,""),e=decodeURIComponent(w.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv"].indexOf(P)==-1)try{o=atob(e),e=o}catch{return[2,!1]}else return s=new Blob([e],{type:P}),window.navigator.msSaveBlob(s,i),[2,!0];for(f=new Array(e.length),p=0;p<e.length;++p)g=e.charCodeAt(p),f[p]=g;y=new Blob([new Uint8Array(f)],{type:P}),window.navigator.msSaveBlob(y,i)}else if(this.blobDownloadSupport()){if(a=document.createElement("a"),a.download=i,document.body.appendChild(a),w=e.split(";"),P=w.shift().replace(/data:/,""),e=decodeURIComponent(w.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv","text/html"].indexOf(P)==-1)try{o=atob(e),e=o}catch{return[2,!1]}else return r&&(e="\uFEFF"+e),u=new Blob([e],{type:P}),c=window.URL.createObjectURL(u),a.href=c,a.download=i,a.click(),setTimeout(function(){document.body.removeChild(a),window.URL.revokeObjectURL(c)},100),[2,!0];for(f=new Array(e.length),p=0;p<e.length;++p)g=e.charCodeAt(p),f[p]=g;r&&(f=[239,187,191].concat(f)),y=new Blob([new Uint8Array(f)],{type:P}),b=window.URL.createObjectURL(y),a.href=b,a.download=i,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(function(){window.URL.revokeObjectURL(b)},100)}else this.linkDownloadSupport()?(x=document.createElement("a"),x.download=i,x.href=e,document.body.appendChild(x),x.click(),document.body.removeChild(x)):this.legacyIE()?(w=e.match(/^data:(.*);[ ]*([^,]*),(.*)$/),w.length===4&&(w[2]=="base64"?w[1].match(/^image\//)&&this.showModal('<img src="'+e+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(P=void 0,i.match(/\.svg$/)?P="image/svg+xml":(P="text/plain",i+=".txt"),S=document.createElement("iframe"),S.width="1px",S.height="1px",S.style.display="none",document.body.appendChild(S),k=S.contentDocument,k.open(P,"replace"),k.write(decodeURIComponent(w[3])),k.close(),k.execCommand("SaveAs",!0,i),document.body.removeChild(S)))):window.location.href=e;return[2,!0]})})},t.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},t.prototype.linkDownloadSupport=function(){var e=F.getCache("linkDownloadSupport");if(e===!1||e===!0)return e;var i=document.createElement("a"),r=typeof i.download<"u";return F.setCache("linkDownloadSupport",r),r},t.prototype.blobDownloadSupport=function(){return M(window.Blob)},t.prototype.msBlobDownloadSupport=function(){return M(window.navigator.msSaveOrOpenBlob)},t.prototype.legacyIE=function(){var e=document.createElement("div");return e.innerHTML="<!--[if lt IE 10]><i></i><![endif]-->",e.getElementsByTagName("i").length==1},t.prototype.print=function(e,i,r){return xt(this,void 0,void 0,function(){return mt(this,function(s){return i.printMethod=="css"?[2,this.printViaCSS(e,i,r)]:[2,this.printViaIframe(e,i,r)]})})},t.prototype.printViaCSS=function(e,i,r){return xt(this,void 0,void 0,function(){var s,a,o,u,c;return mt(this,function(f){return s=document.documentElement.scrollTop||document.body.scrollTop,a=new wt(Vm(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),r&&document&&document.title&&(o=document.title,document.title=r),u=new Image,u.src=e,u.style.maxWidth="100%",u.style.display="block",u.style.position="relative",u.style.visibility="visible",u.style.opacity="1",u.style.clipPath="none",document.body.appendChild(u),this.setTimeout(function(){window.print()},50),c=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,c&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(u),a.dispose(),o&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=s},i.delay||500),[2,!0]})})},t.prototype.printViaIframe=function(e,i,r){return xt(this,void 0,void 0,function(){var s,a,o;return mt(this,function(u){return s=document.createElement("iframe"),s.style.visibility="hidden",document.body.appendChild(s),s.contentWindow.document.open(),s.contentWindow.document.close(),a=new Image,a.src=e,a.style.maxWidth="100%",a.style.height="auto",r&&(s.contentWindow.document.title=r),s.contentWindow.document.body.appendChild(a),s.load=function(){s.contentWindow.document.body.appendChild(a)},this.setTimeout(function(){try{s.contentWindow.document.execCommand("print",!1,null)||s.contentWindow.print()}catch{s.contentWindow.print()}},i.delay||50),o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(s)},i.delay+50||100),[2,!0]})})},t.prototype.findBackgroundColor=function(e){var i=1,r=Em(e,"background-color");if((r.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||r=="transparent")&&(i=0),i==0){var s=e.parentElement;return s?this.findBackgroundColor(s):Oe("#fff")}else return Oe(r,i)},Object.defineProperty(t.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(e){this._container=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(e){this._sprite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(e){this._extraSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(e){this._validateSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(e){this._dataFields=e,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),t.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var e=this.data.length>0;this._prevHasData!=e&&(this._prevHasData=e,this.menu&&this.menu.invalidate())},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new $l,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new ct),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(e){this._dateFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new Im,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(e){this._numberFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new ct),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(e){this._numberFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new Rm,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(e){this._durationFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(e){this._durationFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new ct),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(e){this._durationFields=e},enumerable:!0,configurable:!0}),t.prototype.generateDataFields=function(){var e=this;this._dataFields={},this.data.length&&ce(this.data,function(i){Ve(i,function(r,s){M(e._dataFields[r])||(e._dataFields[r]=e.adapter.apply("dataFieldName",{name:r,field:r}).name)})})},t.prototype.isDateField=function(e){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(e),field:e}).isDateField},t.prototype.isNumberField=function(e){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(e),field:e}).isNumberField},t.prototype.isDurationField=function(e){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(e),field:e}).isDurationField},t.prototype.getContentType=function(e){var i="";switch(e){case"png":case"gif":i="image/"+e;break;case"jpg":i="image/jpeg";break;case"svg":i="image/svg+xml";break;case"csv":i="text/csv";break;case"json":i="application/json";break;case"html":i="text/html";break;case"pdf":case"pdfdata":i="application/pdf";break;case"xlsx":i="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break}return this.adapter.apply("contentType",{contentType:i,type:e}).contentType},Object.defineProperty(t.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(e){this._filePrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(e){this._backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),t.prototype.showPreloader=function(){var e=this.preloader;e&&(e.progress=.5,e.label.text="...")},t.prototype.hidePreloader=function(){var e=this.preloader;e&&(e.progress=1)},Object.defineProperty(t.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),t.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},t.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this._language=new js),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal||(this._modal=new h1,this._modal.adapter.add("classPrefix",function(e){return e=Fr.classNamePrefix+e,e})),this._modal},enumerable:!0,configurable:!0}),t.prototype.showModal=function(e,i){this.hideModal(),this.hidePreloader();var r=this.modal;r.container=this.sprite.svgContainer.SVGContainer,r.content=e,r.readerTitle=i,r.open()},t.prototype.hideModal=function(){this._modal&&this.modal.close()},t.prototype._canvg=function(){return xt(this,void 0,void 0,function(){var e;return mt(this,function(i){switch(i.label){case 0:return[4,hc(()=>import("./index-CcI_y6Tx.js"),[])];case 1:return e=i.sent(),e.default!=null?[2,e.default]:[2,e]}})})},Object.defineProperty(t.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfmake",{get:function(){return gp==null&&(gp=kT()),gp},enumerable:!0,configurable:!0}),t.prototype._xlsx=function(){return xt(this,void 0,void 0,function(){return mt(this,function(e){switch(e.label){case 0:return[4,hc(()=>import("./xlsx-BcTeequp.js"),[])];case 1:return[2,e.sent()]}})})},Object.defineProperty(t.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),t.prototype.setFormatOptions=function(e,i){this._formatOptions.setKey(e,i)},t.prototype.getFormatOptions=function(e){return this._formatOptions.getKey(e)},Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),t.prototype._disablePointers=function(){M(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},t.prototype._releasePointers=function(){M(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},t.prototype.hideNonExportableSprites=function(){var e=this;if(!this._objectsAlreadyHidden){var i=this.sprite.svgContainer;i&&ce(i.nonExportableSprites,function(r){!r.isHidden&&!r.isHiding&&r.visible&&e._hiddenObjects.push(r),r.hide(0)}),this._objectsAlreadyHidden=!0}},t.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(ce(this._hiddenObjects,function(e){e.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},t.prototype.awaitValidSprites=function(){return xt(this,void 0,void 0,function(){var e;return mt(this,function(i){switch(i.label){case 0:return e=[],this.validateSprites.length&&ce(this.validateSprites,function(r,s){r.invalid&&e.push(new Promise(function(a,o){r.events.once("validated",function(u){a()})}))}),e.length?[4,Promise.all(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.processConfig=function(e){F.registeredClasses.ExportMenu=jT,e&&(M(e.menu)&&!M(e.menu.type)&&(e.menu.type="ExportMenu"),M(e.dataFields)&&Ot(e.dataFields)&&(this.dataFields=e.dataFields,delete e.dataFields)),n.prototype.processConfig.call(this,e)},t.XLINK="http://www.w3.org/1999/xlink",t}(p1),Wt=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],Ye=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.properties={},e._eventDispatcher=new QO(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new li,e._positionPrecision=3,e._language=new li,e._exporting=new li,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),e.uid,e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",te(50)),e.setPropertyValue("tooltipX",te(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new vt(function(){Ve(e._bindings,function(i,r){r.dispose()})})),e.setPropertyValue("interactionsEnabled",!0),e}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new rr(this)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.applyTheme=function(){n.prototype.applyTheme.call(this)},t.prototype.getCurrentThemes=function(){var e=this._themes;if(e)return e;var i=this._parent;return i?i.getCurrentThemes():F.themes},t.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},t.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,F.addToInvalidSprites(this),it.requestFrame())},t.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,F.removeFromInvalidSprites(this),this.afterDraw()},t.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,F.addToInvalidPositions(this),it.requestFrame())},t.prototype.validatePosition=function(){var e=this.pixelX,i=this.pixelY,r=this.dx,s=this.dy,a=e+r,o=i+s;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var u=this.measure(),c=this.group.transformString;this.group.moveTo({x:a,y:o}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(c!=this.group.transformString||u)&&(c==null?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),(this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.updateTooltipPosition()),e+r==a&&i+s==o&&(F.removeFromInvalidPositions(this),this.positionInvalid=!1);var f=this._maskRectangle;f&&this._clipElement.moveTo({x:f.x-e,y:f.y-i})},t.prototype.beforeDraw=function(){},t.prototype.draw=function(){},t.prototype.afterDraw=function(){var e,i;if((this.isMeasured||this.horizontalCenter!=="none"||this.verticalCenter!=="none")&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var r=Kh(this._adapterO.keys()),s=r.next();!s.done;s=r.next()){var a=s.value;switch(a){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[a]=this[a];break}}}catch(o){e={error:o}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}this.showTooltipOn=="always"&&(this.visible&&!this.disabled&&!this.__disabled?this.showTooltip():this.hideTooltip(0))},t.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},t.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},t.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},t.prototype.updateFilterScale=function(){var e=this;Q(this.filters.iterator(),function(i){i.scale=e.globalScale})},t.prototype.removeFromInvalids=function(){F.removeFromInvalidSprites(this),F.removeFromInvalidPositions(this)},t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each(function(r){i.filters.push(r.clone())}),e._adapterO&&this.adapter.copyFrom(e._adapterO),e._interaction&&this.interactions.copyFrom(e.interactions),e._plugins&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,Bn(e.propertyFields,this.propertyFields),Bn(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone()),e.focusFilter&&(this.focusFilter=e.focusFilter.clone())},t.prototype.dispose=function(){if(!this.isDisposed()){if(this.showTooltipOn=="always"&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(n.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--){var i=this._clones.getIndex(e);i.dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var r=this.stroke;r&&!(r instanceof ht)&&r.dispose&&(this.clonedFrom&&this.clonedFrom.stroke==r||r.dispose());var s=this.fill;if(s&&!(s instanceof ht)&&s.dispose&&(this.clonedFrom&&this.clonedFrom.fill==s||s.dispose()),M(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var a=this._filters.getIndex(0);a.dispose(),this._filters.removeValue(a)}this._alwaysShowDisposers=void 0}},Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(e){e=Mt(e),this._isTemplate!=e&&(this._isTemplate=e,this instanceof Se&&Q(this.children.iterator(),function(i){i.isTemplate=e}),e?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSystemTooltip",{get:function(){return M(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:this._parent?this._parent.showSystemTooltip:!1},set:function(e){e=Mt(e),this._showSystemTooltip!=e&&(this._showSystemTooltip=e,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topParent",{get:function(){if(this._topParent)return this._topParent;if(this._parent)return this._parent.topParent},set:function(e){this._topParent=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(!this._isTemplate){this.paper;var i=this._parent;i!=e&&(i&&i.children.removeValue(this),this._parent=e,e?(this.topParent=e.topParent,e.isTemplate&&(this.isTemplate=!0),this.baseId=e.baseId,e.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=e.tooltipContainer),this._dataItem||(this.dataItem=e.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),t.prototype.handleAlwaysShow=function(){this.showTooltip()},t.prototype.handleAlwaysShowTooltip=function(){var e=this,i=this._alwaysShowDisposers;if(i&&ce(i,function(s){s.dispose()}),this._alwaysShowDisposers=[],this.showTooltipOn=="always")for(;e!=null;){var r=e.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(r),this._alwaysShowDisposers.push(r),e=e.parent}},Object.defineProperty(t.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(e){this._virtualParent=e,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var e=this.fill;e&&e.element&&this.paper.appendDef(e.element);var i=this.stroke;if(i&&i.element&&this.paper.appendDef(i.element),this.fillModifier&&this.fill instanceof ht){var r=this.fillModifier.modify(this.fill);r&&r.element&&this.paper.appendDef(r.element)}if(this.strokeModifier&&this.stroke instanceof ht){var s=this.strokeModifier.modify(this.stroke);s&&s.element&&this.paper.appendDef(s.element)}this._clipPath&&this.paper.appendDef(this._clipPath),this._exportable===!1&&(this.exportable=!1)},Object.defineProperty(t.prototype,"map",{get:function(){var e=this.topParent;return e?e.map:(this._map||(this._map=new St),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){var e=this.topParent;return e?e.delayedMap:(this._delayedMap||(this._delayedMap=new St),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){if(this._id!=e){if(this._id=e,this.map.hasKey(e))throw Error("Duplicate id ("+e+") used on multiple objects.");this.map.setKey(e,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){if(this._paper)return this._paper;var e=this._parent;return e?e.paper:Xl()},set:function(e){this.setPaper(e)},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){var i=this._paper;return i!=e?(this._paper=e,this.appendDefs(),!0):!1},Object.defineProperty(t.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var e=this._parent;if(e)return e.htmlContainer},set:function(e){this._htmlContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters||(this._filters=new ct,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new Pt(this._filters))),this._filters},enumerable:!0,configurable:!0}),t.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},t.prototype.setSVGAttribute=function(e){this.group.attr(e)},t.prototype.removeSVGAttribute=function(e){this.group.removeAttr(e)},t.prototype.setClassName=function(){var e=this.className,i=Fr.classNamePrefix;this.element&&this.element.addClass(i+e),this.group.addClass(i+e+"-group"),M(this.id)&&this.group.addClass(i+this.id),this.userClassName&&this.group.addClass(this.userClassName)},t.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},t.prototype.updateClipPath=function(){var e=this._clipElement;e&&e.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},t.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var e=F.getUniqueId();this._clipPath.attr({id:e}),this.group.attr({"clip-path":'url("'+ml()+e+'")'})}},t.prototype.applyMask=function(){var e=this.mask;if(this._clipPath&&e)if(e instanceof Se){this._clipElement.attr({width:We(0,e.pixelWidth),height:We(0,e.pixelHeight)});var i=$i({x:e.pixelX,y:e.pixelY},e.parent,this);this._clipPath.x=i.x,this._clipPath.y=i.y}else e.element&&e.element!=this._clipElement&&(this._clipElement=e.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=e.scale,this._clipPath.x=e.pixelX,this._clipPath.y=e.pixelY,this._clipPath.rotation=e.rotation},t.prototype.applyFilters=function(){var e=this;if(this._filters&&this._filters.length>0){var i=100,r=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var s="filter-"+this.uid;this.filterElement.attr({id:s}),Q(this.filters.iterator(),function(u){u.sprite=e,u.paper=e.paper,e.filterElement.attr({filterUnits:u.filterUnits}),u.appendPrimitives(e.filterElement),u.width>i&&(i=u.width),u.height>r&&(r=u.height),u.scale=e.globalScale});var a=i+"%",o=r+"%";this.filterElement.attr({width:a,height:o,x:-(i-100)/2+"%",y:-(r-100)/2+"%"}),this.group.attr({filter:'url("'+ml()+s+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},t.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},t.prototype.setElement=function(e){this.element=e,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this.removeElement(),this._element=e,this.group.add(e),e.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgContainer",{get:function(){if(this._svgContainer)return this._svgContainer;if(this._parent)return this._parent.svgContainer},set:function(e){this._svgContainer=e},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var e=this.element.getBBox();this._bbox={x:e.x,y:e.y,width:e.width,height:e.height}}},t.prototype.updateCenter=function(){if(this.element){var e=this.element.transformString,i=this.bbox,r=0,s=0,a=i.x,o=i.y,u=i.width,c=i.height,f=this.pixelPaddingLeft,p=this.pixelPaddingRight,g=this.pixelPaddingTop,y=this.pixelPaddingBottom,b=We(u+f+p,this.pixelWidth),x=We(c+g+y,this.pixelHeight),w=i.x,P=i.x+b,S=i.y,k=i.y+x,T=this.horizontalCenter,j=this.verticalCenter;switch(T){case"none":r=a+f;break;case"left":r=f;break;case"middle":r=f-(u+p+f)/2;break;case"right":r=-p-u;break}switch(j){case"none":s=o+g;break;case"top":s=g;break;case"middle":s=g-(c+y+g)/2;break;case"bottom":s=-y-c;break}this._measuredHeight=x,this._measuredWidth=b;var V=ee(r-a,this._positionPrecision,!0),A=ee(s-o,this._positionPrecision,!0);this.ex=V-f,this.ey=A-g,this.maxLeft=w+V-f,this.maxRight=P+V-f,this.maxTop=S+A-g,this.maxBottom=k+A-g,this.pixelPerfect&&Fr.pixelPerfectPrecision==0&&(V-=.5,A-=.5),this.element.moveTo({x:V,y:A}),e!=this.element.transformString&&this.dispatchImmediately("transformed")}},t.prototype.measure=function(){this.updateCenter();var e=this._measuredWidth,i=this._measuredHeight,r=this.maxLeft,s=this.maxRight,a=this.maxTop,o=this.maxBottom;this._measuredWidthSelf=e,this._measuredHeightSelf=i;var u=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,this.rotation!==0||this.scale!==1||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var c=this.paper.svg,f=c.createSVGMatrix(),p=this.rotation,g=this.scale;this.nonScaling&&(g=this.scale/this.globalScale),f.a=oe(p)*g,f.c=-ae(p)*g,f.e=0,f.b=ae(p)*g,f.d=oe(p)*g,f.f=0;var y=c.createSVGPoint();y.x=r,y.y=a;var b=c.createSVGPoint();b.x=s,b.y=a;var x=c.createSVGPoint();x.x=s,x.y=o;var w=c.createSVGPoint();w.x=r,w.y=o;var P=y.matrixTransform(f),S=b.matrixTransform(f),k=x.matrixTransform(f),T=w.matrixTransform(f);r=Math.min(P.x,S.x,k.x,T.x),s=Math.max(P.x,S.x,k.x,T.x),a=Math.min(P.y,S.y,k.y,T.y),o=Math.max(P.y,S.y,k.y,T.y),e=s-r,i=o-a,this.maxLeft=ee(r,u,!0),this.maxRight=ee(s,u,!0),this.maxTop=ee(a,u,!0),this.maxBottom=ee(o,u,!0)}return this._measuredWidth=ee(e,u,!0),this._measuredHeight=ee(i,u,!0),this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight?(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.tooltip&&this.tooltip.visible&&(M(this.tooltipText)||M(this.tooltipHTML))&&this.updateTooltipPosition(),!0):!1},t.prototype.insertBefore=function(e){var i=this._parent;if(i){var r=i.children.indexOf(e);r!==-1&&(i.children.moveValue(this,r),i.sortChildren())}return this},t.prototype.insertAfter=function(e){var i=this._parent;if(i){var r=i.children.indexOf(e);r!==-1&&(i.children.moveValue(this,r+1),i.sortChildren())}return this},t.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},t.prototype.getRelativeX=function(e){return e instanceof st?e.value:this._parent?e/this._parent.innerWidth:0},t.prototype.getRelativeY=function(e){return e instanceof st?e.value:this._parent?e/this._parent.innerHeight:0},t.prototype.getPixelX=function(e){var i=0;if(D(e))i=e;else if(e instanceof st){var r=e.value;this._parent&&(i=ee(this._parent.innerWidth*r,this._positionPrecision,!0))}return i},t.prototype.getPixelY=function(e){var i=0;if(D(e))i=e;else if(e instanceof st){var r=e.value;this._parent&&(i=ee(this._parent.innerHeight*r,this._positionPrecision,!0))}return i},t.prototype.moveTo=function(e,i,r,s){this.isDragged&&!s||(e&&(D(e.x)&&this.setPropertyValue("x",ee(e.x,this._positionPrecision,!0)),D(e.y)&&this.setPropertyValue("y",ee(e.y,this._positionPrecision,!0))),D(i)&&(this.rotation=i),D(r)&&(this.scale=r),this.invalidatePosition())},Object.defineProperty(t.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(e){var i=this;this._mask.get()!==e&&(e?(this.createClipPath(),e instanceof Se?this._clipElement=this.paper.add("rect"):(e.isMeasured=!1,e.element&&(this._clipElement=e.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(e,new Lt([e.events.on("maxsizechanged",function(){i.inited&&i.applyMask()},void 0,!1),e.events.on("validated",this.applyMask,this,!1),e.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(e){e?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:e.width,height:e.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(e){e=Mt(e),e||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=e&&(this._isMeasured=e,this.invalidatePosition())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){this.invalid&&this.validate(),e.invalid&&e.validate();var i=this.pixelX+this.maxLeft,r=this.pixelY+this.maxTop,s=i+this.maxRight,a=r+this.maxBottom,o=e.pixelX+e.maxLeft,u=e.pixelY+e.maxTop,c=o+e.maxRight,f=u+e.maxBottom;return!(o>s||c<i||u>a||f<r)},Object.defineProperty(t.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),t.prototype.isReady=function(){return this._ready},Object.defineProperty(t.prototype,"states",{get:function(){if(!this._states){var e=new lc;this._states=new Fl(e),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new da(this._states)),this._disposers.push(e)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var e=this.states.create("hidden");e.properties.opacity=0,e.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultState",{get:function(){if(!this.states.getKey("default")){var e=this.states.create("default");e.properties.opacity=1}return this.states.getKey("default")},enumerable:!0,configurable:!0}),t.prototype.processState=function(e){var i=e.newValue;if(i.sprite=this,i.name=e.key,(this.states.hasKey("hover")||this.showTooltipOn=="hover"&&(M(this.tooltipHTML)||M(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||this.showTooltipOn=="hover"&&(M(this.tooltipHTML)||M(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var r=this.clones.values,s=r.length,a=0;a<s;++a){var o=r[a];o.isDisposed()||o.states.setKey(i.name,i)}},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new go(this._animations))),this._animations},enumerable:!0,configurable:!0}),t.prototype.getSvgPoint=function(e){try{var i=this.htmlContainer.getBoundingClientRect();return{x:e.x-i.left,y:e.y-i.top}}catch{return e}},t.prototype.animate=function(e,i,r){return new $r(this,e,i,r).start()},t.prototype.setState=function(e,i,r){var s;if(e instanceof lc)this.states.setKey(e.name,e),s=e;else if(s=this.states.getKey(e),!s)return;if(s.name=="hover"){if(this.isHidden)return;this.isHover=!0}return s.name=="hidden"?this.isHiding=!0:this.visible||this.setVisibility(s.properties.visible||this.defaultState.properties.visible),s.name=="active"&&(this.isActive=!0),D(i)||(i=s.transitionDuration),M(r)||(r=s.transitionEasing),this.transitTo(s,i,r)},t.prototype.applyCurrentState=function(e){var i=this.setState(this.defaultState,e);return this.isHover&&(i=this.setState("hover",e)),this.isDown&&this.interactions.downPointers.length&&(i=this.setState("down",e)),this.isFocused=this.isFocused,this.isActive&&(i=this.setState("active",e),this.isHover&&this.states.hasKey("hoverActive")&&(i=this.setState("hoverActive",e))),i},t.prototype.transitTo=function(e,i,r){var s=this,a=[],o=e.allValues,u;if(Ve(o,function(f,p){var g=s[f];if(p!=g&&s.defaultState.properties[f]==null&&(s.defaultState.properties[f]=g),p!="__unset"){var y={from:g,to:p,property:f};a.push(y)}}),a.length>0&&(u=this.animate(a,i,r),u&&!u.isFinished()?this._disposers.push(u.events.on("animationended",function(){s.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),e.filters.length>0){var c=[];Q(e.filters.iterator(),function(f){var p=f.clone();c.push(p);var g=[];Q(s.filters.iterator(),function(y){y.className==p.className&&(Dm(s.defaultState.filters.iterator(),function(b){return b.className===p.className})||s.defaultState.filters.push(y),Ve(p.properties,function(b,x){var w=y.properties[b];w!=x&&g.push({property:b,from:w,to:x})}))}),p.animate(g,i,r)}),this.filters.clear(),this.filters.pushAll(c)}return u},t.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(t.prototype,"isHover",{get:function(){return this.isInteractive()?this.interactions.isHover:!1},set:function(e){e=Mt(e),e!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=e,e?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this.isInteractive()?this.interactions.isDown:!1},set:function(e){e=Mt(e),this.isInteractive()&&this.isDown!=e&&(this.interactions.isDown=e,e?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this.isInteractive()?this.interactions.isFocused:!1},set:function(e){e=Mt(e),this.focusable&&this.isFocused!=e&&this.isInteractive()&&(this.interactions.isFocused=e,e===!0?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this.setActive(e)},enumerable:!0,configurable:!0}),t.prototype.setActive=function(e){e=Mt(e),this._isActive!==e&&(this._isActive=e,e&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(t.prototype,"disabled",{get:function(){var e=this.getPropertyValue("disabled");return M(e)?e:this.virtualParent?this.virtualParent.disabled:this._parent?this._parent.disabled:!1},set:function(e){this.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){e=Mt(e);var i=this.getPropertyValue("disabled");if(i!=e){if(this.setPropertyValue("disabled",e,!0),e)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var r=this._parent.element;r.hasChild(this.group)||r.add(this.group)}this instanceof Se?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),it.requestFrame(),!0}return!1},Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(e){this._internalDisabled!=e&&(this._internalDisabled=e,this._updateDisabled=!0,this.invalidatePosition(),e||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new Im,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(e){this._numberFormatter=e,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new $l,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(e){this._dateFormatter=e,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new Rm,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(e){this._durationFormatter=e,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this._language.get();return e||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(e=new js,this.language=e,e))},set:function(e){var i=this;this._language.get()!==e&&this._language.set(e,e.events.on("localechanged",function(r){if(i._numberFormatter&&(i._numberFormatter.language=i.language),i._dateFormatter&&(i._dateFormatter.language=i.language),i._durationFormatter&&(i._durationFormatter.language=i.language),i._exporting.get()){var s=i._exporting.get();s.numberFormatter.language=i.language,s.dateFormatter.language=i.language,s.durationFormatter.language=i.language,s.language=i.language}i instanceof Se&&i.deepInvalidate()}))},enumerable:!0,configurable:!0}),t.prototype.populateString=function(e,i){if(M(e)){e=_m(e),e=zn().escape(e);var r=e.match(/\{([^}]+)\}/g),s=void 0;if(r)for(s=0;s<r.length;s++){var a=r[s].replace(/\{([^}]+)\}/,"$1"),o=this.getTagValue(a,"",i);M(o)||(o=""),e=e.split(r[s]).join(o)}e=zn().unescape(e)}else e="";return this._adapterO?this._adapterO.apply("populateString",e):e},t.prototype.getTagValue=function(e,i,r){var s;M(r)||(r=this.dataItem);for(var a=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g,u;u=o.exec(e),u!==null;)if(u[3])a.push({prop:u[3]});else{var c=[];if(K0(u[2])!="")for(var f=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,p=void 0;p=f.exec(u[2]),p!==null;)c.push(p[1]||p[2]||p[3]);a.push({method:u[1],params:c})}if(r){s=this.getTagValueFromObject(a,r.values),(!M(s)||Ot(s))&&(s=this.getTagValueFromObject(a,r));var g=r.dataContext;!M(s)&&g&&(s=this.getTagValueFromObject(a,r.dataContext),M(s)||(s=this.getTagValueFromObject([{prop:e}],g)),!M(s)&&g.dataContext&&(s=this.getTagValueFromObject(a,g.dataContext))),!M(s)&&r.component&&r.component.dataItem!==r&&(s=r.component.getTagValue(e,i))}return M(s)||(s=this.getTagValueFromObject(a,this.populateStringFrom||this)),!M(s)&&this._parent&&(s=this._parent.getTagValue(e,i)),s},t.prototype.getTagValueFromObject=function(e,i,r){for(var s=i,a=!1,o=0,u=e.length;o<u;o++){var c=e[o];if(c.prop){if(s=s[c.prop],!M(s))return}else switch(c.method){case"formatNumber":var f=Hp(s);M(f)&&(s=this.numberFormatter.format(f,r||c.params[0]||void 0),a=!0);break;case"formatDate":var p=void 0;if(at(s)?p=this.dateFormatter.parse(s):p=Q0(s),!kl(p)||Oi(p.getTime()))return;M(p)&&(s=this.dateFormatter.format(p,r||c.params[0]||void 0),a=!0);break;case"formatDuration":var g=Hp(s);M(g)&&(s=this.durationFormatter.format(g,r||c.params[0]||void 0,c.params[1]||void 0),a=!0);break;case"urlEncode":case"encodeURIComponent":s=encodeURIComponent(s);break;default:s[c.method]&&s[c.method].apply(this,c.params);break}}if(!a){var y=[{method:"",params:r}];if(!M(r))D(s)?(y[0].method="formatNumber",y[0].params=""):kl(s)&&(y[0].method="formatDate",y[0].params="");else{var b=pO(r);b===Fh?y[0].method="formatNumber":b===Eh?y[0].method="formatDate":b===Rp&&(y[0].method="formatDuration")}y[0].method&&(s=this.getTagValueFromObject(y,s))}return s},Object.defineProperty(t.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(e){this.setDataItem(e)},enumerable:!0,configurable:!0}),t.prototype.setDataItem=function(e){var i=this;if(this._dataItem!=e){if(this._dataItem=e,e){if(this.configField){var r=e.dataContext;r&&(this.config=r[this.configField],!this.config&&r.dataContext&&(this.config=r.dataContext[this.configField]))}var s=e.dataContext;if(s){var a=s.dataContext;Ve(this.propertyFields,function(o,u){if(M(s[u])){var c=i;c[o]=s[u]}else if(a){var f=a[u];if(M(f)){var c=i;c[o]=f}}})}}this.invalidate()}},t.prototype.getPropertyValue=function(e){var i=this.properties[e];return this._isTemplate||(this._adapterO&&(i=this._adapterO.apply(e,i)),i=Ip.applyAll(this,e,i)),i},t.prototype.setColorProperty=function(e,i,r){var s=this.properties[e];return i instanceof ht&&s instanceof ht&&i.toString()==s.toString()?!1:this.setPropertyValue(e,i,r)},t.prototype.setPercentProperty=function(e,i,r,s,a,o){if(i=_k(i),D(i))return D(a)&&(i=ee(i,a,o)),this.setPropertyValue(e,i,r,s);var u=this.properties[e];return i instanceof st&&u instanceof st&&i.value==u.value?!1:this.setPropertyValue(e,i,r,s)},t.prototype.setPropertyValue=function(e,i,r,s){if(this.properties[e]!==i&&!this.isDisposed()){if(this.properties[e]=i,this.events.isEnabled("propertychanged")){var a={type:"propertychanged",target:this,property:e};this.events.dispatchImmediately("propertychanged",a)}if(r&&this.invalidate(),s&&this.invalidatePosition(),this.applyOnClones)for(var o=this.clones.values,u=o.length,c=0;c<u;++c){var f=o[c];f.isDisposed()||(f[e]=i)}return!0}return!1},t.prototype.bind=function(e,i,r,s){var a=this;r===void 0&&(r=e),M(this._bindings[e])&&this._bindings[e].dispose(),this[e]=i[r],this._bindings[e]=i.events.on("propertychanged",function(o){if(o.property===r){var u=i[r];s&&(u=s(u)),a[e]=u}})},t.prototype.observe=function(e,i,r,s){var a=this;return new Lt(Ul(I0(e),function(o){return a.events.on("propertychanged",function(u){u.property===o&&i.call(r,u)},r,s)}))},t.prototype.applyAccessibility=function(){var e=this.readerTitle,i=this.readerDescription,r=this.role,s=this.readerHidden,a=this.readerChecked,o=this.readerControls,u=this.readerLive,c=this.readerOrientation,f=this.readerValueNow,p=this.readerValueText,g=[],y=[],b=this.readerLabelledBy;b&&g.push(b);var x=this.readerDescribedBy;if(x&&y.push(x),e)if(g.length||this.showSystemTooltip){var w=this.titleElement,P=this.uid+"-title";w.node.textContent!=e&&(w.node.textContent=e,w.attr({id:P})),g.push(P)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":e});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(i){var S=this.descriptionElement,k=this.uid+"-description";S.node.textContent!=i&&(S.node.textContent=i,S.attr({id:k})),y.push(k)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);g.length?this.setSVGAttribute({"aria-labelledby":g.join(" ")}):this.removeSVGAttribute("aria-labelledby"),y.length?this.setSVGAttribute({"aria-describedby":y.join(" ")}):this.removeSVGAttribute("aria-describedby"),r?this.setSVGAttribute({role:r}):this.removeSVGAttribute("role"),s?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),a?this.setSVGAttribute({"aria-checked":"true"}):a===!1?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),o?this.setSVGAttribute({"aria-controls":o}):this.removeSVGAttribute("aria-controls"),u?this.setSVGAttribute({"aria-live":u}):this.removeSVGAttribute("aria-live"),c?this.setSVGAttribute({"aria-orientation":c}):this.removeSVGAttribute("aria-orientation"),f?this.setSVGAttribute({"aria-valuenow":f}):this.removeSVGAttribute("aria-valuenow"),p?this.setSVGAttribute({"aria-valuetext":p}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return M(e)&&this.dataItem?this.populateString(e):e},set:function(e){e=Pi(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescription",{get:function(){var e=this.getPropertyValue("readerDescription");return M(e)&&this.dataItem?this.populateString(e):this.getPropertyValue("readerDescription")},set:function(e){e=Pi(e),this.setPropertyValue("readerDescription",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(e){e=Pi(e),this.setPropertyValue("role",e)&&(this.applyAccessibility(),e=="slider"&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(e){e=Mt(e),this.setPropertyValue("readerHidden",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(e){e=Mt(e),this.setPropertyValue("readerChecked",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(e){e=Pi(e),this.setPropertyValue("readerControls",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(e){e=Pi(e),this.setPropertyValue("readerLive",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(e){e=Pi(e),this.setPropertyValue("readerLabelledBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(e){e=Pi(e),this.setPropertyValue("readerDescribedBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(e){e=Pi(e),this.setPropertyValue("readerOrientation",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(e){e=Pi(e),this.setPropertyValue("readerValueNow",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(e){e=Pi(e),this.setPropertyValue("readerValueText",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactions",{get:function(){if(!this._interaction){var e=Ne().getInteraction(this.dom);this._interaction=e,e.clickable=this.clickable,e.hoverable=this.hoverable,e.trackable=this.trackable,e.draggable=this.draggable,e.swipeable=this.swipeable,e.resizable=this.resizable,e.wheelable=this.wheelable,e.contextMenuDisabled=this.contextMenuDisabled,e.inert=this.inert,e.sprite=this,this._disposers.push(e)}return this._interaction},enumerable:!0,configurable:!0}),t.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(t.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(e){var i=this;e=Mt(e),this.setPropertyValue("focusable",e)&&(!e&&!this.isInteractive()||(this.interactions.focusable=e,e?(this.setSVGAttribute({focusable:e}),M(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",e,function(){return new Lt([i.events.on("blur",i.handleBlur,i,!1),i.events.on("focus",i.handleFocus,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleFocus=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},t.prototype.handleBlur=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(t.prototype,"focusFilter",{get:function(){var e=this._focusFilter;if(e)return e;if(this.virtualParent)return this.virtualParent.focusFilter;if(this._parent)return this._parent.focusFilter},set:function(e){this._focusFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(e){e!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){var e=this._tabindex;if(e!=null)return e;if(this.virtualParent)return this.virtualParent.tabindex;if(this._parent)return this._parent.tabindex},set:function(e){e=_t(e),this.setPropertyValue("tabindex",e)&&D(e)&&(this.interactions.tabindex=e,this.setSVGAttribute({tabindex:e}),this._tabindex=e,this.focusable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(e){var i=this;e=Mt(e),this.setPropertyValue("draggable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.draggable=e,this.interactions.setEventDisposer("sprite-draggable",e,function(){return new Lt([i.events.on("down",i.handleDown,i,!1),i.events.on("dragstart",i.handleDragStart,i,!1),i.events.on("drag",i.handleDragMove,i,!1),i.events.on("dragstop",i.handleDragStop,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleDragStart=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},t.prototype.dragStart=function(e){this._isDragged=!0,Ne().dragStart(this.interactions,e)},t.prototype.handleDragStop=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},t.prototype.dragStop=function(e,i){this._isDragged=!1,Ne().dragStop(this.interactions,e,i)},t.prototype.handleDragMove=function(e){if(!this.interactions.isTouchProtected||!e.touch){var i=this.interactions.originalPosition;if(i&&this._isDragged){var r=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:i.x+e.shift.x/r,y:i.y+e.shift.y/r},void 0,void 0,!0)}this.dispatchImmediately("dragged",e)}},Object.defineProperty(t.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(e){e=Mt(e),this.setPropertyValue("inert",e)&&(!e&&!this.isInteractive()||(this.interactions.inert=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(e){var i=this;e=Mt(e),this.setPropertyValue("hoverable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.hoverable=e,this.interactions.setEventDisposer("sprite-hoverable",e,function(){return new Lt([i.events.on("over",i.handleOver,i,!1),i.events.on("out",i.handleOut,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleOver=function(e){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var i=void 0;e&&e.pointer&&(i=bs(e.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),this.showTooltipOn=="hover"&&this.showTooltip(i)}else this.showTooltipOn=="hover"&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},t.prototype.handleOut=function(e){var i=this;if(this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover){this._outTimeout=this.setTimeout(function(){i.tooltip.isHover||(i.tooltip.targetSprite==i&&i.hideTooltip(),i._outTimeout=i.setTimeout(i.handleOutReal.bind(i),i.rollOutDelay))},10);return}this.showTooltipOn=="hover"&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay)},t.prototype.handleOutReal=function(){!this.isHidden&&!this.isHiding&&this.states.hasKey("hover")&&this.applyCurrentState()},Object.defineProperty(t.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),t.prototype.handleDown=function(e){this.interactions.downPointers.length===1&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},t.prototype.handleUp=function(e){var i=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),this.showTooltipOn=="hit"&&(this.updateTooltipPosition(e.pointer?e.pointer.point:void 0),this._disposers.push(F.events.once("exitframe",function(){i.showTooltip()})),this._disposers.push(Ne().body.events.once("down",function(r){i.hideTooltip()})))},Object.defineProperty(t.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(e){var i=this;e=Mt(e),this.setPropertyValue("clickable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.clickable=e,this.interactions.setEventDisposer("sprite-clickable",e,function(){return new Lt([i.events.on("down",i.handleDown,i,!1),i.events.on("up",i.handleUp,i,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(e){var i=this;e=Mt(e),this.setPropertyValue("togglable",e)&&(!e&&!this.isInteractive()||this.interactions.setEventDisposer("sprite-togglable",e,function(){return i.events.on("hit",i.handleToggle,i,!1)}))},enumerable:!0,configurable:!0}),t.prototype.handleToggle=function(e){this.isActive=!this.isActive},Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(e){e=Mt(e),this.setPropertyValue("contextMenuDisabled",e)&&(this.interactions.contextMenuDisabled=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(e){this.setPropertyValue("url",e)&&(this._urlDisposer&&this._urlDisposer.dispose(),ic(e)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=gi.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(e){this.setBaseId(e)},enumerable:!0,configurable:!0}),t.prototype.setBaseId=function(e){e!=this._baseId&&(this.invalid&&(this.invalid=!1,F.removeFromInvalidSprites(this),this.invalidate()),this._baseId=e)},Object.defineProperty(t.prototype,"baseSprite",{get:function(){if(this.isBaseSprite)return this;if(this._parent)return this._parent.baseSprite},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(e){this.setPropertyValue("urlTarget",e)},enumerable:!0,configurable:!0}),t.prototype.urlHandler=function(e){if(ic(this.url)){var i=this.populateString(this.url);this.urlTarget==="_self"?window.location.href=i:window.open(i,this.urlTarget)}},Object.defineProperty(t.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(e){e=Mt(e),this.setPropertyValue("swipeable",e)&&(this.applyCursorStyle(),!e&&!this.isInteractive()||(this.interactions.swipeable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(e){e=Mt(e),this.setPropertyValue("trackable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.trackable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(e){this.setPropertyValue("wheelable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.wheelable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(e){var i=this;e=Mt(e),this.setPropertyValue("resizable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.resizable=e,this.interactions.setEventDisposer("sprite-resizable",e,function(){return new Lt([i.events.on("down",i.handleDown,i,!1),i.events.on("resize",i.handleResize,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleResize=function(e){if((!this.interactions.isTouchProtected||!e.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*e.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var i=bs(e.point1,this.htmlContainer,this.svgContainer.cssScale),r=bs(e.point2,this.htmlContainer,this.svgContainer.cssScale),s=Qh(i,r),a=ao(e.startPoint1,this._parent),o=ao(e.startPoint2,this._parent),u=this.interactions.originalPosition,c=this.interactions.originalScale;if(u){var f={x:(a.x-u.x)/c,y:(a.y-u.y)/c},p={x:(o.x-u.x)/c,y:(o.y-u.y)/c},g=Qh(f,p),y=Jr(s,this._parent);this.moveTo({x:y.x-g.x*this.scale,y:y.y-g.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(t.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOverStyle",{set:function(e){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=e,Ne().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorDownStyle",{set:function(e){this.cursorOptions.downStyle=e},enumerable:!0,configurable:!0}),t.prototype.applyCursorStyle=function(){},Object.defineProperty(t.prototype,"interactionsEnabled",{get:function(){var e=this.getPropertyValue("interactionsEnabled");return e===!1?!1:this.virtualParent?this.virtualParent.interactionsEnabled:this._parent?this._parent.interactionsEnabled:!0},set:function(e){if(e=Mt(e),this.setPropertyValue("interactionsEnabled",e)){var i=null;e?this.group.node.style.pointerEvents="":i="none",this.group.node.style.pointerEvents=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exporting",{get:function(){return this.getExporting()},set:function(e){this._exporting.set(e,e)},enumerable:!0,configurable:!0}),t.prototype.getExporting=function(){var e=this._exporting.get();if(e)return e;if(this.isStandaloneInstance||!this._parent)e=new ET(this.svgContainer.SVGContainer),e.sprite=this,e.language=this.language,e.numberFormatter=this.numberFormatter,e.dateFormatter=this.dateFormatter,e.durationFormatter=this.durationFormatter,this._exporting.set(e,e);else return this._parent.exporting;return e},Object.defineProperty(t.prototype,"exportable",{get:function(){return this._exportable},set:function(e){var i=this.svgContainer;this._exportable=e,i&&(e?Le(i.nonExportableSprites,this):qr(i.nonExportableSprites,this)==-1&&i.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),t.prototype.modalPrefix=function(e){return e=Fr.classNamePrefix+e,e},Object.defineProperty(t.prototype,"modal",{get:function(){var e=this.svgContainer;if(e){var i=e.modal;return i.adapter.has("classPrefix",this.modalPrefix)||i.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openModal=function(e,i){var r=this.svgContainer;if(r)return r.openModal(e,i)},t.prototype.closeModal=function(){var e=this.svgContainer;e&&e.closeModal()},Object.defineProperty(t.prototype,"popups",{get:function(){var e=this.svgContainer;if(e){var i=e.popups;return i.template.sprite=this,i.template.adapter.has("classPrefix",this.modalPrefix)||i.template.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(e,i){var r=this.svgContainer;if(r)return r.openPopup(e,i)},t.prototype.closeAllPopups=function(){var e=this.svgContainer;e&&e.closeAllPopups()},Object.defineProperty(t.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(e){this.isDragged||this.setPercentProperty("x",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelX",{get:function(){var e=ge(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(e){D(e)&&(e=ee(e,this._positionPrecision,!0),this.setPropertyValue("minX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(e){D(e)&&(e=ee(e,this._positionPrecision,!0),this.setPropertyValue("maxX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(e){this.isDragged||this.setPercentProperty("y",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelY",{get:function(){var e=ge(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(e){D(e)&&(e=ee(e,this._positionPrecision,!0),this.setPropertyValue("minY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(e){D(e)&&(e=ee(e,this._positionPrecision,!0),this.setPropertyValue("maxY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(e){D(e)&&(e=ee(e,this._positionPrecision,!0),this.setPropertyValue("dx",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(e){D(e)&&(e=ee(e,this._positionPrecision,!0),this.setPropertyValue("dy",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(e){e=_t(e),D(e)||(e=0),this.setPropertyValue("rotation",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(e){e=Pi(e),this.setPropertyValue("align",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(e){e=Pi(e),this.setPropertyValue("valign",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(e){e=Pi(e),this.setPropertyValue("horizontalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(e){e=Pi(e),this.setPropertyValue("verticalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){var e=this.getPropertyValue("maxWidth");if(!D(e)&&this._parent){var i=this._parent.maxWidth;return this._parent.layout!="absolute"&&this.align!="none"&&this.align!=null&&(i=i-this.pixelMarginLeft-this.pixelMarginRight),i}return e},set:function(e){this.setMaxWidth(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxWidth=function(e){var i=this.maxWidth,r=this.maxHeight;if(this.setPropertyValue("maxWidth",e)){D(this.relativeWidth)&&this.invalidate();var s={type:"maxsizechanged",target:this,previousWidth:i,previousHeight:r};this.dispatchImmediately("maxsizechanged",s)}},Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.getPropertyValue("maxHeight");if(!D(e)&&this._parent){var i=this._parent.maxHeight;return this._parent.layout!="absolute"&&this.valign!="none"&&this.valign!=null&&(i=i-this.pixelMarginTop-this.pixelMarginBottom),i}return e},set:function(e){this.setMaxHeight(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxHeight=function(e){var i=this.maxWidth,r=this.maxHeight;if(this.setPropertyValue("maxHeight",e)){D(this.relativeHeight)&&this.invalidate();var s={type:"maxsizechanged",target:this,previousWidth:i,previousHeight:r};this.dispatchImmediately("maxsizechanged",s)}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){var i=this.setPercentProperty("width",e,!0,!1,this._positionPrecision,!0);i&&(this.percentWidth=void 0,this.relativeWidth=void 0,e instanceof st?(this.percentWidth=e.percent,D(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(e),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){var i=this.setPercentProperty("height",e,!0,!1,this._positionPrecision,!0);i&&(this.percentHeight=void 0,this._relativeHeight=void 0,e instanceof st?(this.percentHeight=e.percent,D(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(e),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelWidth",{get:function(){var e;D(this.percentWidth)?e=this.maxWidth:D(this._pixelWidth)?e=this._pixelWidth:e=0;var i=this.minWidth;i!=null&&e<i&&(e=i);var r=ee(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelHeight",{get:function(){var e;D(this.percentHeight)?e=this.maxHeight:D(this._pixelHeight)?e=this._pixelHeight:e=0;var i=this.minHeight;i!=null&&e<i&&(e=i);var r=ee(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeWidth",{get:function(){var e=this._relativeWidth;if(D(e))return this._adapterO?this._adapterO.apply("relativeWidth",e):e},set:function(e){this._relativeWidth!=e&&(this._relativeWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){var e=this._relativeHeight;if(D(e))return this._adapterO?this._adapterO.apply("relativeHeight",e):e},set:function(e){this._relativeHeight!=e&&(this._relativeHeight=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){var e=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){var e=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerWidth",{get:function(){var e=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerHeight",{get:function(){var e=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalScale",{get:function(){var e=this.scale;return this._parent&&(e=e*this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(e){e=_t(e),e<0&&(e=0),e!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",e,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),t.prototype.margin=function(e,i,r,s){return this.marginTop=e,this.marginRight=i,this.marginBottom=r,this.marginLeft=s,this},Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(e){this.setPercentProperty("marginLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(e){this.setPercentProperty("marginRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(e){this.setPercentProperty("marginTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(e){this.setPercentProperty("marginBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginRight",{get:function(){var e=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginRight",{get:function(){var e=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginLeft",{get:function(){var e=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginLeft",{get:function(){var e=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginTop",{get:function(){var e=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginTop",{get:function(){var e=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginBottom",{get:function(){var e=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginBottom",{get:function(){var e=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",e):e},enumerable:!0,configurable:!0}),t.prototype.padding=function(e,i,r,s){return this.paddingTop=e,this.paddingRight=i,this.paddingBottom=r,this.paddingLeft=s,this},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(e){this.setPercentProperty("paddingLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(e){this.setPercentProperty("paddingRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(e){this.setPercentProperty("paddingTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(e){this.setPercentProperty("paddingBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPath(e)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return this.setPropertyValue("path",e)?(this._adapterO&&(e=this._adapterO.apply("path",e)),this._isPath||((!this.element||this.element.node&&!(this.element.node instanceof SVGPathElement))&&(this.element=this.paper.add("path")),this._isPath=!0),M(e)?this.element.attr({d:e}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0):!1},Object.defineProperty(t.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(e){this.setPropertyValue("fillModifier",e)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(e){this.setPropertyValue("strokeModifier",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(e){e=ap(e,0,1),this.setPropertyValue("fillOpacity",e)&&this.setSVGAttribute({"fill-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(e){this.setFill(e)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if((!Ot(e)||"r"in e)&&(e=Or(e)),this.setColorProperty("fill",e)||this.fillModifier){if(e instanceof ht&&this.fillModifier&&(e=this.fillModifier.modify(e)),this.realFill=e,e instanceof ht)this.setSVGAttribute({fill:e.toString()});else if(!M(e))this.removeSVGAttribute("fill");else if(e instanceof co||e instanceof Er||e instanceof Ss){var i=e;i.paper=this.paper,this.setSVGAttribute({fill:'url("'+ml()+i.id+'")'})}}},Object.defineProperty(t.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(e){e=ap(e,0,1),this.setPropertyValue("opacity",e)&&this.setSVGAttribute({opacity:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(e){this.setStroke(e)},enumerable:!0,configurable:!0}),t.prototype.setStroke=function(e){if((!Ot(e)||"r"in e)&&(e=Or(e)),this.setColorProperty("stroke",e)||this.strokeModifier){if(e instanceof ht&&this.strokeModifier&&(e=this.strokeModifier.modify(e)),this.realStroke=e,e instanceof ht)e.hex=="none"?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:e.toString()});else if(!M(e))this.removeSVGAttribute("stroke");else if(e instanceof co||e instanceof Er||e instanceof Ss){var i=e;i.paper=this.paper,this.setSVGAttribute({stroke:'url("'+ml()+i.id+'")'})}}},Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(e){e=ap(e,0,1),this.setPropertyValue("strokeOpacity",e)&&this.setSVGAttribute({"stroke-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(e){e=Mt(e),this.setPropertyValue("nonScalingStroke",e)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(e){e=Mt(e),this.setPropertyValue("nonScaling",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(e){e=_t(e),this.setPropertyValue("strokeWidth",e,!0),this.nonScalingStroke&&(D(e)||(e=1),e=e/this.globalScale),this.setSVGAttribute({"stroke-width":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(e){e=Pi(e),this.setPropertyValue("strokeDasharray",e)&&this.setSVGAttribute({"stroke-dasharray":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(e){e=_t(e),this.setPropertyValue("strokeDashoffset",e)&&this.setSVGAttribute({"stroke-dashoffset":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(e){this.setPropertyValue("strokeLinecap",e)&&this.setSVGAttribute({"stroke-linecap":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(e){this.setPropertyValue("strokeLinejoin",e)&&this.setSVGAttribute({"stroke-linejoin":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(e){e=Pi(e),this.setPropertyValue("shapeRendering",e)&&this.setSVGAttribute({"shape-rendering":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(e){e=Mt(e),e?this._positionPrecision=Fr.pixelPerfectPrecision:this._positionPrecision=3,this.setPropertyValue("pixelPerfect",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rtl",{get:function(){return M(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(e){e=Mt(e),this.isBaseSprite&&(this.topParent.rtl=e),this._rtl=e},enumerable:!0,configurable:!0}),t.prototype.show=function(e){return this.showReal(e)},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){var r,s=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||s.opacity!=null&&this.opacity<s.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),D(e)||(e=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,r=this.applyCurrentState(e),r&&!r.isFinished()?(this._showHideDisposer=r.events.on("animationended",function(){i.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var a=this.defaultState.properties.visible;M(a)||(a=!0),this.visible=a,this.readerHidden=!1,this.dispatchImmediately("shown")}return r}},t.prototype.hide=function(e){return this.hideReal(e)},t.prototype.hideReal=function(e){var i=this,r;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var s=this.hiddenState;s?(r=this.setState(s,e,void 0),r&&!r.isFinished()?(this._hideAnimation=r,this._showHideDisposer=r.events.on("animationended",function(){i.isHiding=!1,i._isHidden=!0,s.properties.visible==!1&&(i.visible=!1)},this),this._disposers.push(this._showHideDisposer),this._disposers.push(r)):(this.isHiding=!1,this._isHidden=!0)):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return D(e)||(e=this.hiddenState.transitionDuration),r},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisibility()},set:function(e){e=Mt(e),this.setVisibility(e)},enumerable:!0,configurable:!0}),t.prototype.getVisibility=function(){var e=this.getPropertyValue("visible");return M(e)||(e=!0),e},t.prototype.setVisibility=function(e){if(this.setPropertyValue("visible",e)&&(e?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var i={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",i)}},Object.defineProperty(t.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(e){e=_t(e),this.setPropertyValue("zIndex",e)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),t.prototype.toFront=function(){var e=this._parent;e&&e.children.indexOf(this)!=e.children.length-1&&(e.children.moveValue(this,e.children.length-1),this.dispatch("zIndexChanged"))},t.prototype.toBack=function(){var e=this._parent;e&&e.children.indexOf(this)!=0&&(e.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(t.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(e){this.setPropertyValue("userClassName",e)&&(!e&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){if(this._tooltip)return this._tooltip;if(this.virtualParent)return this.virtualParent.tooltip;if(this._parent)return this._parent.tooltip},set:function(e){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=e,e&&(e.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDataItem",{get:function(){var e=this._tooltipDataItem;return e||this.dataItem},set:function(e){this._tooltipDataItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(e){this._tooltipColorSource=e},enumerable:!0,configurable:!0}),t.prototype.showTooltip=function(e){this.showTooltipOn=="always"&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!e&&this.tooltipPosition=="pointer"&&this.isHover&&(e=bs(Ne().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var i=this;i!=null;){if(!i.visible||i.disabled||i.__disabled){this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0);return}i=i.parent}if(M(this.tooltipText)||M(this.tooltipHTML)){var r=this.tooltip,s=this.tooltipDataItem;if(r){r.targetSprite=this;var a=this,o=this.tooltipColorSource;if((r.getStrokeFromObject||r.getFillFromObject)&&o&&(o.isTemplate?s&&Sm(s.sprites,function(y){return y.clonedFrom==o?(a=y,!1):!0}):a=o),r.getStrokeFromObject){for(var u=this.stroke,c=a;c.parent!=null&&(u=c.stroke,u==null&&(c=c.parent),u==null););u instanceof ht?r.background.animate({property:"stroke",to:u},r.animationDuration):r.background.stroke=u}if(r.dataItem=s,r.label.populateStringFrom=this,r.getFillFromObject){for(var f=this.fill,c=a;c.parent!=null;)if(f=c.fill,f==null||f instanceof ht&&f.rgb==null)c=c.parent;else if(f!=null)break;f==null&&(f=Oe("#000000")),f instanceof ht&&r.visible?r.background.animate({property:"fill",to:f},r.animationDuration):r.background.fill=f,r.autoTextColor&&f instanceof ht&&(r.label.fill=f.alternative)}var p="";if(this.tooltipHTML&&(r.html=this.tooltipHTML,p=this.tooltipHTML),this.tooltipText&&(r.text=this.tooltipText,p=this.tooltipText),this.updateTooltipPosition(e))if(r.readerDescribedBy=this.uidAttr(),r.label.invalid&&r.label.validate(),p!=null&&p!=""&&r.label.currentText!=""){r&&!r.parent&&(r.parent=this.tooltipContainer);var g=r.defaultState.transitionDuration;return g<=0&&(g=1),r.show(g),r.currentSprite=this,!0}else this.hideTooltip(0);else this.hideTooltip(0)}}return!1},t.prototype.updateTooltipPosition=function(e){var i=this;if(this.tooltipPosition=="pointer"){if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=Ne().body.events.on("track",function(s){return i.pointTooltipTo(bs(s.point,i.svgContainer.SVGContainer,i.svgContainer.cssScale),!0)}),e)return this.pointTooltipTo(e,!0)}else{var r=Tr({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(r)}},t.prototype.pointTooltipTo=function(e,i){var r=this.tooltip;return r&&this.topParent&&(r.showInViewport||A0(e,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))?(r.pointTo(e,i),!0):!1},t.prototype.hideTooltip=function(e){if(this.showTooltipOn!="always"){var i=this.tooltip;i&&(i.targetSprite==this&&(i.targetSprite=void 0),i.hide(e),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(t.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(e){e=Pi(e),this.hoverable=!0,this.setPropertyValue("tooltipHTML",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(e){e=Pi(e),e&&(this.hoverable=!0),this.setPropertyValue("tooltipText",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContainer",{get:function(){if(this._tooltipContainer)return this._tooltipContainer;if(this._parent)return this._parent.tooltipContainer},set:function(e){this._tooltipContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(e){this.setPercentProperty("tooltipX",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowTooltip",{get:function(){return this.getPropertyValue("showTooltipOn")=="always"},set:function(e){e=Mt(e),e&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(e){this.setPropertyValue("showTooltipOn",e)&&(e=="hit"&&(this.clickable=!0),this.tooltip&&(e=="always"?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(e){this.setPropertyValue("tooltipPosition",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(e){this.setPercentProperty("tooltipY",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");M(e)||(e=te(50));var i;return D(e)&&(i=e),e instanceof st&&(i=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),D(i)||(i=0),i},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");M(e)||(e=te(50));var i;return D(e)&&(i=e),e instanceof st&&(i=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),D(i)||(i=0),i},t.prototype.raiseCriticalError=function(e,i){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",e).message:this.modal.content=e.message,i?this.modal.closable=!0:this.disabled=!0,this.modal.open()),console.log(e)},t.prototype.processConfig=function(e){e&&(M(e.tooltipColorSource)&&at(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),M(e.cursorOverStyle)&&at(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),M(e.cursorDowntyle)&&at(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),M(e.cursorOptions)&&(M(e.cursorOptions.overStyle)&&at(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),M(e.cursorOptions.downStyle)&&at(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),n.prototype.processConfig.call(this,e),this.processDelayedMap()},t.prototype.getCursorStyle=function(e){switch(e){case"grab":return gi.grab;case"grabbing":return gi.grabbing;case"pointer":return gi.pointer;case"horizontalResize":return gi.horizontalResize;case"verticalResize":return gi.verticalResize;default:return gi.default}},t.prototype.configOrder=function(e,i){return e==i?0:e=="tooltipColorSource"?1:i=="tooltipColorSource"?-1:n.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:this._parent?this._parent.isHidden:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(e){e=Mt(e),this.setShowOnInit(e)},enumerable:!0,configurable:!0}),t.prototype.setShowOnInit=function(e){this.setPropertyValue("showOnInit",e)&&(this.isTemplate||(e&&!this.inited&&!this.hidden?(this._showOnInitDisposer=new Lt([F.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer)):this._showOnInitDisposer&&this._showOnInitDisposer.dispose()))},t.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},t.prototype.appear=function(){var e=this;if(this.appeared=!1,!this.hidden&&!this.isHidden&&this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var i=this.show();i&&!i.isFinished()?this.addDisposer(i.events.on("animationended",function(){e.appeared=!0,e.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(t.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(e){e=Mt(e),this.setPropertyValue("hidden",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plugins",{get:function(){var e=this;return this._plugins||(this._plugins=new ct,this._disposers.push(this._plugins.events.on("inserted",function(i){i.newValue.target=e,i.newValue.init()})),this._disposers.push(new Pt(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),t.prototype._systemUpdate=function(e){this.validate()},t.prototype._systemCheckIfValidate=function(){return!0},t.prototype._systemValidatePositions=function(){this.validatePosition()},t.prototype._systemValidateLayouts=function(){},t}(wn);F.registeredClasses.Sprite=Ye;var Ac=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Rectangle",e.element=e.paper.add("rect"),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this._positionPrecision;this.pixelPerfect&&(e=0);var i=ee(this.innerWidth,e),r=ee(this.innerHeight,e);this.element.attr({width:i,height:r})},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.Rectangle=Ac;var Se=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new St,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new da(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return t.prototype.handleChildAdded=function(e){this.processChild(e.newValue)},t.prototype.processChild=function(e){try{this._childrenDisposers.insertKey(e.uid,new Lt([e.events.on("transformed",this.handleChildTransform,this),e.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch{}if(this.element){var i=this.element;i.add(e.group)}e.parent=this,e.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:e}),this.invalidate()},t.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},t.prototype.handleChildRemoved=function(e){var i=e.oldValue;if(this._childrenDisposers.removeKey(i.uid),this.element){var r=this.element;r.removeElement(i.group)}i.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:i})},t.prototype.handleChildTransform=function(e){var i=e.target;i.isMeasured&&this.invalidateLayout()},t.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||(this.layoutInvalid=!0,F.addToInvalidLayouts(this),it.requestFrame())},t.prototype.invalidate=function(){n.prototype.invalidate.call(this),this.invalidateLayout()},t.prototype.deepInvalidate=function(){n.prototype.invalidate.call(this),ce(this._childrenByLayout,function(e){e instanceof t?e.deepInvalidate():e.invalidate()}),this.invalidateLayout()},Object.defineProperty(t.prototype,"children",{get:function(){return this._children||(this._children=new ct),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),t.prototype.removeElement=function(){},t.prototype.sortChildren=function(){var e=this;if(this._childrenByLayout=[],this.layout=="none"||this.layout=="absolute"||!this.layout)this._childrenByLayout=this.children.values;else{var i=[],r=[];Q(this.children.iterator(),function(s){e.layout=="horizontal"||e.layout=="grid"?D(s.percentWidth)?r.push(s):i.push(s):e.layout=="vertical"&&D(s.percentHeight)?r.push(s):i.push(s)}),this._childrenByLayout=i.concat(r)}this.calculateRelativeSize()},t.prototype.calculateRelativeSize=function(){var e=this,i=0,r=0;ce(this._childrenByLayout,function(s){s.isMeasured&&(D(s.percentWidth)&&(i+=s.percentWidth),D(s.percentHeight)&&(r+=s.percentHeight))}),ce(this._childrenByLayout,function(s){s.isMeasured&&(e.layout=="horizontal"&&(D(s.percentWidth)&&(s.relativeWidth=s.percentWidth/i),D(s.percentHeight)&&(s.relativeHeight=s.percentHeight/100)),e.layout=="vertical"&&(D(s.percentHeight)&&(s.relativeHeight=s.percentHeight/r),D(s.percentWidth)&&(s.relativeWidth=s.percentWidth/100)),e.layout=="grid"&&(D(s.percentHeight)&&(s.relativeHeight=s.percentHeight/100),D(s.percentWidth)&&(s.relativeWidth=s.percentWidth/100))),(e.layout=="absolute"||!s.isMeasured)&&(D(s.percentWidth)&&(s.relativeWidth=s.percentWidth/100),D(s.percentHeight)&&(s.relativeHeight=s.percentHeight/100))})},t.prototype.addChildren=function(){if(this.element){var e=Ol(this.children.values),i=e.map(function(u,c){return{idx:c,data:u}});i.sort(function(u,c){var f=u.data.zIndex||0,p=c.data.zIndex||0;return f<p?-1:f>p?1:u.idx-c.idx}),e=i.map(function(u){return u.data});var r=this.element,s=!0;if(r.node&&r.node.childNodes){for(var a=0,o=r.node.childNodes.length;a<o;a++)if(r.node.childNodes[a]!=e[a].group.node){s=!1;break}}s||(ce(e,function(u){u.group&&r.add(u.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},t.prototype.createChild=function(e){var i=new e;return i.parent=this,i},t.prototype.removeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.parent=void 0,this.children.removeValue(e)}},t.prototype.disposeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.dispose(),this.children.removeValue(e)}},Object.defineProperty(t.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(e){this._background&&this.background!=e&&this.removeDispose(this._background),e&&(this._background=e,this._disposers.push(e),this.processBackground())},enumerable:!0,configurable:!0}),t.prototype.handleGlobalScale=function(){n.prototype.handleGlobalScale.call(this),this.children.each(function(e){e.handleGlobalScale()})},t.prototype.createBackground=function(){return new Ac},t.prototype.processBackground=function(){var e=this._background;e&&(e.isMeasured=!1,this._background.fill=new ft().getFor("background"),e.parent=this,e.isMeasured=!1,this.children.removeValue(e),this._disposers.push(e),this.group.addToBack(this._background.group))},t.prototype.validateLayout=function(){var e=this;F.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var i=0,r=0,s=!0;this.children&&(this.sortChildren(),ce(this._childrenByLayout,function(a){var o,u;if(D(a.relativeWidth)?(o=ee(e._availableWidth*a.relativeWidth,2),e.layout=="horizontal"&&(o-=a.pixelMarginRight+a.pixelMarginLeft)):e.layout=="horizontal"&&a.invalid&&a.validate(),D(a.relativeHeight)?(u=ee(e._availableHeight*a.relativeHeight,2),e.layout=="vertical"&&(u-=a.pixelMarginTop+a.pixelMarginBottom)):e.layout=="vertical"&&a.invalid&&a.validate(),a.invalid==!1){if(D(a.relativeWidth)&&(a.maxWidth=o),D(a.relativeHeight)&&(a.maxHeight=u),a.isMeasured){e.layout=="horizontal"&&(D(a.percentWidth)||a.measuredWidth>0&&(e._availableWidth-=a.measuredWidth+a.pixelMarginLeft+a.pixelMarginRight)),e.layout=="vertical"&&(D(a.percentHeight)||a.measuredHeight>0&&(e._availableHeight-=a.measuredHeight+a.pixelMarginTop+a.pixelMarginBottom));var c=a.measuredWidth,f=a.measuredHeight;a.align!="none"&&(c+=a.pixelMarginLeft+a.pixelMarginRight),a.valign!="none"&&(f+=a.pixelMarginTop+a.pixelMarginBottom),i=Math.max(i,c),r=Math.max(r,f)}}else a.isMeasured&&(D(a.relativeWidth)&&a.maxWidth!=o&&(a.maxWidth=o,s=!1),D(a.relativeHeight)&&a.maxHeight!=u&&(a.maxHeight=u,s=!1))})),this._absoluteWidth=i,this._absoluteHeight=r,s&&this.arrange()},t.prototype.arrange=function(){var e=this,i=this.children,r=0,s=0,a=We(this.innerWidth,this._absoluteWidth),o=We(this.innerHeight,this._absoluteHeight),u,c,f,p,g=this.pixelPaddingLeft,y=this.pixelPaddingRight,b=this.pixelPaddingTop,x=this.pixelPaddingBottom,w=0,P=0,S=0,k=0,T=[],j=[],V,A,I,L=this.maxWidth,J=this.maxHeight,ie=this.minWidth,ne=this.minHeight,Fe=Ol(i.values);if(this.reverseOrder&&Fe.reverse(),this.layout=="grid"){A=L,V=1;for(var ut=0,ze=Fe.length;ut<ze;ut++){var be=Fe[ut];if(be.isMeasured&&!be.disabled&&!be.__disabled){var Ae=be.measuredWidth;Ae<A&&(A=Ae),Ae>V&&(V=Ae)}}A=ge(A,1,L),V=ge(V,1,L),this.fixedWidthGrid?I=L/V:I=L/A,I=We(1,Math.floor(I)),I=ot(this.maxColumns,I),T=this.getColumnWidth(Fe,I,V)}for(var se,ye,fe,H,ut=0,ze=Fe.length;ut<ze;ut++){var be=Fe[ut];if(be.isMeasured&&!be.disabled&&!be.__disabled){var Y=void 0,xe=void 0,Pe=be.pixelMarginLeft,He=be.pixelMarginRight,Ze=be.pixelMarginTop,lt=be.pixelMarginBottom,nt=be.measuredWidth,Ge=be.measuredHeight,jt=void 0,Wi=void 0,vr=void 0,Fi=void 0;switch(this.layout){case"none":break;case"absolute":switch(be.align){case"left":Y=Pe-be.maxLeft;break;case"center":Y=(a-nt)/2-be.maxLeft;break;case"right":Y=a-He-be.maxRight;break;default:be.x instanceof st||(Y=be.pixelX);break}switch(be.valign){case"top":xe=Ze-be.maxTop;break;case"middle":xe=(o-Ge)/2-be.maxTop;break;case"bottom":xe=o-lt-be.maxBottom;break;default:be.y instanceof st||(xe=be.pixelY);break}break;case"vertical":switch(be.align){case"left":Y=Pe-be.maxLeft;break;case"center":Y=(a-nt)/2-be.maxLeft;break;case"right":Y=a-He-be.maxRight;break;default:Y=be.pixelX;break}xe=P+Ze-be.maxTop,P=xe+be.maxBottom+lt;break;case"horizontal":switch(be.valign){case"top":xe=Ze-be.maxTop;break;case"middle":xe=(o-Ge)/2-be.maxTop;break;case"bottom":xe=o-lt-be.maxBottom;break;default:xe=be.pixelY;break}Y=w+Pe-be.maxLeft,w=Y+be.maxRight+He;break;case"grid":switch(Y=w+Pe-be.maxLeft,be.valign){case"top":xe=P+Ze-be.maxTop;break;case"middle":xe=P+(o-Ge)/2-be.maxTop;break;case"bottom":xe=P+o-lt-be.maxBottom;break;default:xe=P-be.maxTop;break}w+=T[k],j[S]=We(j[S],Ge),k++;var Pn=T[k];if(D(Pn)||(Pn=V),w>ot(this.innerWidth,L)-Pn+1&&k<I){I=k,w=0,P=0,S=0,k=0,T=this.getColumnWidth(Fe,I,V),j=[],ut=-1;continue}k>=I&&(k=0,P+=j[S],S++,w=0);break}this.layout!=="none"&&(be.moveTo({x:Y,y:xe}),jt=Y+be.maxLeft-Pe,Wi=Y+be.maxRight+He,vr=xe+be.maxTop-Ze,Fi=xe+be.maxBottom+lt,(Wi>c||!D(c))&&(c=Wi),(jt<u||!D(u))&&(u=jt),(vr<f||!D(f))&&(f=vr),(Fi>p||!D(p))&&(p=Fi),(Wi>ye||!D(ye))&&(ye=Wi),(jt<se||!D(se))&&(se=jt),(vr<fe||!D(fe))&&(fe=vr),(Fi>H||!D(H))&&(H=H))}else be.validatePosition()}if(this.layout=="none"){var Ir=this.bbox;u=Ir.x,c=Ir.x+Ir.width,f=Ir.y,p=Ir.y+Ir.height}D(u)||(u=0,se=0),D(c)||(c=this._availableWidth,ye=c),D(f)||(f=0,fe=0),D(p)||(p=this._availableHeight,H=p),D(fe)||(fe=0),D(H)||(H=fe),D(se)||(se=0),D(ye)||(ye=se),r=c-u,s=p-f,D(this.relativeWidth)&&(r=L-g-y,u=0,c=r),D(this.relativeHeight)&&(s=J-b-x,f=0,p=s),D(this._pixelWidth)&&(u=0,r=this._pixelWidth-g-y),D(ie)&&r<ie&&(u=0,r=this.minWidth-g-y),D(this._pixelHeight)&&(f=0,s=this._pixelHeight-b-x),D(ne)&&s<ne&&(f=0,s=ne-b-x);var nn=ye-se,sn=H-fe;if(this.layout!="none"&&(this.contentAlign||this.contentValign)&&i.length>0){var Cn,an,br=r,vi=s;br<nn&&(br=nn),vi<sn&&(vi=sn),this.contentAlign=="center"&&(Cn=(br-nn)/2),this.contentAlign=="right"&&(Cn=br-nn),this.contentValign=="middle"&&(an=(vi-sn)/2),this.contentValign=="bottom"&&(an=vi-sn),D(Cn)&&Q(i.iterator(),function(Dt){var Rr=Dt.maxLeft,It=Cn;e.layout=="horizontal"&&(Dt.x=Dt.pixelX+It),e.layout=="grid"&&(Dt.x=Dt.pixelX+It),e.layout=="vertical"&&(It+=Dt.pixelMarginLeft,Dt.align=="none"&&(Dt.x=It-Rr)),e.layout=="absolute"&&(It+=Dt.pixelMarginLeft,Dt.align=="none"&&(Dt.x=It-Rr))}),D(an)&&Q(i.iterator(),function(Dt){var Rr=Dt.maxTop,It=an;e.layout=="horizontal"&&(It+=Dt.pixelMarginTop,Dt.valign=="none"&&(Dt.y=It-Rr)),e.layout=="grid"&&(It+=Dt.pixelMarginTop,Dt.y=It-Rr),e.layout=="vertical"&&(Dt.y=Dt.pixelY+It),e.layout=="absolute"&&(It+=Dt.pixelMarginTop,Dt.valign=="none"&&(Dt.y=It-Rr))})}var sr=this.bbox;r=We(r,ie),s=We(s,ne),this.contentWidth=r,this.contentHeight=s,r=ot(r,L),s=ot(s,J),this._bbox={x:u,y:f,width:r,height:s};var Fs=this.maxLeft,Yn=this.maxTop,ar=this.maxBottom,Gi=this.maxRight;if(this.measure(),(Fs!=this.maxLeft||Gi!=this.maxRight||Yn!=this.maxTop||ar!=this.maxBottom)&&this.events.isEnabled("transformed")){var Sn={type:"transformed",target:this};sr&&(Sn.dummyData=sr.width+" "+r+"  "+sr.height+" "+s),this.events.dispatchImmediately("transformed",Sn)}this.dispatchImmediately("layoutvalidated")},t.prototype.updateCenter=function(){n.prototype.updateCenter.call(this),this.updateBackground()},t.prototype.updateBackground=function(){var e=this._background;e&&(e.x=this.maxLeft,e.y=this.maxTop,e.width=this.maxRight-this.maxLeft,e.height=this.maxBottom-this.maxTop)},t.prototype.getColumnWidth=function(e,i,r){var s=this,a=[],o=0;return ce(e,function(u){u.isMeasured&&!u.disabled&&!u.__disabled&&(s.fixedWidthGrid?a[o]=r:a[o]=We(a[o],u.measuredWidth+u.pixelMarginRight+u.pixelMarginLeft),o++,o==i&&(o=0))}),a},Object.defineProperty(t.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(e){this.setPropertyValue("layout",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(e){this.setPropertyValue("contentValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(e){this.setPropertyValue("contentAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(e){this.setPropertyValue("fixedWidthGrid",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(e){this.setPropertyValue("maxColumns",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(e){this.setPropertyValue("reverseOrder",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(e){this.setPropertyValue("setStateOnChildren",e,!0)},enumerable:!0,configurable:!0}),t.prototype.fitsToBounds=function(e){var i=e.x,r=e.y,s=.5;return i>=-.5&&i<=this.pixelWidth+s&&r>=-.5&&r<=this.pixelHeight+s},t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),Q(e.children.iterator(),function(r){if(r.shouldClone){var s=r.clone();s.parent=i}})},Object.defineProperty(t.prototype,"preloader",{get:function(){var e=this._preloader;if(e)return e;if(this.parent)return this.parent.preloader},set:function(e){this._preloader&&this.removeDispose(this._preloader),this._preloader=e,e&&(e.parent=this.tooltipContainer,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){var i=this,r=n.prototype.setPaper.call(this,e);return r&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each(function(s){s.setPaper(e),s.topParent=i.topParent})),r},t.prototype.removeFromInvalids=function(){n.prototype.removeFromInvalids.call(this),F.removeFromInvalidLayouts(this)},t.prototype.setDataItem=function(e){this._dataItem!=e&&(Q(this.children.iterator(),function(i){i.dataItem=e}),this._background&&(this._background.dataItem=e)),n.prototype.setDataItem.call(this,e)},t.prototype.measureElement=function(){this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||this.validateLayout()},Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(e){this.setPropertyValue("fontFamily",e,!0)&&(this.setSVGAttribute({"font-family":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(e){this.setPropertyValue("fontSize",e,!0)&&(this.setSVGAttribute({"font-size":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),t.prototype.invalidateLabels=function(){this.children.each(function(e){e.hardInvalidate?(e.hardInvalidate(),e.events.once("validated",e.handleValidate,e,!1)):e instanceof t&&e.invalidateLabels()})},Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(e){this.setPropertyValue("fontWeight",e),this.setSVGAttribute({"font-weight":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(e){this.setPropertyValue("textDecoration",e),this.setSVGAttribute({"text-decoration":e})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),n.prototype.dispose.call(this)},t.prototype.setState=function(e,i,r){var s=e;return e instanceof lc&&(s=e.name),this.setStateOnChildren&&Q(this.children.iterator(),function(a){a.setState(s,i,r),s!="active"&&(a.isActive=!1)}),this._background&&this._background.setState(s),this.setStateOnSprites.length&&ce(this.setStateOnSprites,function(a){a.setState(s,i,r)}),n.prototype.setState.call(this,e,i,r)},t.prototype.setActive=function(e){n.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},t.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;yr(this.children.iterator(),function(r){return!r.__disabled&&!r.disabled&&!r.isReady()?(i=!1,!1):!0}),Sm(this._shouldBeReady,function(r){return!r.__disabled&&!r.disabled&&!r.isReady()?(i=!1,!1):!0}),i?n.prototype.dispatchReady.call(this):F.events.once("exitframe",function(){e.dispatchReady(),it.requestFrame()},void 0,!1)}},t.prototype._systemUpdate=function(e){this.children.each(function(i){i.invalid&&(i._systemCheckIfValidate()?i.dataItem&&i.dataItem.component&&i.dataItem.component.dataInvalid?e.push(i):i.validate():e.push(i))}),n.prototype._systemUpdate.call(this,e)},t.prototype._systemValidatePositions=function(){this.children.each(function(e){e.positionInvalid&&e.validatePosition()}),n.prototype._systemValidatePositions.call(this)},t.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(t.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(e){this._tapToActivate!=e&&this.setTapToActivate(e)},enumerable:!0,configurable:!0}),t.prototype.setTapToActivate=function(e){var i=this;this._tapToActivate=e,this.interactions.isTouchProtected=e,e&&this.interactions.setEventDisposer("container-tapToActivate",e,function(){return new Lt([i.events.on("hit",i.handleTapToActivate,i,!1),i.events.on("down",i.initTapTimeout,i,!1),i.events.on("track",i.initTapTimeout,i,!1),Ne().body.events.on("down",function(r){Ne().isLocalElement(r.pointer,i.paper.svg,i.uid)||i.handleTapToActivateDeactivation()},i,!1)])}),Ne()},t.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},t.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},t.prototype.initTapTimeout=function(){var e=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){e.handleTapToActivateDeactivation()},this.tapTimeout))},t.prototype.moveHtmlContainer=function(e){var i=a1(e);if(i){this.htmlContainer=i;var r=this.svgContainer;r.htmlElement=i,r.htmlElement.appendChild(r.SVGContainer),r.initSensor(),r.measure()}else at(e)&&e!=""&&it.log("html container '"+e+"' not found")},t.prototype.hasLicense=function(){for(var e=0;e<Fr.licenses.length;e++)if(Fr.licenses[e].match(/^CH.{5,}/i))return!0;return!1},t}(Ye);F.registeredClasses.Container=Se;var VT=function(){function n(){this._isPaused=!1,this.animations=[],this.uid=F.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return n.prototype.reportTime=function(t,e){this.dummyCounter<6,e&&(this.time=Date.now())},n.prototype.update=function(){var t=this;if(!this._isPaused){this._frameRequested=!1;var e=Date.now();F.dispatchImmediately("enterframe");var i=[];for(var r in F.invalidDatas)if(pn(F.invalidDatas,r)){for(var s=F.invalidDatas[r];s.length>0;){var a=s[0],o=a.dataProvider;if(a.isDisposed())Le(s,a);else if(o&&o.dataInvalid)try{if(o.validateData(),o.dataValidationProgress<1)break}catch(p){Le(s,o),o.raiseCriticalError(p)}else try{if(a.validateData(),a.dataValidationProgress<1)break}catch(p){Le(s,a),a.raiseCriticalError(p)}}if(Date.now()-e>this.updateStepDuration)break}for(;F.invalidRawDatas.length>0;){var a=F.invalidRawDatas[0];if(a.isDisposed())Le(F.invalidRawDatas,a);else try{a.validateRawData()}catch(g){Le(F.invalidRawDatas,a),a.raiseCriticalError(g)}}for(;F.invalidDataItems.length>0;){var a=F.invalidDataItems[0],o=a.dataProvider;if(!(a.isDisposed()||a.dataInvalid||o&&o.dataInvalid))try{a.validateDataItems()}catch(y){Le(F.invalidDataItems,a),a.raiseCriticalError(y)}Le(F.invalidDataItems,a)}for(;F.invalidDataRange.length>0;){var a=F.invalidDataRange[0],o=a.dataProvider;if(!(a.isDisposed()||a.dataInvalid||o&&o.dataInvalid))try{a.validateDataRange(),a.skipRangeEvent||a.dispatchImmediately("datarangechanged"),a.skipRangeEvent=!1}catch(y){Le(F.invalidDataRange,a),a.raiseCriticalError(y)}Le(F.invalidDataRange,a)}var u=[];Ve(F.invalidLayouts,function(p){t.validateLayouts(p)}),Ve(F.invalidPositions,function(p){t.validatePositions(p)});var c=!1;if(e=Date.now(),Ve(F.invalidSprites,function(p,g){for(var y=0;g.length>0;){if(t.validateLayouts(p),t.validatePositions(p),y++,y==5){if(Date.now()-e>t.updateStepDuration)break;y=0}var b=g[g.length-1];if(b&&!b.isDisposed()){if(!b._systemCheckIfValidate())u.push(b);else if(!t.checkIfValidate2(b))u.push(b);else try{b._systemUpdate(u)}catch(x){b.invalid=!1,Le(g,b),b.raiseCriticalError(x)}b.invalid=!1}Le(g,b)}F.invalidSprites[p]=F.invalidSprites[p].concat(u)}),Ve(F.invalidSprites,function(p,g){g.length>0&&(c=!0)}),Ve(F.invalidDatas,function(p,g){g.length>0&&(c=!0)}),ce(Ol(this.animations),function(p){p.update()}),Ve(F.invalidLayouts,function(p){t.validateLayouts(p)}),Ve(F.invalidPositions,function(p){t.validatePositions(p)}),Ik(),Ve(F.invalidLayouts,function(p){t.validateLayouts(p)}),Ve(F.invalidPositions,function(p){t.validatePositions(p)}),F.dispatchImmediately("exitframe"),(c||this.animations.length>0||i.length>0)&&this.requestFrame(),this.updateStepDuration<200){var f=!0;Ve(F.invalidDatas,function(p,g){g.length>0&&(f=!1)}),Ve(F.invalidSprites,function(p,g){g.length>0&&(f=!1)}),f&&(this.updateStepDuration=200)}}},n.prototype.checkIfValidate2=function(t){return!(t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid&&!t.dataItem.component.isTemplate)},n.prototype.requestFrame=function(){var t=this;this._frameRequested||(jm(function(){t.update()}),this._frameRequested=!0)},n.prototype.softInvalidate=function(t){var e=this;t.children.each(function(i){i instanceof Se&&e.softInvalidate(i),i.measureFailed&&(Gk(i,"Label")?i.hardInvalidate():i.invalidate(),i.measureFailed=!1)})},n.prototype.validatePositions=function(t){for(var e=F.invalidPositions[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())Le(e,i);else try{i._systemValidatePositions()}catch(r){i.positionInvalid=!1,Le(e,i),i.raiseCriticalError(r)}}},n.prototype.validateLayouts=function(t){for(var e=F.invalidLayouts[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())Le(e,i);else try{i.children.each(function(r){r._systemValidateLayouts()}),i.validateLayout()}catch(r){i.layoutInvalid=!1,Le(e,i),i.raiseCriticalError(r)}}},n.prototype.log=function(t){vT(t)},Object.defineProperty(n.prototype,"isPaused",{get:function(){return this._isPaused},set:function(t){this._isPaused=t,t||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),n.VERSION="4.10.40",n}(),it=new VT,y1=function(){function n(){}return n.prototype.parse=function(t){return[]},Object.defineProperty(n.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),n.prototype.maybeToNumber=function(t,e){return this.options.numberFields.indexOf(t)!==-1?Hp(e):e},Object.defineProperty(n.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),n.prototype.maybeToDate=function(t,e){return this.options.dateFields.indexOf(t)!==-1?this.options.dateFormatter.parse(e,this.dateFormat):e},n.prototype.maybeToEmpty=function(t){return(!M(t)||t=="")&&M(this.options.emptyAs)?this.options.emptyAs:t},Object.defineProperty(n.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new $l,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),n}(),AT=[",",";","	"],dc=function(n){N(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.contentType="text/csv",e.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},e}return t.isCSV=function(e){return!!t.getDelimiterFromData(e)},t.getDelimiterFromData=function(e){var i=e.split(`
`),r=i.length,s;return ce(AT,function(a){for(var o=0,u=0,c=0;c<r;++c)if(o=i[c].split(a).length,o>1){if(u===0)u=o;else if(o!=u){u=0;break}}else{u=0;break}u&&(s=a)}),s},t.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=t.getDelimiterFromData(e));var i=this.CSVToArray(e,this.options.delimiter),r=M(this.options.emptyAs),s=this.parsableNumbers,a=this.parsableDates,o=[],u=[],c,f;for(f=0;f<this.options.skipRows;f++)i.shift();if(this.options.useColumnNames){u=i.shift();for(var p=0;p<u.length;p++)c=M(u[p])?u[p].replace(/^\s+|\s+$/gm,""):"",c===""&&(c="col"+p),u[p]=c}for(var g;g=this.options.reverse?i.pop():i.shift(),!!g;)if(!(this.options.skipEmpty&&g.length===1&&g[0]==="")){var y={};for(f=0;f<g.length;f++)c=u[f]===void 0?"col"+f:u[f],y[c]=g[f]===""?this.options.emptyAs:g[f],r&&(y[c]=this.maybeToEmpty(y[c])),s&&(y[c]=this.maybeToNumber(c,y[c])),a&&(y[c]=this.maybeToDate(c,y[c]));o.push(y)}return o},t.prototype.CSVToArray=function(e,i){i=i||",";for(var r=new RegExp("(\\"+i+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+i+"\\r\\n]*))","gi"),s=[[]],a=null;a=r.exec(e),!!a;){var o=a[1];o.length&&o!==i&&s.push([]);var u=void 0;a[2]?u=a[2].replace(new RegExp('""',"g"),'"'):u=a[3],s[s.length-1].push(u)}return s},t}(y1),Pl=function(n){N(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return t.isJSON=function(e){try{return JSON.parse(e),!0}catch{return!1}},t.prototype.parse=function(e){var i=this,r;try{M(JSON)&&(r=JSON.parse(e))}catch{return}var s=M(this.options.emptyAs),a=this.parsableNumbers,o=this.parsableDates;if(Array.isArray(r)&&(a||o||s))for(var u=function(p,g){var y=r[p];Ve(y,function(b,x){s&&(y[b]=i.maybeToEmpty(y[b])),a&&(y[b]=i.maybeToNumber(b,y[b])),o&&(y[b]=i.maybeToDate(b,y[b]))})},c=0,f=r.length;c<f;c++)u(c,f);return r},t}(y1),IT=function(){function n(){this.adapter=new rr(this)}return n.prototype.load=function(t){var e=Array.isArray(t)?t:[t],i=Ul(e,function(r){return r.dispatchImmediately("started"),r.dispatchImmediately("loadstarted"),cc(r.url,r,r.requestOptions)});Promise.all(i).then(function(r){ce(r,function(s){var a=s.target;a.dispatchImmediately("loadended"),s.error?a.events.isEnabled("error")&&a.events.dispatchImmediately("error",{type:"error",code:s.xhr.status,message:a.language.translate("Unable to load file: %1",null,a.url),target:a}):a.processData(s.response,s.type),a.dispatchImmediately("ended")})}).catch(function(r){r.target&&(r.target.dispatchImmediately("loadended"),r.target.events.isEnabled("error")&&r.target.events.dispatchImmediately("error",{type:"error",code:r.xhr.status,message:r.target.language.translate("Unable to load file: %1",null,r.target.url),target:r.target}),r.target.dispatchImmediately("ended"))})},n.prototype.getParserByType=function(t){var e=this.adapter.apply("getParserByType",{parser:null,type:t}).parser;if(e)return e;if(t=="csv"||t=="text/csv"||t=="application/vnd.ms-excel")return new dc;if(t=="json"||t=="application/json")return new Pl},n.prototype.getParserByData=function(t,e){var i=this.adapter.apply("getParserByData",{parser:null,data:t,type:e}).parser;if(!i){if(i=this.getParserByType(e),i)return i;if(Pl.isJSON(t))return this.getParserByType("json");if(dc.isCSV(t))return this.getParserByType("csv")}return i},n}(),yp=new IT,RT=function(n){N(t,n);function t(e,i){var r=n.call(this)||this;return r.adapter=new rr(r),r._requestOptions={},r._incremental=!1,r._incrementalParams={},r._keepCount=!1,r._updateCurrentData=!1,r.showPreloader=!0,r.className="DataSource",e&&(r.url=e),i&&(typeof i=="string"?r.parser=yp.getParserByType(i):r.parser=i),r}return t.prototype.processData=function(e,i){if(this.dispatchImmediately("parsestarted"),!this.parser&&(this.parser=yp.getParserByData(e,i),!this.parser)){if(this.events.isEnabled("parseerror")){var r={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",r)}this.dispatchImmediately("parseended");return}if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!M(this.data)&&this.events.isEnabled("parseerror")){var s={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",s)}this.dispatchImmediately("parseended"),M(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date},Object.defineProperty(t.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser||(this._parser=new Pl),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var i=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?M(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(r){i._reloadTimeout=setTimeout(function(){i.load()},i.reloadFrequency)})):M(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new js,this.language)},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new $l,this.dateFormatter)},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),t.prototype.timestampUrl=function(e){var i=new Date().getTime().toString(),r={};return r[i]="",this.addUrlParams(e,r)},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),M(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},t.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),yp.load(this))},t.prototype.addUrlParams=function(e,i){var r=e.match(/\?/)?"&":"?",s=[];return Ve(i,function(a,o){o!=""?s.push(a+"="+encodeURIComponent(o)):s.push(a)}),s.length?e+r+s.join("&"):e},t.prototype.processConfig=function(e){F.registeredClasses.json=Pl,F.registeredClasses.JSONParser=Pl,F.registeredClasses.csv=dc,F.registeredClasses.CSVParser=dc,n.prototype.processConfig.call(this,e)},t}(wn),LT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._rules=new ct,e._appliedRules={},e._appliedTargets=[],e._useDefault=!0,e.adapter=new rr(e),e._enabled=!1,e._responsiveDisposers=[],e._noStates=[],e.className="Responsive",e.rules.events.on("inserted",function(){e.checkRules()},!0),e.rules.events.on("removed",function(){e.checkRules()},!0),e._disposers.push(e.rules.events),e.applyTheme(),e}return Object.defineProperty(t.prototype,"component",{get:function(){return this._component},set:function(e){var i=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(Et(this.component).events.on("sizechanged",function(){i.checkRules()},this)),this._responsiveDisposers.push(Et(this.component).events.once("datavalidated",function(){i._component.isReady()&&i.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",yi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allRules",{get:function(){var e=new ct;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),t.prototype.isApplied=function(e){var i=this._appliedRules[e];return M(i)?i:!1},t.prototype.checkRules=function(e){var i=this;e===void 0&&(e=!1);var r=this.allRules;if(!(!r||r.length==0)){var s=!1,a=Et(this.component);if(!(a.pixelWidth==0||a.pixelHeight==0)&&(Q(r.iterator(),function(o){o.id||(o.id=F.getUniqueId());var u=o.relevant(a);(u&&!i.isApplied(o.id)||!u&&i.isApplied(o.id))&&(s=!0),i._appliedRules[o.id]=u}),e&&(s=!0),s)){if(!this.component.isReady()){a.hidden=!0,a.events.once("ready",function(o){o.target.show(0),i._applyRules()});return}this.dispatchImmediately("ruleschanged"),this._applyRules()}}},t.prototype._applyRules=function(){var e=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout(function(){e.applyRules()},10)},t.prototype.applyRules=function(e){var i=this,r=M(e)?e:Et(this.component),s=!1;if(this.enabled){var a=!1;Q(this.allRules.iterator(),function(o){var u=i.getState(o,r);u&&(s||(qr(i._appliedTargets,r.uid)!==-1&&r.setState(i.getDefaultState(r),0),s=!0),i.isApplied(Et(o.id))&&(u.transitionDuration=0,i.setTargetState(r,u),i.dispatchImmediately("ruleapplied",{rule:o}),a=!0))}),a?Fk(this._appliedTargets,r.uid):Le(this._appliedTargets,r.uid)}r.children&&Q(r.children.iterator(),function(o){i.applyRules(o)})},t.prototype.getState=function(e,i){var r="responsive-"+e.id,s=i.uid+"_"+r;if(qr(this._noStates,s)===-1){if(i.states.hasKey(r))return i.states.getKey(r);var a=e.state(i,r);return a||this._noStates.push(s),a}},t.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},t.prototype.setTargetState=function(e,i){var r=this,s=this.getDefaultState(e);Ve(i.properties,function(a,o){M(s.properties[a])||(s.properties[a]=r.getValue(e,a))}),e.setState(i)},t.prototype.getValue=function(e,i){var r=e.getPropertyValue(i);return!M(r)&&M(e[i])&&(r=e[i]),r},t.prototype.dispose=function(){this.disposeResponsiveHandlers(),n.prototype.dispose.call(this)},t.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop()},t}(wn),yi=new ct;yi.events.on("inserted",function(n){n.newValue.id=F.getUniqueId()});var Mi=function(){function n(){}return n.widthXXS=function(t){return t.pixelWidth<=n.XXS},n.widthXS=function(t){return t.pixelWidth<=n.XS},n.widthS=function(t){return t.pixelWidth<=n.S},n.widthM=function(t){return t.pixelWidth<=n.M},n.widthL=function(t){return t.pixelWidth<=n.L},n.widthXL=function(t){return t.pixelWidth<=n.XL},n.widthXXL=function(t){return t.pixelWidth<=n.XXL},n.heightXXS=function(t){return t.pixelHeight<=n.XXS},n.heightXS=function(t){return t.pixelHeight<=n.XS},n.heightS=function(t){return t.pixelHeight<=n.S},n.heightM=function(t){return t.pixelHeight<=n.M},n.heightL=function(t){return t.pixelHeight<=n.L},n.heightXL=function(t){return t.pixelHeight<=n.XL},n.heightXXL=function(t){return t.pixelHeight<=n.XXL},n.isXXS=function(t){return t.pixelWidth<=n.XXS&&t.pixelHeight<=n.XXS},n.isXS=function(t){return t.pixelWidth<=n.XS&&t.pixelHeight<=n.XS},n.isS=function(t){return t.pixelWidth<=n.S&&t.pixelHeight<=n.S},n.isM=function(t){return t.pixelWidth<=n.M&&t.pixelHeight<=n.M},n.isL=function(t){return t.pixelWidth<=n.L&&t.pixelHeight<=n.L},n.isXL=function(t){return t.pixelWidth<=n.XL&&t.pixelHeight<=n.XL},n.isXXL=function(t){return t.pixelWidth<=n.XXL&&t.pixelHeight<=n.XXL},n.maybeXXS=function(t){return t.pixelWidth<=n.XXS||t.pixelHeight<=n.XXS},n.maybeXS=function(t){return t.pixelWidth<=n.XS||t.pixelHeight<=n.XS},n.maybeS=function(t){return t.pixelWidth<=n.S||t.pixelHeight<=n.S},n.maybeM=function(t){return t.pixelWidth<=n.M||t.pixelHeight<=n.M},n.maybeL=function(t){return t.pixelWidth<=n.L||t.pixelHeight<=n.L},n.maybeXL=function(t){return t.pixelWidth<=n.XL||t.pixelHeight<=n.XL},n.maybeXXL=function(t){return t.pixelWidth<=n.XXL||t.pixelHeight<=n.XXL},n.XXS=100,n.XS=200,n.S=300,n.M=400,n.L=600,n.XL=800,n.XXL=1e3,n}(),pa=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new rr(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.component&&this._index!=null?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new go(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._hidden?!1:this._visible},set:function(e){e&&(this.hidden=!1),this._visible!=e&&this.setVisibility(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!=e&&(this._hidden=e,e?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,ce(this.sprites,function(i){i.__disabled=e})},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(e,i){if(ce(this.sprites,function(s){e?s.visible=s.defaultState.properties.visible:s.hiddenState?s.visible=s.hiddenState.properties.visible:s.visible=!1}),this._visible=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var r={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",r)}},t.prototype.show=function(e,i,r){var s=this;if(!this.hidden){this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer);var a;return r&&ce(r,function(o){a=s.setWorkingValue(o,s.values[o].value,e,i)}),ce(this.sprites,function(o){var u=o.show(e);u!=null&&!u.isFinished()&&(s._disposers.push(u),i!=null&&i>0&&u.delay(i))}),a}},t.prototype.dispose=function(){n.prototype.dispose.call(this),ce(this.sprites,function(e){e.dispose()}),this.sprites=[]},t.prototype.hide=function(e,i,r,s){var a=this;if(this.isHiding=!0,ce(this.sprites,function(u){var c=u.hide(e);c!=null&&!c.isFinished()&&(a._disposers.push(c),i!=null&&i>0&&c.delay(i))}),D(r)&&s){var o;if(ce(s,function(u){var c=a.setWorkingValue(u,r,e,i);c&&(o=c)}),o&&!o.isFinished())return this._hideDisposer=o.events.on("animationended",function(){a.setVisibility(!1,!0),a.isHiding=!1}),this._disposers.push(this._hideDisposer),o;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},t.prototype.getDuration=function(e){if(!D(e)){var i=this.component;i&&(e=i.interpolationDuration)}if(e!=null)return this._adapterO?this._adapterO.apply("duration",e):e},t.prototype.getValue=function(e,i){if(e&&this.component){i||(i=this.component.dataFields[e+"Show"],i||(i="value"));var r=this.values[e][i];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:r,field:e}).value:r}},t.prototype.getWorkingValue=function(e){if(e&&this.component){var i=this.component.dataFields[e+"Show"];return i||(i="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[e][i],field:e}).workingValue:this.values[e][i]}},t.prototype.getActualWorkingValue=function(e){return this.values[e].workingValue},t.prototype.setValue=function(e,i,r,s){var a=this.values[e].value,o=this.getDuration(r);if(i=_t(i),a!==i){if(this.values[e].value=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var u={type:"valuechanged",target:this,property:e};this.events.dispatchImmediately("valuechanged",u)}this.component&&this.component.handleDataItemValueChange(this,e)}this.setWorkingValue(e,i,o,s)},t.prototype.setCalculatedValue=function(e,i,r){var s=this.values[e][r];if(s!==i&&D(i)){if(this.values[e][r]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var a={type:"calculatedvaluechanged",target:this,property:e};this.events.dispatchImmediately("calculatedvaluechanged",a)}this.component&&this.component.handleDataItemCalculatedValueChange(this,e)}},t.prototype.setWorkingValue=function(e,i,r,s){if(D(this.values[e].value)){var a=this.getDuration(r),o=this.values[e].workingValue;if(a!=null&&a>0&&D(o)&&this.component)if(o!=i){var u=this.animate({childObject:this.values[e],property:"workingValue",from:o,to:i,dummyData:e},a,this.component.interpolationEasing);return s!=null&&u.delay(s),u.events.on("animationstarted",this.handleInterpolationProgress,this),u.events.on("animationprogress",this.handleInterpolationProgress,this),u.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[e]=u,u}else{var c=this._valueAnimations[e];c&&c.stop(),this.values[e].workingValue=i}else{var c=this._valueAnimations[e];if(c&&c.stop(),this.values[e].workingValue=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var f={type:"workingvaluechanged",target:this,property:e};this.events.dispatchImmediately("workingvaluechanged",f)}this.component&&this.component.handleDataItemWorkingValueChange(this,e)}}},t.prototype.setLocation=function(e,i,r,s){var a=this.locations[e];if(a!==i){if(this.locations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var o={type:"locationchanged",target:this,property:e};this.events.dispatchImmediately("locationchanged",o)}this.component&&this.component.handleDataItemValueChange(this,e),this.setWorkingLocation(e,i,r,s)}},t.prototype.setWorkingLocation=function(e,i,r,s){var a=this.getDuration(r),o=this.workingLocations[e];if(a!=null&&a>0&&D(o)&&this.component)if(o!=i){var u=this.animate({childObject:this.workingLocations,property:e,from:o,to:i,dummyData:e},a,this.component.interpolationEasing);return s!=null&&u.delay(s),u.events.on("animationstarted",this.handleInterpolationProgress,this),u.events.on("animationprogress",this.handleInterpolationProgress,this),u.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[e]=u,u}else{var c=this._locationAnimations[e];c&&c.stop(),this.workingLocations[e]=i}else{var c=this._locationAnimations[e];if(c&&c.stop(),this.workingLocations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var f={type:"workinglocationchanged",target:this,property:e};this.events.dispatchImmediately("workinglocationchanged",f)}this.component&&this.component.handleDataItemWorkingLocationChange(this,e)}},t.prototype.setDate=function(e,i,r){!kl(i)&&this.component&&(i=this.component.dateFormatter.parse(i));var s=this.dates[e];s!==i&&(this.dates[e]=i,this.setValue(e,i.getTime(),r))},t.prototype.getDate=function(e){return this._adapterO?this._adapterO.apply("date",{date:this.dates[e],field:e}).date:this.dates[e]},t.prototype.setProperty=function(e,i){if(this.properties[e]!==i){if(this.hasProperties=!0,this.properties[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var r={type:"propertychanged",target:this,property:e,value:i};this.events.dispatchImmediately("propertychanged",r)}this.component&&this.component.handleDataItemPropertyChange(this,e)}},t.prototype.setCategory=function(e,i){at(i)||(i=_m(i)),this.categories[e]!==i&&(this.categories[e]=i)},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=hO(e.dataContext,{})),Bn(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(t.prototype,"opacity",{set:function(e){ce(this.sprites,function(i){i.opacity=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){if(this._ignoreMinMax=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var i={type:"propertychanged",target:this,property:"ignoreMinMax",value:e};this.events.dispatchImmediately("propertychanged",i)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),t.prototype.animate=function(e,i,r){return new $r(this,e,i,r).start()},t.prototype.handleInterpolationProgress=function(e){var i=e.target,r=i.animationOptions[0];if(r){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var s={type:"workingvaluechanged",target:this,property:r.dummyData};this.events.dispatchImmediately("workingvaluechanged",s)}this.component&&this.component.handleDataItemWorkingValueChange(this,r.dummyData)}},t.prototype.hasValue=function(e){for(var i=0,r=e.length;i<r;i++){var s=this.values[e[i]];if(!s||!M(s.value))return!1}return!0},Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataContext",{get:function(){return this._dataContext},set:function(e){this._dataContext=e},enumerable:!0,configurable:!0}),t.prototype.addSprite=function(e){e.dataItem&&e.dataItem!=this&&Le(e.dataItem.sprites,e),this.visible||e.hide(0),this.isHiding&&e.hide(),this.sprites.push(e),e.dataItem=this},t}(wn),yo=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=fa,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=fa,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new ec(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new Pt(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new Lt(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return t.prototype.createDataItem=function(){return new pa},t.prototype.handleDataUserAdded=function(e){var i=e.newValue;i.dataProvider=this},t.prototype.handleDataItemValueChange=function(e,i){this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){},t.prototype.handleDataItemWorkingLocationChange=function(e,i){},t.prototype.handleDataItemCalculatedValueChange=function(e,i){},t.prototype.handleDataItemPropertyChange=function(e,i){},t.prototype.processDataItem=function(e,i){var r=this;if(e){i||(i={}),e.dataContext=i;var s=!1;Ve(this.dataFields,function(a,o){var u=a,c=i[o];if(r._adapterO&&r._adapterO.isEnabled("dataContextValue")&&(c=r._adapterO.apply("dataContextValue",{field:u,value:c,dataItem:e}).value),M(c))if(s=!0,e.hasChildren[u]){var f=r.createDataItem();f.copyFrom(r.mainDataSet.template);var p=new ec(f);p.events.on("inserted",r.handleDataItemAdded,r,!1),p.events.on("removed",r.handleDataItemRemoved,r,!1),r._dataDisposers.push(new Pt(p));for(var g=c.length,y=0;y<g;y++){var b=c[y],x=p.create();x.parent=e,r.processDataItem(x,b)}var w=e;w[u]=p}else e[u]=c}),Ve(this.propertyFields,function(a,o){var u=a,c=i[o];M(c)&&(s=!0,e.setProperty(u,c))}),!this._addAllDataItems&&!s&&this.mainDataSet.remove(e)}},t.prototype.updateDataItem=function(e){var i=this;if(e){var r=e.dataContext;Ve(this.dataFields,function(s,a){var o=s,u=r[a];if(i._adapterO&&(u=i._adapterO.apply("dataContextValue",{field:o,value:u,dataItem:e}).value),M(u))if(e.hasChildren[o]){var c=e,f=c[o];f.each(function(p){i.updateDataItem(p)})}else e[o]=u}),Ve(this.propertyFields,function(s,a){var o=s,u=r[a];M(u)&&e.setProperty(o,u)})}},t.prototype.validateDataElements=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++){var r=this.dataItems.getIndex(i);r&&this.validateDataElement(r)}},t.prototype.validate=function(){this.validateDataElements(),n.prototype.validate.call(this)},t.prototype.validateDataElement=function(e){},t.prototype.addData=function(e,i,r){var s=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),r||(e instanceof Array?ce(e,function(a){s.data.push(a)}):this.data.push(e)),this.inited)this.removeData(i,r);else if(D(i))for(;i>0;)this.data.shift(),i--;this.invalidateData()},t.prototype.removeData=function(e,i){if(D(e)&&e>0){for(;e>0;){var r=this.mainDataSet.getIndex(0);r&&this.mainDataSet.remove(r),this.dataUsers.each(function(s){if(!s.data||s.data.length==0){var a=s.mainDataSet.getIndex(0);a&&s.mainDataSet.remove(a)}}),i||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,e--}this.invalidateDataItems()}},t.prototype.invalidateData=function(){this.disabled||this.isTemplate||(F.addToInvalidComponents(this),it.requestFrame(),this.dataInvalid=!0,Q(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataUsers=function(){Q(this.dataUsers.iterator(),function(e){e.invalidate()})},t.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(Mr(F.invalidDataItems,this),it.requestFrame(),this.dataItemsInvalid=!0,Q(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,Mr(F.invalidDataRange,this),it.requestFrame())},t.prototype.validateDataRange=function(){Le(F.invalidDataRange,this),this.dataRangeInvalid=!1,(this.startIndex!=this._prevStartIndex||this.endIndex!=this._prevEndIndex)&&(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},t.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},t.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},t.prototype.appendDataItems=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!1)}for(var i=0;i<this.startIndex;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!0)}for(var i=this.endIndex;i<this.dataItems.length;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!0)}},t.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(Mr(F.invalidRawDatas,this),it.requestFrame(),this.rawDataInvalid=!0,Q(this.dataUsers.iterator(),function(e){e.invalidateRawData()}))},t.prototype.validateRawData=function(){var e=this;Le(F.invalidRawDatas,this),Q(this.mainDataSet.iterator(),function(i){i&&e.updateDataItem(i)})},t.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),Ve(this._dataSources,function(i,r){e.removeDispose(r)}),this.disposeData(),n.prototype.dispose.call(this)},t.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),ce(this._dataDisposers,function(e){e.dispose()}),Q(this.dataUsers.iterator(),function(e){e.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},t.prototype.getDataItem=function(e){return this.mainDataSet.create()},t.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,F.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var e=this.dataItem.dataContext;this._data=e[this.dataFields.data]}if(this._parseDataFrom===0&&this.data.length>0&&this.disposeData(),this.data.length>0){var i=this.preloader;Q(this.dataUsers.iterator(),function(p){p._startIndex=void 0,p._endIndex=void 0});var r=0,s=Date.now(),a=this._parseDataFrom,o=this.data.length,u=function(){var p=c.data[a];if(c._usesData){var g=c.getDataItem(p);c.processDataItem(g,p)}if(c.dataUsers.each(function(b){if(b.data.length==0){var x=b.getDataItem(p);b.processDataItem(x,p)}}),r++,r==100){r=0;var y=Date.now()-s;if(y>c.parsingStepDuration&&a<c.data.length-10)return c._parseDataFrom=a+1,i&&(a/c.data.length>.5&&!i.visible||(i.progress=a/c.data.length)),c.dataValidationProgress=a/c.data.length,a=c.data.length,c.invalidateData(),{value:void 0}}},c=this;for(a;a<o;a++){var f=u();if(typeof f=="object")return f.value}i&&(i.progress=1),this.dataUsers.each(function(p){(p.hidden||p.appeared&&!p.visible&&p.stacked)&&p.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},t.prototype.validateDataItems=function(){Le(F.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(t.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(e){this.setData(e)},enumerable:!0,configurable:!0}),t.prototype.setData=function(e){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=e,e&&e.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},t.prototype.getDataSource=function(e){var i=this;return M(this._dataSources[e])||(this._dataSources[e]=new RT,this._dataSources[e].component=this,this.setDataSourceEvents(this._dataSources[e],e),this._dataSources[e].adapter.add("dateFields",function(r){return i.dataSourceDateFields(r)}),this._dataSources[e].adapter.add("numberFields",function(r){return i.dataSourceNumberFields(r)}),this.events.on("inited",function(){i.loadData(e)},this,!1)),this._dataSources[e]},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(e){var i=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=e,this._dataSources.data.component=this,this.events.on("inited",function(){i.loadData("data")},this,!1),this.setDataSourceEvents(e,"data")},enumerable:!0,configurable:!0}),t.prototype.loadData=function(e){this._dataSources[e].load()},t.prototype.dataSourceDateFields=function(e){return e},t.prototype.dataSourceNumberFields=function(e){return e},t.prototype.populateDataSourceFields=function(e,i,r){return ce(r,function(s){i[s]&&qr(e,i[s])===-1&&e.push(i[s])}),e},t.prototype.setDataSourceEvents=function(e,i){var r=this;e.events.on("started",function(s){var a=r.preloader;a&&(a.progress=0)},void 0,!1),e.events.on("loadstarted",function(s){var a=r.preloader;a&&(a.progress=.25)},void 0,!1),e.events.on("loadended",function(s){var a=r.preloader;a&&(a.progress=.5)},void 0,!1),e.events.on("parseended",function(s){var a=r.preloader;a&&(a.progress=.75)},void 0,!1),e.events.on("ended",function(s){var a=r.preloader;a&&(a.progress=1)},void 0,!1),e.events.on("error",function(s){var a=r.preloader;a&&(a.progress=1),r.openModal(s.message)},void 0,!1),i&&e.events.on("done",function(s){var a=r.preloader;a&&(a.progress=1),i=="data"&&!fi(s.data)&&(s.data=[s.data]),e.incremental&&i=="data"&&r.data.length?r.addData(s.data,e.keepCount?s.data.length:0):e.updateCurrentData&&i=="data"&&r.data.length?(ce(r.data,function(o,u){M(s.data[u])&&Ve(o,function(c,f){M(s.data[u][c])&&(o[c]=s.data[u][c])})}),r.invalidateRawData()):r[i]=s.data})},Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new LT,this._responsive.component=this),this._responsive},set:function(e){this._responsive=e,this._responsive.component=this},enumerable:!0,configurable:!0}),t.prototype.zoom=function(e,i,r,s){var a=this;i===void 0&&(i=!1),r===void 0&&(r=!1);var o=e.start,u=e.end,c=e.priority;if(e.start==e.end&&(e.start=e.start-.5/this.maxZoomFactor,e.end=e.end+.5/this.maxZoomFactor),c=="end"&&u==1&&o!=0&&o<this.start&&(c="start"),c=="start"&&o==0&&u>this.end&&(c="end"),D(s)||(s=this.maxZoomDeclination),!D(o)||!D(u))return{start:this.start,end:this.end};if(this._finalStart!=o||this._finalEnd!=u){var f=this.maxZoomFactor/this.minZoomCount,p=this.maxZoomFactor/this.maxZoomCount;if(c=="start"?(this.maxZoomCount>0&&1/(u-o)<p&&(u=o+1/p),1/(u-o)>f&&(u=o+1/f),u>1&&u-o<1/f&&(o=u-1/f)):(this.maxZoomCount>0&&1/(u-o)<p&&(o=u-1/p),1/(u-o)>f&&(o<=0?u=o+1/f:o=u-1/f),o<0&&u-o<1/f&&(u=o+1/f)),o<-s&&(o=-s),1/(u-o)>f&&(u=o+1/f),u>1+s&&(u=1+s),1/(u-o)>f&&(o=u-1/f),this._finalEnd=u,this._finalStart=o,this.skipRangeEvent=i,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!r){var g=this.rangeChangeAnimation;if(g&&g.progress<1){var y=g.animationOptions;if(y.length>1){if(y[0].to==o&&y[1].to==u)return{start:o,end:u};g.isDisposed()||g.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),g=this.animate([{property:"start",to:o},{property:"end",to:u}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=g,g&&!g.isFinished()?g.events.on("animationended",function(){a.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=o,this.end=u,this.dispatch("rangechangeended")}return{start:o,end:u}},t.prototype.zoomToIndexes=function(e,i,r,s){if(!(!D(e)||!D(i))){var a=e/this.dataItems.length,o=i/this.dataItems.length;this.zoom({start:a,end:o},r,s)}},Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return ge(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(e){this.setPropertyValue("maxZoomFactor",e)&&(e==1&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(e){this.setPropertyValue("maxZoomDeclination",e)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return D(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(e){this._startIndex=ge(Math.round(e),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),t.prototype.indexToPosition=function(e){return e/this.dataItems.length},Object.defineProperty(t.prototype,"endIndex",{get:function(){var e=this.dataItems.length;return(!D(this._endIndex)||this._endIndex>e)&&(this._endIndex=e),this._endIndex},set:function(e){this._endIndex=ge(Math.round(e),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(e){if(this._start!=e){this._start=e;var i=Math.max(0,Math.floor(this.dataItems.length*e)||0);this._startIndex=Math.min(i,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(e){this._end!=e&&(this._end=e,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*e)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),t.prototype.removeFromInvalids=function(){n.prototype.removeFromInvalids.call(this),F.removeFromInvalidComponents(this),Le(F.invalidDataItems,this),Le(F.invalidDataRange,this),Le(F.invalidRawDatas,this)},Object.defineProperty(t.prototype,"dataItems",{get:function(){if(this._currentDataSetId!=""){var e=this.dataSets.getKey(this._currentDataSetId);if(e)return e}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new St),this._dataSets},enumerable:!0,configurable:!0}),t.prototype.setDataSet=function(e){if(this._currentDataSetId!=e){var i=this.dataSets.getKey(e);if(i)return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId=e,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0;if(this._currentDataSetId!="")return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0}return!1},Object.defineProperty(t.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),t.prototype._updateDataItemIndexes=function(e){for(var i=this.mainDataSet.values,r=i.length,s=e;s<r;++s)i[s]._index=s},t.prototype.handleDataItemAdded=function(e){e.newValue.component=this,this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemRemoved=function(e){this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.bindDataField=function(e,i){this.dataFields[e]=i,this.invalidateDataRange()},t.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},t.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(t.prototype,"dataUsers",{get:function(){var e=this;return this._dataUsers||(this._dataUsers=new ct,this._disposers.push(new vt(function(){Q(e._dataUsers.iterator(),function(i){i.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=n.prototype.clone.call(this);return e.dataFields=Bn(this.dataFields,{}),e},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},t.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},t.prototype.getExporting=function(){var e=n.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(i){e.handleDataUpdated()})),e},t.prototype._exportData=function(e){return e.data=this.data,e},t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return i&&this.invalidateData(),i},t.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(e&&!this.inited&&!this.hidden?(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2)):this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2)),n.prototype.setShowOnInit.call(this,e)},t.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,F.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),n.prototype.setBaseId.call(this,e)},Object.defineProperty(t.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(e){this.setPropertyValue("minZoomCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(e){this.setPropertyValue("maxZoomCount",e)},enumerable:!0,configurable:!0}),t.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},t.prototype.asFunction=function(e){return e=="interpolationEasing"||e=="rangeChangeEasing"||n.prototype.asIs.call(this,e)},t}(Se);F.registeredClasses.Component=yo;var Hi=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=new ft().getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="…",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",function(){e.inited&&e.handleMaxSize()},e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return t.prototype.afterDraw=function(){n.prototype.afterDraw.call(this),this.validatePosition()},t.prototype.setPaper=function(e){var i=n.prototype.setPaper.call(this,e);return i&&this.hardInvalidate(),i},t.prototype.handleValidate=function(){(this.currentText||this.text)&&(this.bbox.width==0||this.bbox.height==0)&&F.events.once("exitframe",this.hardInvalidate,this)},t.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},t.prototype.arrange=function(){},t.prototype.updateCurrentText=function(){var e,i;ic(this.html)&&this.paper.supportsForeignObject()?(e="html",i=this.html):(e="svg",i=this.text),Ot(i)&&(i=i.toString()),M(i)&&i!==""&&(i=this.populateString(i,this.dataItem)),e=="html"?this._adapterO&&(i=this._adapterO.apply("htmlOutput",i)):this._adapterO&&(i=this._adapterO.apply("textOutput",i));var r=i!=this.currentText||e!=this._currentFormat;return this.currentText=i,this._currentFormat=e,r},t.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},t.prototype.getLineBBox=function(e){var i=e&&e.element,r=i&&i.node;r&&r.parentNode&&(e.bbox=i.getBBox())},t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.bbox.width,i=this.bbox.height,r=this.topParent;if(r&&(!r.maxWidth||!r.maxHeight)){r.events.once("maxsizechanged",this.hardInvalidate,this,!1);return}var s=We(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),a=We(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),o=a+","+s+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(!(!this.updateCurrentText()&&this.inited&&this._prevStatus==o)){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var u=this._currentFormat,c=this.currentText;if(!M(c)||c==""){this.element.attr({display:"none"});return}var f=c.split(`
`);this._prevStatus=o,this.textAlign=this.textAlign;var p=this.group.getAttr("display");if(p=="none"&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),u==="svg"){this.element.removeAttr("display");var g=this.element;this.resetBBox();for(var y=0,b="",x=0;x<f.length;x++){var w=f[x];if(w==""){var P=this.getSVGLineElement("",0);P.add(this.getSvgElement(".",zn().translateStyleShortcuts(b))),g.add(P);var S=Math.ceil(P.getBBox().height);S>0&&(y+=S),g.removeElement(P);var k=this.getLineInfo(x);k&&(k.text="",k.element.textContent="");continue}var T=zn().chunk(w,null,this.ignoreFormatting),j=0,V=!0,A=!1,I=this.getLineInfo(x);I?(I.text="",I.element.textContent=""):(I={text:"",element:this.getSVGLineElement("",0),complex:!1},g.add(I.element)),I.element.removeAttr("display"),I.element.removeChildren(),this.textPathElement&&I.element.add(this.textPathElement);for(var L=0;L<T.length;L++){L&&(I.complex=!0);var J=T[L];if(J.type==="format")b=J.text;else{if(A)continue;if(I.text=J.text,I.style=zn().translateStyleShortcuts(b),this.textPathElement?this.getSvgElement(I.text,I.style,this.textPathElement):this.getSvgElement(I.text,I.style,I.element),this.getLineBBox(I),I.bbox.width=Math.ceil(I.bbox.width),j<I.bbox.height&&(j=I.bbox.height),(this.wrap||this.truncate)&&I.bbox.width>s){this.isOversized=!0;var ie=I.element.textContent,ne=I.bbox.width/ie.length,Fe=ot(Math.ceil((I.bbox.width-s)/ne),ie.length);if(this.truncate){var ut=!1,ze=I.element.node;if(ze&&ze.childNodes)for(var be=I.element.node.childNodes.length-1;be>=0;be--){var Ae=I.element.node.childNodes[be];if(ut&&I.bbox.width<=s&&(Ae.textContent+=" "+this.ellipsis,I.bbox=I.element.getBBox(),I.bbox.width=Math.floor(I.bbox.width),I.bbox.width<=s))break;ut=!1;var se=Ae.textContent;for(ie=I.element.textContent,Fe=ot(Math.ceil((I.bbox.width-s)/ne),ie.length);I.bbox.width>s&&Fe<=ie.length&&Fe>0;){var ye=We(ie.length-Fe-this.ellipsis.length,1);ye<=1&&(Fe=0,be>0&&(ut=!0,I.element.node.removeChild(Ae))),se=zp(se,ye,this.ellipsis,this.fullWords,this.rtl),se.length>ye&&this.fullWords&&(se=zp(se,ye,this.ellipsis,!1,this.rtl)),Ae.textContent=se,I.bbox=I.element.getBBox(),I.bbox.width=Math.floor(I.bbox.width),Fe=Math.ceil(Fe*1.1)}A=!0}}else{var fe=I.element.node;if(fe){for(var H=I.element.node.lastChild,Y=void 0;I.bbox.width>s&&Fe<=ie.length&&Fe>0;){var ye=We(J.text.length-Fe,1);if(V?Y=Np(J.text,ye,!0,this.rtl):(Y=Np(J.text,ye,!0,this.rtl,!1),(Y[0].length>ye||ye===1)&&(I.element.node.removeChild(H),Fe=0)),Fe>0){var xe=Y.shift();V&&(xe=K0(xe)),H.textContent=zn().cleanUp(xe)}I.bbox=I.element.getBBox(),I.bbox.width=Math.floor(I.bbox.width),Fe++}if(Y.length>0){var Pe="";M(Y)&&(this.rtl?Pe+=Y.join("")+b:Pe+=b+Y.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var He=L+1;He<T.length;He++)T[He].type=="value"?Pe+=T[He].text.replace(/([\[\]]{1})/g,"$1$1"):Pe+=T[He].text;f.splice(x+1,0,Pe)}A=!0}}}this.bbox.width<I.bbox.width&&(this.bbox.width=I.bbox.width),this.bbox.height=y+j,this.textPathElement?I.element.attr({dy:-this.paddingBottom.toString()}):I.element.attr({x:"0",y:y+j,dy:ee(this.baseLineRatio*j,3).toString()}),V=!1}}var Ze=I.element.node;if(Ze){var H=Ze.lastChild;H&&(H.textContent=this.rtl?fO(H.textContent):dO(H.textContent))}y+=j,this.addLineInfo(I,x)}this.maybeHideOversized(),this.measureFailed=!1,(this.bbox.width==0||this.bbox.height==0)&&(this.measureFailed=!0),this._measuredWidth=ee(We(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=ee(We(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,(i!=this._measuredHeight||e!=this._measuredWidth)&&this.dispatch("transformed"),this.hideUnused(f.length)}else{this.element.removeAttr("display"),this.resetBBox();var g=this.element;g.removeChildren(),this.setCache("lineInfo",[],0);var lt=this.paper.foreignObject();g.add(lt),this.maxWidth&&lt.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&lt.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var nt=this.getHTMLLineElement(c);lt.node.appendChild(nt),nt.style.display="inline-block";var Ge=nt.clientWidth,jt=nt.clientHeight;nt.style.display="block",this._bbox={x:0,y:0,width:Ge,height:jt},lt.attr({width:Ge+1,height:jt}),this.maybeHideOversized(),this._measuredWidth=We(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=We(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(nt.style.overflow="hidden"),(Ge>s||jt>a)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),p=="none"&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}},t.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},t.prototype.alignSVGText=function(){var e=this.element,i=e.node.children||e.node.childNodes;if(!(!i||i&&i.length==0)){var r=this._measuredWidth,s=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom,this.rtl?e.attr({direction:"rtl"}):e.removeAttr("direction");for(var a=i.length-1;a>=0;a--){var o=i[a];if(o.setAttribute("text-anchor",this.textAlign),this.textPathElement)o.removeAttribute("x"),o.removeAttribute("y");else{switch(this.textAlign){case"middle":o.setAttribute("x",(r/2).toString()+"px");break;case"end":this.rtl||o.setAttribute("x",r.toString());break;default:this.rtl?o.setAttribute("x",r.toString()):o.removeAttribute("text-anchor");break}var u=_t(o.getAttribute("y"));switch(this.textValign){case"middle":o.setAttribute("y",((u||0)+(s-this.bbox.height)/2).toString());break;case"bottom":o.setAttribute("y",((u||0)+s-this.bbox.height).toString());break;default:o.setAttribute("y",(u||0).toString());break}}}}},t.prototype.getSVGLineElement=function(e,i){var r=this.paper.addGroup("text");return r.textContent=e,r.attr({x:"0"}),M(i)&&r.attr({y:i.toString()}),(this.truncate||this.wrap)&&r.attr({overflow:"hidden"}),r},Object.defineProperty(t.prototype,"rtl",{get:function(){return M(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(e){e=Mt(e),this._rtl=e,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),t.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},t.prototype.getHTMLLineElement=function(e){var i=document.createElement("div");switch(i.innerHTML=e,this.textAlign){case"middle":i.style.textAlign="center";break;case"end":i.style.textAlign="right";break}return this.wrap?i.style.wordWrap="break-word":i.style.whiteSpace="nowrap",this.rtl&&(i.style.direction="rtl"),M(this.fill)&&(i.style.color=this.fill.toString()),i},t.prototype.setStyles=function(){var e=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?e.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(e.removeStyle("webkitUserSelect"),e.removeStyle("msUserSelect"))},t.prototype.hideUnused=function(e){this.initLineCache();var i=this.getCache("lineInfo");if(i.length>=e)for(var r=e;r<i.length;r++){var s=i[r];s&&s.element&&s.element.attr({display:"none"})}},Object.defineProperty(t.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPropertyValue("path",e,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:e}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(Fm,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:e}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(e){this.setPropertyValue("locationOnPath",e),this.textPathElement&&this.textPathElement.attr({startOffset:e*100+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(e){this.setPropertyValue("baseLineRatio",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(e){this.resetBBox(),this.setPropertyValue("wrap",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(e){this.resetBBox(),this.setPropertyValue("truncate",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(e){this.setPropertyValue("fullWords",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(e){this.setPropertyValue("ellipsis",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(e){this.setPropertyValue("selectable",e,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(e){this.setPropertyValue("textAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(e){this.setPropertyValue("textValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(e){if(this.setPropertyValue("html",e,!0),!M(e)){var i=this.element;i.removeChildrenByTag("foreignObject")}},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if(n.prototype.setFill.call(this,e),this.html)for(var i=this.element,r=i.node.getElementsByTagName("div"),s=0;s<r.length;s++){var a=r[s];M(this.fill)&&(a.style.color=this.fill.toString())}},Object.defineProperty(t.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(e){this.setPropertyValue("hideOversized",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(e){this.setPropertyValue("ignoreFormatting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},t.prototype.getLineInfo=function(e){this.initLineCache();var i=this.getCache("lineInfo");return i.length>e?i[e]:void 0},t.prototype.addLineInfo=function(e,i){this.initLineCache(),this.getCache("lineInfo")[i]=e},t.prototype.initLineCache=function(){M(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},t.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new Lt([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),n.prototype.setDataItem.call(this,e)},Object.defineProperty(t.prototype,"availableWidth",{get:function(){return M(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableHeight",{get:function(){return M(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),t.prototype.getSvgElement=function(e,i,r){var s=this.paper.add("tspan");return s.textContent=e,i&&s.node.setAttribute("style",i),r&&r.add(s),s},t.prototype.deepInvalidate=function(){n.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return e?this.dataItem&&(e=this.populateString(e)):e=this.populateString(Bp(ic(this.html)?this.html:this.text)),e},set:function(e){e=Pi(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.Label=Hi;yi.push({relevant:Mi.heightXS,state:function(n,t){if(n instanceof Hi&&n.parent&&n.parent.isBaseSprite){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var _n=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RoundedRectangle",e.element=e.paper.add("path"),e.cornerRadius(3,3,3,3),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight;if(D(e)&&D(i)){var r=ot(e,i)/2,s=Ft(this.cornerRadiusTopLeft,r),a=Ft(this.cornerRadiusTopRight,r),o=Ft(this.cornerRadiusBottomRight,r),u=Ft(this.cornerRadiusBottomLeft,r),c=ot(Math.abs(e/2),Math.abs(i/2)),f=ge(s,0,c),p=ge(a,0,c),g=ge(o,0,c),y=ge(u,0,c),b="M"+f+",0 L"+(e-p)+",0",x=" L"+y+","+i,w=" L0,"+f,P=" L"+e+","+(i-g),S=" a"+p+","+p+" 0 0 1 "+p+","+p,k=" a"+g+","+g+" 0 0 1 -"+g+","+g,T=" a"+y+","+y+" 0 0 1 -"+y+",-"+y,j=" a"+f+","+f+" 0 0 1 "+f+",-"+f,V=b+S+P+k+x+T+w+j+" Z";this.path=V}},t.prototype.cornerRadius=function(e,i,r,s){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=i,this.cornerRadiusBottomLeft=r,this.cornerRadiusBottomRight=s},Object.defineProperty(t.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.RoundedRectangle=_n;var Os=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="Button",e.tooltipY=0,e.iconPosition="left",e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0;var i=new ft,r=e.background;r.fill=i.getFor("secondaryButton"),r.stroke=i.getFor("secondaryButtonStroke"),r.fillOpacity=1,r.strokeOpacity=1,r.cornerRadius(3,3,3,3),e.label=new Hi,e.label.fill=i.getFor("secondaryButtonText"),e.label.shouldClone=!1;var s=r.states.create("hover");s.properties.fillOpacity=1,s.properties.fill=i.getFor("secondaryButtonHover");var a=r.states.create("down");return a.transitionDuration=100,a.properties.fill=i.getFor("secondaryButtonDown"),a.properties.fillOpacity=1,e.role="button",e.focusable=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){var i=this._icon;i&&(i.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&(e=="left"?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new _n},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e.label&&this.label.copyFrom(e.label),e.icon&&(this.icon=e.icon.clone())},t}(Se);F.registeredClasses.Button=Os;var ba=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Circle",e.element=e.paper.add("circle"),e.setPercentProperty("radius",te(100)),e.setPropertyValue("horizontalCenter","middle"),e.setPropertyValue("verticalCenter","middle"),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Ft(this.radius,ot(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:e*2,height:e*2}},t}(Ye);F.registeredClasses.Circle=ba;var Zp=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Ellipse",e.element=e.paper.add("ellipse"),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(t.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=e*2,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=e*2,this.invalidate()},enumerable:!0,configurable:!0}),t}(ba);F.registeredClasses.Ellipse=Zp;var NT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Image",e.element=e.paper.add("image"),e.applyTheme(),e.width=50,e.height=50,e}return t.prototype.draw=function(){if(n.prototype.draw.call(this),this.href){var e=this.innerWidth,i=this.innerHeight;D(this.widthRatio)&&(e=i*this.widthRatio,this.width=e),D(this.heightRatio)&&(i=e*this.heightRatio,this.height=i),this.element.attr({width:e,height:i}),this.element.attrNS(Fm,"xlink:href",this.href)}},Object.defineProperty(t.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.Image=NT;var Gr=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Line",e.element=e.paper.add("line"),e.fill=Oe(),e.x1=0,e.y1=0,e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(t.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){D(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof Er&&(i=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return D(e)||(e=this.pixelWidth),e},set:function(e){D(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){D(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof Er&&(i=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return D(e)||(e=this.pixelHeight),e},set:function(e){D(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e})},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},r={x:this.x2,y:this.y2},s=Qh(i,r,e),a=Ci(i,r);return{x:s.x,y:s.y,angle:a}},t}(Ye);F.registeredClasses.Line=Gr;var zT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PointedShape",e.pointerBaseWidth=15,e.pointerLength=10,e.pointerY=0,e.pointerX=0,e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this),D(this.pointerX)||(this.pointerX=this.pixelWidth/2),D(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(t.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0)},enumerable:!0,configurable:!0}),t}(Ye),BT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.cornerRadius,i=this.innerWidth,r=this.innerHeight;if(i>0&&r>0){var s=this.pointerX,a=this.pointerY,o=this.pointerBaseWidth/2,u=ot(i/2,r/2),c=ge(e,0,u),f=ge(e,0,u),p=ge(e,0,u),g=ge(e,0,u),y=0,b=0,x=i,w=0,P=i,S=r,k=0,T=r,j=void 0,V=void 0,A=void 0,I=void 0,L=(s-y)*(S-b)-(a-b)*(P-y),J=(s-k)*(w-T)-(a-T)*(x-k);if(L>0&&J>0){var ie=ge(s,c+o,i-o-f);a=ge(a,-1/0,0),j="M"+c+",0 L"+(ie-o)+",0 L"+s+","+a+" L"+(ie+o)+",0 L"+(i-f)+",0"}else j="M"+c+",0 L"+(i-f)+",0";if(L<0&&J<0){var ie=ge(s,g+o,i-o-p);a=ge(a,r,1/0),A=" L"+(i-p)+","+r+" L"+(ie+o)+","+r+" L"+s+","+a+" L"+(ie-o)+","+r+" L"+g+","+r}else A=" L"+g+","+r;if(L<0&&J>0){var ne=ge(a,c+o,r-g-o);s=ge(s,-1/0,0),I=" L0,"+(r-g)+" L0,"+(ne+o)+" L"+s+","+a+" L0,"+(ne-o)+" L0,"+c}else I=" L0,"+c;if(L>0&&J<0){var ne=ge(a,f+o,r-o-p);s=ge(s,i,1/0),V=" L"+i+","+f+" L"+i+","+(ne-o)+" L"+s+","+a+" L"+i+","+(ne+o)+" L"+i+","+(r-p)}else V=" L"+i+","+(r-p);var Fe=" a"+f+","+f+" 0 0 1 "+f+","+f,ut=" a"+p+","+p+" 0 0 1 -"+p+","+p,ze=" a"+g+","+g+" 0 0 1 -"+g+",-"+g,be=" a"+c+","+c+" 0 0 1 "+c+",-"+c;this.path=j+Fe+V+ut+A+ze+I+be}},Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(zT);function gl(n){var t=K(n[0]),e={x:0,y:0},i=Fr.minPolylineStep;D(i)||(i=.5);for(var r=0,s=n.length;r<s;r++){var a=n[r];gt(a,e)>i&&(t+=K(a),e=a)}return t}function pe(n){return" M"+ee(n.x,4)+","+ee(n.y,4)+" "}function K(n){return" L"+ee(n.x,4)+","+ee(n.y,4)+" "}function ta(n,t){return" Q"+ee(t.x,4)+","+ee(t.y,4)+" "+ee(n.x,4)+","+ee(n.y,4)}function Il(n,t,e){return" C"+ee(t.x,4)+","+ee(t.y,4)+" "+ee(e.x,4)+","+ee(e.y,4)+" "+ee(n.x,4)+","+ee(n.y,4)}function ti(){return" Z"}function oi(n,t,e,i){if(t==0)return"";D(i)||(i=e);var r="",s=",",a=Math.ceil(Math.abs(t)/180),o=1;t<0&&(o=0);var u=0,c=0,f=-oe(n)*e,p=-ae(n)*i;if(t<.5&&e>3e3){var g=n+t,y=ee(oe(g)*e,4),b=ee(ae(g)*i,4);return K({x:y,y:b})}for(var x=0;x<a;x++){var g=n+t/a*(x+1),y=ee(oe(g)*e+f-u,4),b=ee(ae(g)*i+p-c,4);r+=" a"+e+s+i+s+0+s+0+s+o+s+y+s+b,u=y,c=b}return r}function vo(n,t,e,i,r,s,a){if(t==0||(D(i)||(i=0),e==0&&i<=0))return"";if(e<i){var o=e;e=i,i=o,D(r)&&(r=r/i*e)}t=ot(t,360),t==360&&(s=0,a=0);var u=n+t,c=ae(ot(t,45)/2);r=D(r)?r:e,s=s||0,a=D(a)?a:s;var f=r/e*i,p=r/e*s,g=r/e*a;s=ge(s,0,(e-i)/2),p=ge(p,0,(r-f)/2),a=ge(a,0,(e-i)/2),g=ge(g,0,(r-f)/2),s=ee(ge(s,0,e*c),4),p=ee(ge(p,0,r*c),4),a=ee(ge(a,0,i*c),4),g=ee(ge(g,0,f*c),4);var y=Math.asin(s/e/2)*xs*2,b=Math.asin(p/r/2)*xs*2;i<a&&(i=a),f<g&&(f=g);var x=Math.asin(a/i/2)*xs*2,w=Math.asin(g/f/2)*xs*2;D(x)||(x=0),D(w)||(w=0);var P=n+t/2,S={x:ee(oe(P)*i,4),y:ae(P)*f},k={x:oe(n)*(i+a),y:ae(n)*(f+g)},T={x:oe(n)*(e-s),y:ae(n)*(r-p)},j={x:oe(u)*(e-s),y:ae(u)*(r-p)},V={x:oe(u)*(i+a),y:ae(u)*(f+g)},A={x:oe(n+y)*e,y:ae(n+b)*r},I={x:oe(u-x)*i,y:ae(u-w)*f};a+=a*ae(x/2),g+=g*ae(w/2),x>(u-n)/2&&(I=S);var L="";return t==360?L=pe(T):(L=pe(k),L+=K(T),L+=fr(A,s,p,!0)),L+=oi(n+y,t-2*y,e,r),D(i)&&i!=0?(t==360&&s==0?L+=pe(V):(L+=fr(j,s,p,!0),L+=K(V),L+=fr(I,a,g,!0)),L+=oi(u-x,-(t-2*x),i,f),(t<360||s>0)&&(L+=fr(k,a,g,!0)),L+=K(k)):(L+=fr(j,s,p,!0),t<360&&(L+=K(k))),L}function fr(n,t,e,i,r,s){if(t==0)return"";s=s||0,r=!!r,i=!!i;var a=",",o=+i,u=+r;return" A"+t+a+e+a+s+a+u+a+o+a+ee(n.x,4)+a+ee(n.y,4)}function vp(n,t,e,i){return D(e)||(e=0),D(i)||(i=0),pe({x:e,y:i})+K({x:e+n,y:i})+K({x:e+n,y:i+t})+K({x:e,y:i+t})+ti()}function ws(n,t){var e=",",i=" L";return t?"M"+n.x+e+n.y+i+n.x+e+(n.y+n.height)+i+(n.x+n.width)+e+(n.y+n.height)+i+(n.x+n.width)+e+n.y+i+n.x+e+n.y:"M"+n.x+e+n.y+i+(n.x+n.width)+e+n.y+i+(n.x+n.width)+e+(n.y+n.height)+i+n.x+e+(n.y+n.height)+i+n.x+e+n.y}var Rl=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._distance=0,e.className="Polyline",e.element=e.paper.add("path"),e.shapeRendering="auto",e.fill=Oe(),e.strokeOpacity=1,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var i="",r=0,s=e.length;r<s;r++){var a=e[r];if(a.length>0){i+=pe(a[0]);for(var o=1;o<a.length;o++){var u=a[o];i+=K(u),this._distance+=gt(a[o-1],u)}}}this.path=i}this._realSegments=e},Object.defineProperty(t.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i=0;e<0&&(e=Math.abs(e),i=180);var r=this._realSegments;if(r){for(var s=this.distance,a=0,o=void 0,u=0,c=0,f=void 0,p=void 0,g=0;g<r.length;g++){var y=r[g];if(y.length>1){for(var b=1;b<y.length;b++)if(f=y[b-1],p=y[b],u=a/s,o=gt(f,p),a+=o,c=a/s,u<=e&&c>e){g=r.length;break}}else y.length==1&&(f=y[0],p=y[0],u=0,c=1)}if(f&&p){var x=(e-u)/(c-u),w=Qh(f,p,x);return{x:w.x,y:w.y,angle:i+Ci(f,p)}}}return{x:0,y:0,angle:0}},Object.defineProperty(t.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.Polyline=Rl;var HT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){var i="";this._realSegments=[];for(var r=0,s=e.length;r<s;r++){var a=e[r],o=[];if(this._realSegments.push(o),a.length>0){i+=pe(a[0]);for(var u=1;u<a.length;u++){var c=a[u-1],f=a[u],p=gt(f,c),g=p*this.controlPointDistance,y=this.controlPointPosition,b=-Ci(c,f),x=c.x+(f.x-c.x)*y*.5-g*ae(b),w=c.y+(f.y-c.y)*y*.5-g*oe(b),P={x,y:w},S=c.x+(f.x-c.x)*y*1.5-g*ae(b),k=c.y+(f.y-c.y)*y*1.5-g*oe(b),T={x:S,y:k};i+=Il(f,P,T);var j=Math.ceil(p),V=c;if(j>0)for(var A=0;A<=j;A++){var I=Pm(c,f,P,T,A/j);o.push(I),this._distance+=gt(V,I),V=I}else o.push(c)}}}this.path=i}},Object.defineProperty(t.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(e){this.setPropertyValue("controlPointPosition",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e),this.makePath()},enumerable:!0,configurable:!0}),t}(Rl);F.registeredClasses.Polyarc=HT;var WT=function(n){N(t,n);function t(e){var i=n.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=fa,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=e,i.applyTheme(),i}return t.prototype.morphToPolygon=function(e,i,r){var s=this.morphable.currentPoints;if(s&&e){this.sortPoints(s),this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],M(i)||(i=this.morphDuration),M(r)||(r=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(e,s),this._morphToPointsReal=this.normalizePoints(s,e),this.morphable.currentPoints=this._morphFromPointsReal;var a=new $r(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push(a),a.start(),a}},t.prototype.normalizePoints=function(e,i){for(var r=0,s=e.length;r<s;r++){var a=e[r][0],o=e[r][1],u=Et(hl(a)),c=u.x+u.width,f=u.y+u.height;if(i[r]||(i[r]=[]),a&&!i[r][0]&&(i[r][0]=[{x:c,y:f},{x:c,y:f}]),i[r][0]){i[r][0]=this.addPoints(i[r][0],a.length);for(var p=1/0,g=0,y=0;y<i[r][0].length;y++){var b=gt(i[r][0][y],a[0]);b<p&&(g=y,p=b)}var x=i[r][0].slice(0,g),w=i[r][0].slice(g);i[r][0]=w.concat(x)}o&&(i[r][1]||(i[r][1]=[{x:c,y:f},{x:c,y:f}]),i[r][1]=this.addPoints(i[r][1],o.length))}return i},t.prototype.sortPoints=function(e){e.sort(function(o,u){var c=Et(hl(o[0])),f=Et(hl(u[0]));return c.width*c.height>f.width*f.height?-1:1});for(var i=[],r=0,s=e.length;r<s;r++){var a=e[r][0];a&&i.push(Et(hl(a)))}return Yl(i)},t.prototype.morphToCircle=function(e,i,r){var s=this.morphable.points,a=this.sortPoints(s);this._morphFromPointsReal=[],this._morphToPointsReal=[],M(i)||(i=this.morphDuration),M(r)||(r=this.morphEasing);for(var o=0,u=s.length;o<u;o++){var c=s[o][0],f=s[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],c){var p=c,g=c,y=Et(hl(g));this.morphToSingle&&(y=Et(a));var b=y.x+y.width/2,x=y.y+y.height/2,w=e;D(w)||(w=Math.min(y.width/2,y.height/2)),p=[];var P=Ci({x:b,y:x},c[0]),S=100;c.length>S&&(S=c.length),g=this.addPoints(c,S),S=g.length;for(var k=360/(S-1),T=0;T<S;T++){var j=k*T+P,V={x:b+w*oe(j),y:x+w*ae(j)};p[T]=V}if(f&&f.length>0)for(var A=0,I=f.length;A<I;A++)p.push({x:b,y:x});this._morphFromPointsReal[o][0]=g,this._morphToPointsReal[o][0]=p}}this.morphable.currentPoints=this._morphFromPointsReal;var L=new $r(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push(L),L.start(),L},t.prototype.addPoints=function(e,i){for(var r=Math.round(i/e.length),s=[],a=0,o=e.length;a<o;a++){var u=e[a],c=void 0;a==e.length-1?c=e[0]:c=e[a+1],s.push(u);for(var f=1;f<r;f++){var p=f/r,g={x:u.x+(c.x-u.x)*p,y:u.y+(c.y-u.y)*p};s.push(g)}s.length+e.length-a==i&&(r=0)}if(s.length<i&&e.length>0)for(var y=e[e.length-1],f=s.length;f<i;f++)s.push({x:y.x,y:y.y});return s},t.prototype.morphToRectangle=function(e,i,r,s){var a=this.morphable.points;this.sortPoints(a),this._morphFromPointsReal=[],this._morphToPointsReal=[],M(r)||(r=this.morphDuration),M(s)||(s=this.morphEasing);for(var o=0,u=a.length;o<u;o++){var c=a[o][0],f=a[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],c){var p=c,g=c,y=this._bboxes[o];this.morphToSingle;var b=y.x,x=y.y,w=e,P=i;if(D(w)||(w=y.width),D(P)||(P=y.height),p=[{x:b,y:x},{x:b+w,y:x},{x:b+w,y:x+P},{x:b,y:x+P}],p=this.addPoints(p,c.length),c.length<4)for(var S=c.length;S<4;S++)p.push({x:c[S].x,y:c[S].y});if(f&&f.length>0)for(var k=y.x+y.width/2,T=y.y+y.height/2,j=0,V=f.length;j<V;j++)p.push({x:k,y:T});this._morphFromPointsReal[o][0]=g,this._morphToPointsReal[o][0]=p}}this.morphable.currentPoints=this._morphFromPointsReal;var A=new $r(this,{property:"morphProgress",from:0,to:1},r,s);return this._disposers.push(A),A.start(),A},Object.defineProperty(t.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(e){this._morphProgress=e;var i=[];if(e!=null){var r=this._morphFromPointsReal,s=this._morphToPointsReal;if(r!=null&&s!=null)for(var a=0,o=r.length;a<o;a++){var u=[];i.push(u);var c=r[a][0],f=r[a][1],p=s[a][0],g=s[a][1];if(c&&c.length>0&&p&&p.length>0){for(var y=[],b=0,x=c.length;b<x;b++){var w=c[b],P=p[b],S={x:w.x+(P.x*this.scaleRatio-w.x)*e,y:w.y+(P.y*this.scaleRatio-w.y)*e};y.push(S)}u[0]=y}if(f&&f.length>0&&g&&g.length>0){for(var k=[],T=0,j=f.length;T<j;T++){var w=f[T],P=g[T],S={x:w.x+(P.x*this.scaleRatio-w.x)*e,y:w.y+(P.y*this.scaleRatio-w.y)*e};k.push(S)}u[1]=k}}}this.morphable.currentPoints=i},enumerable:!0,configurable:!0}),t.prototype.morphBack=function(e,i){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,M(e)||(e=this.morphDuration),M(i)||(i=this.morphEasing);var r=new $r(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(r),r.start(),r},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new go(this._animations))),this._animations},enumerable:!0,configurable:!0}),t}(Ri),YT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return Object.defineProperty(t.prototype,"points",{get:function(){var e=this.getPropertyValue("points"),i=this.path;if(i&&(!e||e.length==0)){for(var r=i.slice(1,i.length-1),s=r.split("ZM"),a=0;a<s.length;a++){var o=s[a];if(o.length>0){var u=o.split("M"),c=u[0],f=u[1];if(c&&c.length>0){var p=c.split("L");if(p.length>0){var g=[],y=[g];e.push(y);for(var b=0;b<p.length;b++){var x=p[b].split(",");g.push({x:+x[0],y:+x[1]})}if(f&&f.length>0){var w=f.split("L");if(w.length>0){var P=[];y.push(P);for(var b=w.length-1;b>=0;b--){var x=w[b].split(",");P.push({x:+x[0],y:+x[1]})}}}}}}}this.setPropertyValue("points",e),this._currentPoints=e}return e},set:function(e){this.setPropertyValue("points",e,!0),this._currentPoints=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPoints",{get:function(){return(!this._currentPoints||this._currentPoints.length==0)&&this.path&&(this._currentPoints=this.points),this._currentPoints},set:function(e){this._currentPoints!=e&&(this._currentPoints=e,this.draw())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var e="",i=this._currentPoints,r,s,a,o;if(i.length>0){for(var u=0,c=i.length;u<c;u++){var f=i[u][0],p=i[u][1];if(f&&f.length>0){var g=f[0];e+=pe(g);for(var y=0;y<f.length;y++)g=f[y],e+=K(g),(!D(s)||s<g.x)&&(s=g.x),(!D(r)||r>g.x)&&(r=g.x),(!D(a)||a>g.y)&&(a=g.y),(!D(o)||o<g.y)&&(o=g.y)}if(p&&p.length>0){var g=p[0];e+=pe(g);for(var b=0,x=p.length;b<x;b++)g=p[b],e+=K(g)}}e&&(e+=ti()),this.bbox.x=r,this.bbox.y=a,this.bbox.width=s-r,this.bbox.height=o-a,n.prototype.setPath.call(this,e)}},t.prototype.setPath=function(e){return n.prototype.setPath.call(this,e)?(this.points=[],this._bbox=this.group.getBBox(),!0):!1},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new WT(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.Polygon=YT;var fc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments,i=this.tensionX,r=this.tensionY;if(this.allPoints=[],e&&e.length>0){var s="";this._realSegments=[];for(var a=0,o=e.length;a<o;a++){var u=e[a],c=[];if(this._realSegments.push(c),u.length>0){var f=u[0],p=u[u.length-1],g=!1;ee(f.x,3)==ee(p.x)&&ee(f.y)==ee(p.y)&&(g=!0),s+=pe(u[0]);for(var y=0;y<u.length-1;y++){var b=u[y-1],x=u[y],w=u[y+1],P=u[y+2];y===0?b=u[y]:y==u.length-2&&(P=u[y+1]),P||(P=w),y===0?g?b=u[u.length-2]:b=u[a]:y==u.length-2&&(g?P=u[1]:P=u[y+1]);var S=E0(b,x,w,P,i,r),k=V0(b,x,w,P,i,r);s+=Il(w,S,k);var T=Math.ceil(Dk(x,w,S,k,20))*1.2,j=x;if(T>0)for(var V=0;V<=T;V++){var A=Pm(x,w,S,k,V/T);if(!(A.x==j.x&&A.y==j.y)){c.push(A);var I=ee(Ci(j,A),5);this._distance+=gt(j,A),this.allPoints[Math.floor(this._distance)]={x:A.x,y:A.y,angle:I},j=A}}else c.push(b)}}var L=this.allPoints;if(L.length>1){for(var J=0;J<L.length;J++)if(!L[J]){if(J>1)L[J]=L[J-1];else for(var ie=1;ie<L.length;ie++)if(L[ie]){L[J]=L[ie];break}}}}this.path=s}},t.prototype.getClosestPointIndex=function(e){var i=this.allPoints,r,s=1/0;if(i.length>1)for(var a=1;a<i.length;a++){var o=gt(e,i[a]);o<s&&(r=a,s=o)}return r},Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0),this.makePath()},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var r=0,s=this.allPoints,a=s.length;if(D(e)||(e=0),a>1){if(i&&a>3){if(e<0){e<-.01&&(e=-.01);var o=s[0],u=s[1],c=o.x-(o.x-u.x)*a*e,f=o.y-(o.y-u.y)*a*e;return{x:c,y:f,angle:Ci(o,u)}}else if(e>1){e>1.01&&(e=1.01);var o=s[s.length-2],u=s[s.length-3],c=o.x+(o.x-u.x)*a*(e-1),f=o.y+(o.y-u.y)*a*(e-1);return{x:c,y:f,angle:Ci(o,{x:c,y:f})}}else if(e==1){var p=s[s.length-1];return{x:p.x,y:p.y,angle:p.angle}}}else e<0&&(e=Math.abs(e),r=180),e>=1&&(e=.9999999999999);var g=s[Math.floor(e*a)];return{x:g.x,y:g.y,angle:g.angle+r}}else if(a==1){var g=s[0];return{x:g.x,y:g.y,angle:g.angle}}else return{x:0,y:0,angle:0}},t}(Rl);F.registeredClasses.Polyspline=fc;var ma=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Slice",e.setPropertyValue("cornerRadius",0),e.setPropertyValue("startAngle",0),e.setPercentProperty("innerRadius",0),e.setPercentProperty("radius",0),e.setPropertyValue("arc",0),e.setPropertyValue("shiftRadius",0),e.strokeOpacity=1,e.setPropertyValue("layout","none"),e.slice=e.createChild(Ye),e.slice.isMeasured=!1,e._disposers.push(e.slice),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.radiusY;this.radius>0&&e==0&&(e=.01),this.slice.path=vo(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,e,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof Ss&&this.updateGradient(this.realFill),this.realStroke instanceof Ss&&this.updateGradient(this.realStroke)},t.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius})},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;if(this.isMeasured){var e=yn(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),i=yn(this.startAngle,this.startAngle+this.arc,this.radius);return Yl([e,i])}else return{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",ua(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){D(e)||(e=0),this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return D(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return D(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Ft(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),e=this.getPropertyValue("shiftRadius"),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ix",{get:function(){return oe(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iy",{get:function(){return ae(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(D(e))return e;var i=.5;e instanceof st&&(i=e.value);var r=Ft(this.innerRadius,this.radius);return this.ix*(r+(this.radius-r)*i)},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(D(e))return e;var i=.5;e instanceof st&&(i=e.value);var r=Ft(this.innerRadius,this.radius);return this.iy*(r+(this.radius-r)*i)+this.slice.dy},t}(Se);F.registeredClasses.Slice=ma;var v1=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="Preloader",e.width=te(100),e.height=te(100);var i=new ft,r=e.createChild(Se);r.shouldClone=!1;var s=r.createChild(ma);s.shouldClone=!1,s.radius=53,s.arc=360,s.fill=i.getFor("fill"),s.fillOpacity=.8,s.innerRadius=42,s.isMeasured=!1,e.backgroundSlice=s;var a=r.createChild(ma);a.shouldClone=!1,a.radius=50,a.innerRadius=45,a.fill=i.getFor("alternativeBackground"),a.fillOpacity=.2,a.isMeasured=!1,e.progressSlice=a;var o=r.createChild(Hi);o.shouldClone=!1,o.horizontalCenter="middle",o.verticalCenter="middle",o.isMeasured=!1,o.fill=i.getFor("text"),o.align="center",o.valign="middle",o.textAlign="middle",o.fillOpacity=.4,e.label=o,e.background.opacity=1,e.background.fill=i.getFor("background"),e.contentAlign="center",e.contentValign="middle",e.delay=300;var u=e.states.create("hidden");return u.properties.opacity=0,e.visible=!1,e.hide(0),e.__disabled=!0,e._disposers.push(e.backgroundSlice),e._disposers.push(e.progressSlice),e._disposers.push(e.label),e._disposers.push(r),e}return Object.defineProperty(t.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var i=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(e*100)+"%"),e>=1?(this._started&&(this._started=void 0),F.events.once("enterframe",function(){var r=i.hide();r&&!r.isFinished()?r.events.once("animationended",function(){i.__disabled=!0}):i.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=new Date().getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=new Date().getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e)},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.Preloader=v1;var Qp=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="ResizeButton",e.orientation="horizontal",e.layout="absolute",e.horizontalCenter="middle",e.verticalCenter="middle",e.draggable=!0,e.padding(8,8,8,8),e.background.cornerRadius(20,20,20,20);var i=new Ye;i.element=e.paper.add("path");var r=pe({x:-2,y:-6});return r+=K({x:-2,y:6}),r+=pe({x:2,y:-6}),r+=K({x:2,y:6}),i.path=r,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=new ft().getFor("alternativeText"),i.strokeOpacity=.7,e.icon=i,e.label.dispose(),e.label=void 0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"orientation",{set:function(e){var i=this.icon;i&&(e=="horizontal"?i.rotation=0:i.rotation=-90)},enumerable:!0,configurable:!0}),t}(Os);F.registeredClasses.ResizeButton=Qp;var UT=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="CloseButton",e.padding(8,8,8,8),e.showSystemTooltip=!0,e.width=30,e.height=30;var i=new ft;e.cursorOverStyle=gi.pointer;var r=e.background;r.cornerRadius(20,20,20,20);var s=i.getFor("background");r.fill=s,r.stroke=i.getFor("primaryButton"),r.strokeOpacity=1,r.strokeWidth=1;var a=i.getFor("primaryButtonActive"),o=r.states.getKey("hover");o.properties.strokeWidth=3,o.properties.fill=s;var u=r.states.getKey("down");u.properties.stroke=a,u.properties.fill=s;var c=new Ye;return c.element=e.paper.add("path"),c.stroke=r.stroke,e.icon=c,e.applyTheme(),e}return t.prototype.validate=function(){n.prototype.validate.call(this);var e=this.pixelWidth/3,i=this.pixelHeight/3,r=pe({x:-e/2,y:-i/2});r+=K({x:e/2,y:i/2}),r+=pe({x:e/2,y:-i/2}),r+=K({x:-e/2,y:i/2}),this.icon.path=r,this.invalidateLayout()},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},t}(Os);F.registeredClasses.CloseButton=UT;var XT=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var i=new ft,r=new Hi;r.fillOpacity=.3;var s=r.states.create("active");s.properties.fillOpacity=1,r.isActive=!0,e.leftLabel=r;var a=new Os,o=new ba;a.contentValign="none",a.padding(0,0,0,0),o.radius=10,a.icon=o,a.icon.valign="middle",a.label=void 0;var u=te(100);a.background.cornerRadius(u,u,u,u),a.width=o.radius*3.5,a.height=o.radius*2.1,a.marginLeft=8,a.marginRight=8,a.togglable=!0,o.dx=-o.radius*.7,o.fill=i.getFor("primaryButton");var c=o.states.create("hover");c.properties.fill=i.getFor("primaryButtonHover");var f=o.states.create("active");f.properties.fill=i.getFor("primaryButtonActive"),f.properties.dx=o.radius*.7,e.switchButton=a,e.events.on("toggled",function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive});var p=new Hi;p.fillOpacity=.3;var g=p.states.create("active");return g.properties.fillOpacity=1,e.rightLabel=p,e.role="button",e.focusable=!0,p.valign="middle",r.valign="middle",a.valign="middle",e.applyTheme(),e}return Object.defineProperty(t.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(e){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(e){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchButton",{get:function(){return this._switchButton},set:function(e){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=e,e&&(e.parent=this,e.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},t}(Se);F.registeredClasses.SwitchButton=XT;var Ic=function(n){N(t,n);function t(){var e=n.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=fa,e.margin(10,10,10,10);var i=new ft,r=e.background;return r.cornerRadius(10,10,10,10),r.fill=i.getFor("fill"),r.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new Qp,e.endGrip=new Qp,e.events.on("transformed",function(){e.updateThumb()},e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",function(){e._previousStart=void 0,e.dispatchRangeChange()},void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),this.orientation==="horizontal"?(M(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),M(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),M(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),M(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(M(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),M(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),M(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),M(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},t.prototype.validateLayout=function(){this.updateSize(),n.prototype.validateLayout.call(this),this.updateExtremes()},t.prototype.processBackground=function(){n.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},t.prototype.handleBgHit=function(e){this.makeBusy();var i=e.spritePoint;i=$i(i,this.background,this);var r=this.thumb;if(this.orientation=="horizontal"){var s=i.x-r.pixelWidth/2;s=ge(s,0,this.innerWidth-r.pixelWidth),this._thumbAnimation=r.animate({property:"x",to:s},this.animationDuration,this.animationEasing)}else{var a=i.y-r.pixelHeight/2;a=ge(a,0,this.innerHeight-r.pixelHeight),this._thumbAnimation=r.animate({property:"y",to:a},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},t.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},t.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},t.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),this.animationDuration*1.1)},t.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},t.prototype.dispatchRangeChange=function(){(this._previousEnd!=this.end||this._previousStart!=this.start)&&(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},t.prototype.updateThumb=function(e){if(e===void 0&&(e=!0),!!this.parent){var i=this.thumb,r=this.start,s=this.end,a=this.startGrip,o=this.endGrip,u=this.adapter.apply("positionValueDirection",{flipped:!1}).flipped,c=u?"To %1":"From %1",f=u?"From %1":"To %1",p,g;if(this.orientation=="horizontal"){var y=this.innerWidth;i.width=y*(s-r),i.maxX=y-i.pixelWidth,i.x=r*y,a.moveTo({x:i.pixelX,y:0},void 0,void 0,!0),o.moveTo({x:i.pixelX+i.pixelWidth,y:0},void 0,void 0,!0),p=this.adapter.apply("positionValue",{value:Math.round(r*100)+"%",position:r}).value,g=this.adapter.apply("positionValue",{value:Math.round(s*100)+"%",position:s}).value,a.readerTitle=this.language.translate(c,void 0,p),a.readerValueNow=""+Math.round(r*100),a.readerValueText=a.readerTitle,o.readerTitle=this.language.translate(f,void 0,g),o.readerValueNow=""+Math.round(s*100),o.readerValueText=o.readerTitle}else{var b=this.innerHeight;i.height=b*(s-r),i.maxY=b-i.pixelHeight,i.y=(1-s)*b,a.moveTo({x:0,y:i.pixelY+i.pixelHeight},void 0,void 0,!0),o.moveTo({x:0,y:i.pixelY},void 0,void 0,!0),p=this.adapter.apply("positionValue",{value:Math.round((1-r)*100)+"%",position:1-r}).value,g=this.adapter.apply("positionValue",{value:Math.round((1-s)*100)+"%",position:1-s}).value,a.readerTitle=this.language.translate(f,void 0,p),a.readerValueNow=""+Math.round(r*100),a.readerValueText=a.readerTitle,o.readerTitle=this.language.translate(c,void 0,g),o.readerValueNow=""+Math.round(s*100),o.readerValueText=o.readerTitle}i.readerTitle=this.language.translate("From %1 to %2",void 0,p,g),i.readerValueNow=""+Math.round(r*100),i.readerValueText=i.readerTitle,this.readerValueNow=""+Math.round(r*100),this.readerValueText=i.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&e&&this.dispatchRangeChange()}},t.prototype.updateExtremes=function(){var e=this.orientation,i=0,r=0,s=0,a=0;e=="horizontal"?(s=this.innerWidth,r=a=this.innerHeight/2):(a=this.innerHeight,i=s=this.innerWidth/2);var o=this.startGrip;o.minX=i,o.maxX=s,o.minY=r,o.maxY=a;var u=this.endGrip;u.minX=i,u.maxX=s,u.minY=r,u.maxY=a;var c=this.thumb;c.minX=i,c.maxX=s,c.minY=r,c.maxY=a},t.prototype.updateSize=function(){var e=this.orientation,i=this.startGrip;i&&(i.orientation=e),this.endGrip&&(this.endGrip.orientation=e);var r=this.thumb;r&&(e=="horizontal"?(D(this._pixelWidth)||this.width instanceof st||(this.width=te(100)),M(this.percentHeight)&&(this.height=this.minHeight),r.height=this.innerHeight,r.verticalCenter="middle",r.horizontalCenter="left"):(D(this._pixelHeight)||this.height instanceof st||(this.height=te(100)),M(this.percentWidth)&&(this.width=this.minWidth),r.width=this.innerWidth,r.verticalCenter="top",r.horizontalCenter="middle"))},Object.defineProperty(t.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__start",{get:function(){return this._start},set:function(e){this._start=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__end=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__end",{get:function(){return this._end},set:function(e){this._end=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),t.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},t.prototype.fixRange=function(e){(e.start!=ee(this._start,2)||e.end!=ee(this._end,2))&&(this._start=e.start,this._end=e.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},t.prototype.getPosition=function(e){return ge(ee(e,4),0,1)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(e==="horizontal"?(this.startGrip.cursorOverStyle=gi.horizontalResize,this.endGrip.cursorOverStyle=gi.horizontalResize):(this.startGrip.cursorOverStyle=gi.verticalResize,this.endGrip.cursorOverStyle=gi.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.updateByOrientation=function(){},Object.defineProperty(t.prototype,"startGrip",{get:function(){return this._startGrip},set:function(e){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endGrip",{get:function(){return this._endGrip},set:function(e){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),t.prototype.processGrip=function(e){e.parent=this,e.isMeasured=!1,e.focusable=!0,e.shouldClone=!1,e.zIndex=100,e.events.on("drag",this.handleGripDrag,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("down",this.makeBusy,this,!1),e.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(e)},t.prototype.handleGripDrag=function(e){this.makeBusy(),e.target===this._startGrip?this._usingGrip="start":this._usingGrip="end",this.orientation=="horizontal"?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(t.prototype,"thumb",{get:function(){if(!this._thumb){var e=new Os;e.background.cornerRadius(10,10,10,10),e.padding(0,0,0,0),this.thumb=e}return this._thumb},set:function(e){var i=this;e&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=e,e.parent=this,e.isMeasured=!1,e.inert=!0,e.draggable=!0,e.clickable=!0,e.hoverable=!0,e.focusable=!0,e.shouldClone=!1,e.zIndex=0,e.cursorOverStyle=gi.grab,e.cursorDownStyle=gi.grabbing,e.events.on("dragstart",this.makeBusy,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("positionchanged",this.handleThumbPosition,this,!1),e.events.on("sizechanged",this.handleThumbPosition,this,!1),e.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(Ne().body.events.on("keyup",function(r){mn.isKey(r.event,["space","enter"])&&i.thumb.isFocused&&(r.event.preventDefault(),i.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),t.prototype.handleDoubleClick=function(){this.makeBusy();var e=0,i=1;this.start!=0||this.end!=1?(this._prevStart=this.start,this._prevEnd=this.end):(e=this._prevStart,i=this._prevEnd);var r=this.animate([{property:"__start",to:e},{property:"__end",to:i}],this.animationDuration,this.animationEasing);r&&!r.isFinished()?(r.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=r):this.makeUnbusy()},t.prototype.handleThumbPosition=function(){var e=this.thumb;if(this.orientation=="horizontal"){var i=this.innerWidth,r=e.innerWidth,s=e.pixelX;this._start=s/i,this._end=(s+r)/i,this.updateThumb()}else{var a=this.innerHeight,o=e.innerHeight,u=e.pixelY;u+o>a&&(u=a-o,e.y=u),this._start=1-(u+o)/a,this._end=1-u/a,this.updateThumb()}},t.prototype.createBackground=function(){return new _n},Object.defineProperty(t.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(e){var i=this;this._hideGrips=e,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),e?(this._overDisposer=this.events.on("over",function(){i.startGrip.show(),i.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){i.startGrip.hide(),i.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),t.prototype.asFunction=function(e){return e=="animationEasing"||n.prototype.asIs.call(this,e)},t}(Se);F.registeredClasses.Scrollbar=Ic;var $T=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Slider",e.thumb.opacity=0,e.thumb.interactionsEnabled=!1,e.endGrip.opacity=0,e.endGrip.interactionsEnabled=!1,e.startGrip.events.on("drag",function(){e.endGrip.x=e.startGrip.x,e.endGrip.y=e.startGrip.y}),e.applyTheme(),e}return Object.defineProperty(t.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),t}(Ic);F.registeredClasses.Slider=$T;var qp=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="TextLink",e.selectable=!0;var i=new ft;e.fill=i.getFor("primaryButton").brighten(.3);var r=e.states.create("hover");r.properties.fill=i.getFor("primaryButtonHover").brighten(.3);var s=e.states.create("down");return s.properties.fill=i.getFor("primaryButtonDown").brighten(.3),e.cursorOverStyle=gi.pointer,e.applyTheme(),e}return t}(Hi);F.registeredClasses.TextLink=qp;var bo=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.properties={},e.isTemplate=!1,e._scale=1,e._nonScaling=!0,e.className="Filter",e.filterPrimitives=new ct,e.properties.filterUnits="objectBoundingBox",e.filterPrimitives.events.on("inserted",function(i){e._disposers.push(i.newValue)}),e.width=120,e.height=120,e.applyTheme(),e}return t.prototype.appendPrimitives=function(e){Q(this.filterPrimitives.iterator(),function(i){e.add(i)})},t.prototype.animate=function(e,i,r){var s=new $r(this,e,i,r).start();return s},Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),Ve(e.properties,function(r,s){i[r]=s})},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xl()},set:function(e){this._paper!=e&&(this._paper=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new go(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale()},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){},Object.defineProperty(t.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{set:function(e){this.setSprite(e)},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e},t}(Ri),b1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="DropShadowFilter",e.color=Oe("#000"),e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.feOffset=e.paper.add("feOffset"),e.feOffset.attr({result:"offsetBlur"}),e.filterPrimitives.push(e.feOffset),e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":e.color}),e.filterPrimitives.push(e.feFlood),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({in2:"offsetBlur",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feMerge=e.paper.addGroup("feMerge"),e.feMerge.add(e.paper.add("feMergeNode")),e.feMerge.add(e.paper.add("feMergeNode").attr({in:"SourceGraphic"})),e.filterPrimitives.push(e.feMerge),e.width=200,e.height=200,e.blur=1.5,e.dx=3,e.dy=3,e.opacity=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},t}(bo);F.registeredClasses.DropShadowFilter=b1;var Rc=function(n){N(t,n);function t(){var e=n.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.fixDoc=!0,e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var i=e.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=Oe("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var r=new b1;r.dy=1,r.dx=1,r.opacity=.5,i.filters.push(r),e.autoTextColor=!0;var s=e.createChild(Hi);return s.shouldClone=!1,e.label=s,s.padding(7,12,4,12),s.interactionsEnabled=!1,s.horizontalCenter="middle",s.fill=Oe("#ffffff"),e._disposers.push(s),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=fa,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return t.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(t.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(e){this.setPropertyValue("getStrokeFromObject",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(e){this.setPropertyValue("autoTextColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(e){var i=this;this.setPropertyValue("keepTargetHover",e,!0)&&e&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(r){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(r){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(e){this.setPropertyValue("showInViewport",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(e){this.setPropertyValue("getFillFromObject",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new BT},Object.defineProperty(t.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(e){this.setPropertyValue("pointerOrientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.label.html},set:function(e){this.label.html!=e&&(this.label.html=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text!=e&&(this.label.text=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var i=this._pointTo.x,r=this._pointTo.y,s=this._boundingRect,a=e.measuredWidth,o=e.measuredHeight,u=this.background.pointerLength,c,f;if(this.ignoreBounds&&(s=void 0),s&&this.fixDoc&&a>s.width){Wp({x:s.x,y:s.y},this.parent);var p=Wp({x:s.x+s.width,y:s.y+s.height},this.parent),g=document.body.offsetWidth;document.body.offsetHeight,p.x>g/2?s.x=s.width-a:s.width=s.x+a}var y=this.pointerOrientation;y=="horizontal"||y=="left"||y=="right"?(f=-o/2,y=="horizontal"?s&&i>s.x+s.width/2?c=-a/2-u:c=a/2+u:y=="left"?c=a/2+u:c=-a/2-u):(s&&(c=ge(0,s.x-i+a/2,s.x-i+s.width-a/2)),y=="vertical"?s&&r>s.y+o+u?(f=-o-u,this._verticalOrientation="up"):(f=u,this._verticalOrientation="down"):y=="down"?(f=-o-u,this._verticalOrientation="up"):(f=u,this._verticalOrientation="down")),s&&(f=ge(f,s.y-r,s.y+s.height-o-r)),e.x=c,e.y=f,this.drawBackground()},t.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},t.prototype.drawBackground=function(){var e=this.label,i=this.background,r=e.measuredWidth,s=e.measuredHeight,a=this._boundingRect,o=r,u=e.pixelX-r/2,c=s,f=e.pixelY,p=this._pointTo.x,g=this._pointTo.y,y=a.x-p,b=y+a.width,x=a.y-g,w=x+a.height;i.x=u,i.y=f,i.width=o,i.height=c,this.fitPointerToBounds?(i.pointerX=ge(-i.x,y-i.x,b-i.x),i.pointerY=ge(-i.y,x-i.y,w-i.y)):(i.pointerX=-i.x,i.pointerY=-i.y),i.validate()},t.prototype.delayedPointTo=function(e,i){var r=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=F.events.once("exitframe",function(){r.pointTo(e,i)}),this.addDisposer(this._pointToDisposer)},t.prototype.pointTo=function(e,i){(this._pointTo.x!=e.x||this._pointTo.y!=e.y)&&(this._pointTo=e,this.invalidate(),!this.visible||i?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):this.pixelX==0&&this.pixelY==0?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new $r(this,[{property:"x",to:e.x,from:this.pixelX},{property:"y",to:e.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},t.prototype.setBounds=function(e){var i=this._boundingRect;(i.x!=e.x||i.y!=e.y||i.width!=e.width||i.height!=e.height)&&(this._boundingRect=e,this.invalidate())},Object.defineProperty(t.prototype,"boundingContainer",{set:function(e){this._boundingContainer=e,e.events.on("sizechanged",this.updateBounds,this),e.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),t.prototype.updateBounds=function(){var e=this._boundingContainer,i=Tm({x:e.pixelX,y:e.pixelY,width:e.maxWidth,height:e.maxHeight},e);this.setBounds(i)},Object.defineProperty(t.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(e){this.setPropertyValue("ignoreBounds",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},t.prototype.asFunction=function(e){return e=="animationEasing"||n.prototype.asIs.call(this,e)},t}(Se);F.registeredClasses.Tooltip=Rc;var x1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=te(100),e.bottomSide=te(100),e.leftSide=te(100),e.rightSide=te(100),e.isMeasured=!1,e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,r=Ft(this.topSide,e),s=Ft(this.bottomSide,e),a=Ft(this.leftSide,i),o=Ft(this.rightSide,i),u=(e-r)/2,c=(i-a)/2,f=e-(e-r)/2,p=(i-o)/2,g=e-(e-s)/2,y=i-(i-o)/2,b=(e-s)/2,x=i-(i-a)/2,w="",P="",S="",k="";if(M(this.horizontalNeck)){var T=this.horizontalNeck.value;w=K({x:e*T,y:Math.max(c,p)}),S=K({x:e*T,y:Math.min(y,x)})}if(M(this.verticalNeck)){var j=this.verticalNeck.value;P=K({x:Math.min(f,g),y:i*j}),k=K({x:Math.max(u,b),y:i*j})}var V=pe({x:u,y:c})+w+K({x:f,y:p})+P+K({x:g,y})+S+K({x:b,y:x})+k;this.path=V},Object.defineProperty(t.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(e){this.setPercentProperty("topSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(e){this.setPercentProperty("bottomSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(e){this.setPercentProperty("leftSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(e){this.setPercentProperty("rightSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(e){this.setPropertyValue("horizontalNeck",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(e){this.setPropertyValue("verticalNeck",e,!0)},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.Trapezoid=x1;var Lm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,r;switch(this.direction){case"right":r=pe({x:0,y:0})+K({x:e,y:i/2})+K({x:0,y:i})+ti();break;case"left":r=pe({x:e,y:0})+K({x:0,y:i/2})+K({x:e,y:i})+ti();break;case"bottom":r=pe({x:0,y:0})+K({x:e,y:0})+K({x:e/2,y:i})+ti();break;case"top":r=pe({x:e/2,y:0})+K({x:e,y:i})+K({x:0,y:i})+ti();break}this.path=r},Object.defineProperty(t.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(e){this.setPropertyValue("direction",e,!0)},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.Triangle=Lm;var Ds=function(){function n(t,e){this._tensionX=t,this._tensionY=e}return n.prototype.smooth=function(t){for(var e=t.length-1;e>0;e--){var i=t[e],r=t[e-1];Math.abs(i.x-r.x)<.1&&Math.abs(i.y-r.y)<.1&&t.splice(e-1,1)}var s=this._tensionX,a=this._tensionY;if(t.length<3||s>=1&&a>=1)return gl(t);var o=t[0],u=t[t.length-1],c=!1;ee(o.x,3)==ee(u.x)&&ee(o.y)==ee(u.y)&&(c=!0);for(var f="",e=0,p=t.length-1;e<p;e++){var i=t[e-1],r=t[e],g=t[e+1],y=t[e+2];e===0?c?i=t[t.length-2]:i=t[e]:e==t.length-2&&(c?y=t[1]:y=t[e+1]);var b=E0(i,r,g,y,s,a),x=V0(i,r,g,y,s,a);f+=Il(g,b,x)}return f},n}();function yl(n,t,e,i,r,s){var a=n.x,o=n.y,u=t.x,c=t.y,f=gt(n,t);e=f/Math.round(f/e);var p=F.getCache(ux(["wavedLine",n.x,t.x,n.y,t.y,e,i]));if(!p){if(f>0){var g=Math.atan2(c-o,u-a),y=Math.cos(g),b=Math.sin(g),x=e*y,w=e*b;if(e<=1||i<=1)p=K(t);else{var P=Math.round(2*f/e),S=[],k=1;u<a&&(k*=-1),c<o&&(k*=-1);for(var T=0;T<=P;T++){k*=-1;var j=a+T*x/2+k*i/2*b,V=o+T*w/2-k*i/2*y;S.push({x:j,y:V})}p=new Ds(r,r).smooth(S)}}else p="";F.setCache(ux(["wavedLine",n.x,t.x,n.y,t.y,e,i]),p)}return p}var w1=function(){function n(t,e){this._reversed=t,this._closed=e.closed}return n.prototype._curve=function(t,e,i,r,s,a){var o=(e-t)/3;return this._reversed?Il({x:r,y:e},{x:i+o*s,y:t+o},{x:r-o*a,y:e-o}):Il({x:e,y:r},{x:t+o,y:i+o*s},{x:e-o,y:r-o*a})},n.prototype.smooth=function(t){var e=this,i=NaN,r=NaN,s=NaN,a=NaN,o=NaN,u=0,c="";switch(ce(t,function(f){var p=f.x,g=f.y;if(e._reversed){var y=p;p=g,g=y}var b=NaN;if(!(p===r&&g===a)){switch(u){case 0:u=1,e._reversed?c+=K({x:g,y:p}):c+=K({x:p,y:g});break;case 1:u=2;break;case 2:u=3,c+=e._curve(i,r,s,a,Cx(i,r,s,a,b=Sx(i,r,s,a,p,g)),b);break;default:c+=e._curve(i,r,s,a,o,b=Sx(i,r,s,a,p,g));break}i=r,r=p,s=a,a=g,o=b}}),u){case 2:this._reversed?c+=K({x:a,y:r}):c+=K({x:r,y:a});break;case 3:c+=this._curve(i,r,s,a,o,Cx(i,r,s,a,o));break}return this._closed&&(c+=ti()),c},n}();function Px(n){return n<0?-1:1}function Cx(n,t,e,i,r){var s=t-n;return s?(3*(i-e)/s-r)/2:r}function Sx(n,t,e,i,r,s){var a=t-n,o=r-t,u=(i-e)/(a||o<0&&-0),c=(s-i)/(o||a<0&&-0),f=(u*o+c*a)/(a+o);return(Px(u)+Px(c))*Math.min(Math.abs(u),Math.abs(c),.5*Math.abs(f))||0}var jx=function(n){N(t,n);function t(e){return n.call(this,!1,e)||this}return t}(w1),Dx=function(n){N(t,n);function t(e){return n.call(this,!0,e)||this}return t}(w1),Lh=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="WavedCircle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.fill=void 0,e.fillOpacity=0,e.tension=.8,e.applyTheme(),e}return t.prototype.draw=function(){var e="",i=this.pixelRadius;if(i>0){var r=this.getPoints(i);e=pe(r[0])+new Ds(this.tension,this.tension).smooth(r)}var s=this.pixelInnerRadius;if(s>0){var r=this.getPoints(s);r.reverse(),e+=pe(r[0])+new Ds(this.tension,this.tension).smooth(r)}this.path=e},t.prototype.getPoints=function(e){for(var i=e*Math.PI*2,r=this.waveHeight/2,s=i/Math.round(i/this.waveLength),a=s/2,o=[],u=i/s,c=0;c<=u;c++){var f=c*s/i*360,p=(c*s+a)/i*360;o.push({x:(e-r)*oe(f),y:(e-r)*ae(f)}),o.push({x:(e+r)*oe(p),y:(e+r)*ae(p)})}return o.pop(),o},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Ft(this.innerRadius,ot(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(ba);F.registeredClasses.WavedCircle=Lh;var na=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="WavedLine",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.pixelPerfect=!1,e.fill=Oe(),e.applyTheme(),e}return t.prototype.draw=function(){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2};this.path=pe(e)+yl(e,i,this.waveLength,this.waveHeight,this.tension)},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(Gr),_1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="WavedRectangle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.setPropertyValue("wavedLeft",!0),e.setPropertyValue("wavedRight",!0),e.setPropertyValue("wavedTop",!0),e.setPropertyValue("wavedBottom",!0),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight;if(e>0&&i>0){var r={x:0,y:0},s={x:e,y:0},a={x:e,y:i},o={x:0,y:i},u=Math.min(e,this.waveLength),c=Math.min(i,this.waveHeight),f=Math.min(i,this.waveLength),p=Math.min(e,this.waveHeight),g="",y="",b="",x="";this.wavedTop&&(g=yl(r,s,u,c,this.tension)),this.wavedRight&&(y=yl(s,a,f,p,this.tension)),this.wavedBottom&&(b=yl(a,o,u,c,this.tension)),this.wavedLeft&&(x=yl(o,r,f,p,this.tension)),this.path=pe(r)+g+K(s)+y+K(a)+b+K(o)+x+"z"}},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.setWavedSides=function(e,i,r,s){this.wavedTop=e,this.wavedRight=i,this.wavedBottom=r,this.wavedLeft=s},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0)},enumerable:!0,configurable:!0}),t}(Ac),P1=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var i=new ft,r=e.background;r.cornerRadius(20,20,20,20),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var s=new Ye;s.element=e.paper.add("path");var a=pe({x:0,y:0});return a+=K({x:11,y:0}),s.path=a,s.pixelPerfect=!0,s.padding(8,3,8,3),s.stroke=i.getFor("primaryButtonText"),e.icon=s,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},t}(Os);F.registeredClasses.ZoomOutButton=P1;var GT=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var i=new ft,r=e.background;r.cornerRadius(25,25,25,25),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var s=new Lm;s.direction="right",s.width=9,s.height=11,s.marginLeft=1,s.marginRight=1,s.horizontalCenter="middle",s.verticalCenter="middle",s.stroke=i.getFor("primaryButtonText"),s.fill=s.stroke,e.icon=s;var a=new _n;a.width=11,a.height=11,a.horizontalCenter="middle",a.verticalCenter="middle",a.cornerRadius(0,0,0,0),a.stroke=i.getFor("primaryButtonText"),a.fill=s.stroke,e.togglable=!0;var o=e.states.create("active");return o.transitionDuration=0,o.properties.icon=a,e.defaultState.transitionDuration=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},t}(Os);F.registeredClasses.PlayButton=GT;var C1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return t.prototype.modify=function(e){return e},t}(Ri);F.registeredClasses.ColorModifier=C1;var Nm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return Object.defineProperty(t.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(e){this._lightnesses=e,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(e){this._brightnesses=e,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacities",{get:function(){return this._opacities},set:function(e){this._opacities=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(e){this._offsets=e},enumerable:!0,configurable:!0}),t.prototype.modify=function(e){this.gradient.clear();var i=0;this.opacities&&(i=We(i,this.opacities.length)),this.lightnesses&&(i=We(i,this.lightnesses.length)),this.brightnesses&&(i=We(i,this.brightnesses.length));for(var r=1,s,a,o=0;o<i;o++){var u=e;this.opacities&&D(this.opacities[o])&&(r=this.opacities[o]),this.lightnesses&&D(this.lightnesses[o])&&(s=this.lightnesses[o],a=void 0),this.brightnesses&&D(this.brightnesses[o])&&(a=this.brightnesses[o],s=void 0),D(a)?u=e.brighten(this.brightnesses[o]):D(s)&&(u=e.lighten(this.lightnesses[o]));var c=this.offsets[o];this.gradient.addColor(u,r,c)}return this.gradient},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},t}(C1);F.registeredClasses.GradientModifier=Nm;var pc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new Er,e.applyTheme(),e}return t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(Nm);F.registeredClasses.LinearGradientModifier=pc;var KT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Cone",e.angle=30,e.radius=te(100),e.topRadius=te(100),e.top=e.createChild(Zp),e.top.shouldClone=!1,e.bottom=e.createChild(Zp),e.bottom.shouldClone=!1,e.body=e.createChild(Ye),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new pc,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this),Qt(this,this.top,Wt),Qt(this,this.bottom,Wt),Qt(this,this.body,Wt);var e=this.innerWidth,i=this.innerHeight,r=this.bottom,s=this.top,a=this.angle,o,u,c;this.orientation=="horizontal"?(o=i/2,r.y=i/2,r.x=0,s.y=i/2,s.x=e,u=(90-a)/90,c=0,this.bodyFillModifier.gradient.rotation=90):(u=0,c=(90-a)/90,o=e/2,r.y=i,r.x=e/2,s.x=e/2,this.bodyFillModifier.gradient.rotation=0);var f=this.radius.value*o,p=this.topRadius.value*o;r.radius=f-f*u,r.radiusY=f-f*c,s.radius=p-p*u,s.radiusY=p-p*c;var g;this.orientation=="horizontal"?g=pe({x:0,y:i/2-r.radiusY})+oi(-90,-180,r.radius,r.radiusY)+K({x:e,y:i/2+s.radiusY})+oi(90,180,s.radius,s.radiusY)+ti():g=pe({x:e/2-s.radius,y:0})+oi(180,-180,s.radius,s.radiusY)+K({x:e/2+r.radius,y:i})+oi(0,180,r.radius,r.radiusY)+ti(),this.body.path=g},Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(e){this.setPropertyValue("topRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(Se),zm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="LightenFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.lightness=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var i=e+1;this.feColorMatrix.attr({values:i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),t}(bo);F.registeredClasses.LightenFilter=zm;var ZT=function(n){N(t,n);function t(){var e=n.call(this)||this;e.angle=30,e.depth=30,e.className="Rectangle3D",e.layout="none";var i=e.createChild(Ye);i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e.sideBack=i,e._disposers.push(e.sideBack);var r=e.createChild(Ye);r.shouldClone=!1,r.setElement(e.paper.add("path")),r.isMeasured=!1,e.sideBottom=r,e._disposers.push(e.sideBottom);var s=e.createChild(Ye);s.shouldClone=!1,s.setElement(e.paper.add("path")),s.isMeasured=!1,e.sideLeft=s,e._disposers.push(e.sideLeft);var a=e.createChild(Ye);a.shouldClone=!1,a.setElement(e.paper.add("path")),a.isMeasured=!1,e.sideRight=a,e._disposers.push(e.sideRight);var o=e.createChild(Ye);o.shouldClone=!1,o.setElement(e.paper.add("path")),o.isMeasured=!1,e.sideTop=o,e._disposers.push(e.sideTop);var u=e.createChild(Ye);return u.shouldClone=!1,u.setElement(e.paper.add("path")),u.isMeasured=!1,e.sideFront=u,e._disposers.push(e.sideFront),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight,r=this.depth,s=this.angle,a=ae(s),o=oe(s),u={x:0,y:0},c={x:e,y:0},f={x:e,y:i},p={x:0,y:i},g={x:r*o,y:-r*a},y={x:r*o+e,y:-r*a},b={x:r*o+e,y:-r*a+i},x={x:r*o,y:-r*a+i};this.sideFront.path=pe(u)+K(c)+K(f)+K(p)+ti(),this.sideBack.path=pe(g)+K(y)+K(b)+K(x)+ti(),this.sideLeft.path=pe(u)+K(g)+K(x)+K(p)+ti(),this.sideRight.path=pe(c)+K(y)+K(b)+K(f)+ti(),this.sideBottom.path=pe(p)+K(x)+K(b)+K(f)+ti(),this.sideTop.path=pe(u)+K(g)+K(y)+K(c)+ti()},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){n.prototype.setFill.call(this,e),(!Ot(e)||"r"in e)&&(e=Or(e));var i;if(e instanceof ht)i=e.hex;else if(e instanceof Er||e instanceof Ss)i=e.stops.getIndex(0).color.hex;else{var r=new zm;r.lightness=-.2,this.sideBack.filters.push(r);var s=r.clone();s.lightness=-.4,this.sideLeft.filters.push(s);var a=r.clone();a.lightness=-.2,this.sideRight.filters.push(a);var o=r.clone();o.lightness=-.1,this.sideTop.filters.push(o);var u=r.clone();u.lightness=-.5,this.sideBottom.filters.push(u)}i&&(this.sideBack.fill=Oe(i).lighten(-.2),this.sideLeft.fill=Oe(i).lighten(-.4),this.sideRight.fill=Oe(i).lighten(-.2),this.sideTop.fill=Oe(i).lighten(-.1),this.sideBottom.fill=Oe(i).lighten(-.5))},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.sideBack.copyFrom(e.sideBack),this.sideLeft.copyFrom(e.sideLeft),this.sideRight.copyFrom(e.sideRight),this.sideTop.copyFrom(e.sideTop),this.sideBottom.copyFrom(e.sideBottom)},t}(Se),QT=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="Slice3D",e.layout="none";var i=e.createChild(Ye);e.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),e.angle=30,e.depth=20;var r=e.createChild(Ye);e.sideA=r,r.shouldClone=!1,r.isMeasured=!1;var s=e.createChild(Ye);return e.sideB=s,s.shouldClone=!1,s.isMeasured=!1,e.applyTheme(),e}return t.prototype.setFill=function(e){n.prototype.setFill.call(this,e);var i;if(e instanceof ht)i=e.hex;else if(e instanceof Er||e instanceof Ss)i=e.stops.getIndex(0).color.hex;else{var r=new zm;r.lightness=-.25,this.edge.filters.push(r),this.sideA.filters.push(r.clone()),this.sideB.filters.push(r.clone())}if(i){var s=Oe(i).lighten(-.25);this.edge.fill=s,this.sideA.fill=s,this.sideB.fill=s,this.edge.stroke=s,this.sideA.stroke=s,this.sideB.stroke=s}},t.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,n.prototype.draw.call(this),this.arc!==0&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var e=this.startAngle,i=this.arc,r=this.pixelInnerRadius||0,s=this.radiusY||0,a=this.radius,o=e+i,u=s/a*r,c={x:oe(e)*r,y:ae(e)*u},f={x:oe(e)*a,y:ae(e)*s},p={x:oe(o)*a,y:ae(o)*s},g={x:oe(o)*r,y:ae(o)*u},y=this.depth,b={x:c.x,y:c.y-y},x={x:f.x,y:f.y-y},w={x:p.x,y:p.y-y},P={x:g.x,y:g.y-y},S="",k=Math.ceil(i/5),T=i/k,j=e,V=x,A=0;A<k;A++)if(j+=T,j>0&&j<180){S+=pe(V);var I={x:oe(j)*a,y:ae(j)*s-y};S+=K({x:V.x,y:V.y+y}),S+=fr({x:I.x,y:I.y+y},a,s,!0),S+=K(I),S+=fr(V,a,s),S+="z",V=I}else{S+=pe(V);var I={x:oe(j)*a,y:ae(j)*s-y};S+=fr(I,a,s,!0),S+=K({x:I.x,y:I.y+y}),S+=fr({x:V.x,y:V.y+y},a,s),S+=K(V),S+="z",V=I}V=b,j=e;for(var A=0;A<k;A++)if(j+=T,j>0&&j<180){S+=pe(V);var I={x:oe(j)*r,y:ae(j)*u-y};S+=K({x:V.x,y:V.y+y}),S+=fr({x:I.x,y:I.y+y},r,u,!0),S+=K(I),S+=fr(V,r,u),S+="z",V=I}else{S+=pe(V);var I={x:oe(j)*r,y:ae(j)*u-y};S+=fr(I,r,u,!0),S+=K({x:I.x,y:I.y+y}),S+=fr({x:V.x,y:V.y+y},r,u),S+=K(V),S+="z",V=I}this.edge.path=S,this.sideA.path=pe(c)+K(f)+K(x)+K(b)+ti(),this.sideB.path=pe(p)+K(g)+K(P)+K(w)+ti(),this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-y}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){var e=this.getPropertyValue("angle");return D(e)||(e=0),e},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return D(e)||(e=this.radius-this.radius*this.angle/90),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.edge.copyFrom(e.edge),this.sideA.copyFrom(e.sideA),this.sideB.copyFrom(e.sideB)},t}(ma),qT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RadialGradientModifier",e.gradient=new Ss,e.applyTheme(),e}return t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(Nm);F.registeredClasses.RadialGradientModifier=qT;var S1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.properties.gap=0,e._line=e.paper.add("path"),e.addElement(e._line),e}return t.prototype.draw=function(){if(n.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var e=this.width,i=this.height,r="";if(!this.gap)Math.round(this.rotation/90)!=this.rotation/90?(r=pe({x:-e,y:i/2})+K({x:e*2,y:i/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r=pe({x:0,y:0})+K({x:e,y:0});else for(var s=this.gap+this.strokeWidth,a=this.height/s,o=-a/2;o<a*1.5;o++)Math.round(this.rotation/90)!=this.rotation/90?(r+=pe({x:-e,y:(o+.5)*s})+K({x:e*2,y:(o+.5)*s}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r+=pe({x:-e,y:o*s})+K({x:e*2,y:o*s});this._line.attr({d:r})}},Object.defineProperty(t.prototype,"gap",{get:function(){return this.properties.gap},set:function(e){this.properties.gap=e,this.draw()},enumerable:!0,configurable:!0}),t}(co);F.registeredClasses.LinePattern=S1;var j1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.properties.radius=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return t.prototype.draw=function(){n.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.properties.radius},set:function(e){this.properties.radius=e,this.draw()},enumerable:!0,configurable:!0}),t}(co);F.registeredClasses.CirclePattern=j1;var D1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return t.prototype.draw=function(){n.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(t.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(e){this.properties.rectWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(e){this.properties.rectHeight=e,this.draw()},enumerable:!0,configurable:!0}),t}(co);F.registeredClasses.RectPattern=D1;var JT=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ColorizeFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.intensity=1,e.applyTheme(),e}return t.prototype.applyFilter=function(){var e=this.intensity,i=1-e,r,s,a,o=this.color;o&&o.rgb?(r=o.rgb.r/255*e,s=o.rgb.g/255*e,a=o.rgb.b/255*e):(r=0,s=0,a=0),this.feColorMatrix.attr({values:i+" 0 0 0 "+r+" 0 "+i+" 0 0 "+s+" 0 0 "+i+" 0 "+a+" 0 0 0 1 0"})},Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(e){this.properties.intensity=e,this.applyFilter()},enumerable:!0,configurable:!0}),t}(bo);F.registeredClasses.ColorizeFilter=JT;var mc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(e){this.properties.saturation=e,this.feColorMatrix.attr({values:e.toString()})},enumerable:!0,configurable:!0}),t}(bo);F.registeredClasses.DesaturateFilter=mc;var eM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t}(bo);F.registeredClasses.BlurFilter=eM;var tM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="FocusFilter",e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":new ft().getFor("primaryButtonHover"),result:"base"}),e.filterPrimitives.push(e.feFlood),e.feMorphology=e.paper.add("feMorphology"),e.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),e.filterPrimitives.push(e.feMorphology),e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),e.filterPrimitives.push(e.feColorMatrix),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feBlend=e.paper.add("feBlend"),e.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),e.filterPrimitives.push(e.feBlend),e.width=130,e.height=130,e.applyTheme(),e}return Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"})},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.group.removeStyle("outline"),e.group.addStyle({outline:"none"}),n.prototype.setSprite.call(this,e)},t}(bo),Gl=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new ht({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.getReusableColor=function(e){if(this._list.length==0)return this.generate(1),this.list[0];var i=e-Math.floor(e/this._list.length)*this.list.length;return this.list[i]},t.prototype.next=function(){var e;return this.list.length<=this._currentStep?this.reuse?e=this.getReusableColor(this._currentStep):(this.generate(We(this.minColors,this._currentStep+1)),e=this.list[this._currentStep]):e=this.list[this._currentStep],this._currentStep+=this.step,e.saturate(this.saturation)},t.prototype.getIndex=function(e){var i;return this.list.length<=e?this.reuse?i=this.getReusableColor(e):(this.generate(this.minColors),i=this.getIndex(e)):i=this.list[e],i.saturate(this.saturation)},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.generate=function(e){var i=this.currentColor,r=Mh(Et(i.rgb)),s=M(this.stepOptions.hue)?this.stepOptions.hue:1/e,a={brighten:0,lighten:0,hue:r.h,lightness:r.l,saturation:r.s},o=[],u=this.list.length==0?0:1;if(this.reuse)for(var c=u;c<=e;c++)o.push(Mh(Et(this._list[c].rgb)).h);else for(var c=u;c<=e;c++){var f=r.h+s*c;this.wrap&&f>1&&(f-=1),o.push(f)}this.shuffle&&o.sort(function(b,x){return Math.random()-.5});for(var c=0;c<e;c++){this.reuse?r=Mh(Et(this._list[c].rgb)):r.h=o.shift(),this.applyStepOptions(r,a,c,this._currentPass);var p=Oe(G0(r)),g=(this.stepOptions.brighten||0)*c+(this.passOptions.brighten||0)*this._currentPass;g!=0&&(this.wrap?g=cp(g,this.minLightness,this.maxLightness):g=hp(g,this.minLightness,this.maxLightness),p=p.brighten(g));var y=(this.stepOptions.lighten||0)*c+(this.passOptions.lighten||0)*this._currentPass;y!=0&&(this.wrap?y=cp(y,this.minLightness,this.maxLightness):y=hp(y,this.minLightness,this.maxLightness),p=p.lighten(y)),this._list.push(p)}this._currentPass++},Object.defineProperty(t.prototype,"currentColor",{get:function(){return this._list.length==0?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),t.prototype.applyStepOptions=function(e,i,r,s){e.l=i.lightness+(this.stepOptions.lightness||0)*r+(this.passOptions.lightness||0)*s,this.wrap?(e.l>1?e.l=e.l-Math.floor(e.l):e.l<0&&(e.l=-(e.l-Math.floor(e.l))),e.l=cp(e.l,this.minLightness,this.maxLightness)):(e.l>1?e.l=1:e.l<0&&(e.l=0),e.l=hp(e.l,this.minLightness,this.maxLightness))},t.prototype.processConfig=function(e){if(e){if(M(e.list)&&fi(e.list))for(var i=0,r=e.list.length;i<r;i++)e.list[i]instanceof ht||(e.list[i]=Oe(e.list[i]));M(e.baseColor)&&!(e.baseColor instanceof ht)&&(e.baseColor=Oe(e.baseColor))}n.prototype.processConfig.call(this,e)},t}(Ri);F.registeredClasses.ColorSet=Gl;var iM=function(n){N(t,n);function t(){var e=n.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new ht({r:103,g:183,b:220}),e.className="PatternSet";var i=new ft;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=i.getFor("stroke"),e.applyTheme(),e}return t.prototype.getLinePattern=function(e,i,r,s,a){var o=new S1;return o.width=e,o.height=e,o.stroke=this.baseColor,o.gap=s,o.strokeDasharray=a,o.strokeWidth=r,o.rotation=i,o},t.prototype.getRectPattern=function(e,i,r,s){var a=new D1;return a.width=e,a.height=e,a.rectWidth=r,a.rectHeight=r,s?(a.stroke=this.baseColor,a.strokeWidth=1,a.fillOpacity=0):(a.fill=this.baseColor,a.strokeWidth=0),i!=0&&(a.shapeRendering="auto"),a.rotation=i,a},t.prototype.getCirclePattern=function(e,i,r){var s=new j1;return s.width=e,s.height=e,s.shapeRendering="auto",s.radius=i,r?(s.stroke=this.baseColor,s.strokeWidth=1,s.fillOpacity=0):(s.fill=this.baseColor,s.strokeWidth=0),s},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.next=function(){var e=this.getIndex(this.currentStep);return this._currentStep++,e},t.prototype.getIndex=function(e){for(var i;this.list.length<=e;)this.generatePatterns();return i=this.list[e],i.clone()},t.prototype.generatePatterns=function(){var e=this.list.length/(this._currentPass+1);this._currentPass++;for(var i=0;i<e;i++)this.list.push(this.list[i].clone())},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){n.prototype.processConfig.call(this,e)},t}(Ri);F.registeredClasses.PatternSet=iM;var rM=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="AmChartsLogo",e.valign="bottom";var i=.3;e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=220*i,e.height=70*i,e.background.opacity=0;var r=Oe("#474758");new ft().getFor("background").alternative.hex=="#ffffff"&&(r=Oe("#ffffff"));var s=new Er;s.addColor(r),s.addColor(r,1,.75),s.addColor(Oe("#3cabff"),1,.755),s.rotation=-10;var a=s,o=e.createChild(fc);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:50*i,y:50*i},{x:90*i,y:50*i},{x:120*i,y:20*i},{x:135*i,y:35*i},{x:150*i,y:20*i},{x:180*i,y:50*i},{x:200*i,y:50*i}]],o.strokeWidth=6*i,o.tensionX=.8,o.tensionY=1,o.stroke=Oe("#3cabff");var u=e.createChild(fc);u.shouldClone=!1,u.isMeasured=!1,u.segments=[[{x:20*i,y:50*i},{x:50*i,y:50*i},{x:90*i,y:12*i},{x:133*i,y:50*i},{x:170*i,y:50*i},{x:200*i,y:50*i}]],u.strokeWidth=6*i,u.tensionX=.75,u.tensionY=1,u.stroke=a,e._disposers.push(u);var c=new mc;e.filters.push(c);var f=new mc;f.saturation=1;var p=e.states.create("hover");return p.properties.opacity=1,p.filters.push(f),e.applyTheme(),e}return t}(Se);function nM(n,t){var e=a1(n),i=!1;if(e||(e=document.createElement("div"),e.style.width="200px",e.style.height="200px",e.style.top="0",e.style.left="0",e.style.visibility="hidden",e.style.position="absolute",document.body.appendChild(e),i=!0),e){e.innerHTML="";var r=new c1(e),s=new d1(r.SVGContainer,"svg-"+(Kp.length-1)),a=new Se;a.htmlContainer=e,a.svgContainer=r,a.width=te(100),a.height=te(100),a.background.fillOpacity=0,a.paper=s,s.append(a.group),i&&aT(function(){a.moveHtmlContainer(n)}),a.relativeWidth=1,a.relativeHeight=1,r.container=a;var o=a.createChild(t);o.topParent=a;var u=o.uid;F.invalidSprites[u]=[],F.invalidDatas[u]=[],F.invalidPositions[u]=[],F.invalidLayouts[u]=[],a.baseId=u,o.isBaseSprite=!0,o.focusFilter=new tM,F.baseSprites.push(o),F.baseSpritesByUid[u]=o,o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)},a.events.on("maxsizechanged",function(b){(b.previousWidth==0||b.previousHeight==0)&&a.deepInvalidate(),o.maskRectangle&&(o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)})});var c=null,f=function(){o.isDisposed()?c=null:o1(o.dom)==null?(Am("Chart was not disposed",o.uid),c=null):c=window.setTimeout(f,1e3)};f(),o.addDisposer(new vt(function(){c!==null&&clearTimeout(c),Le(F.baseSprites,o),F.baseSpritesByUid[o.uid]=void 0})),o.addDisposer(a);var p=a.createChild(Se);p.topParent=a,p.width=te(100),p.height=te(100),p.isMeasured=!1,a.tooltipContainer=p,o.tooltip=new Rc,o.tooltip.hide(0),o.tooltip.setBounds({x:0,y:0,width:p.maxWidth,height:p.maxHeight}),p.events.on("maxsizechanged",function(){Et(o.tooltip).setBounds({x:0,y:0,width:p.maxWidth,height:p.maxHeight})},void 0,!1);var g=new v1;if(g.events.on("inited",function(){g.__disabled=!0},void 0,!1),a.preloader=g,o instanceof Se&&!o.hasLicense()){var y=p.createChild(rM);p.events.on("maxsizechanged",function(b){p.maxWidth<=100||p.maxHeight<=50?y.hide():(y.isHidden||y.isHiding)&&y.show()},void 0,!1),o.logo=y,y.align="left",y.valign="bottom"}return o.numberFormatter,a.isStandaloneInstance=!0,o}else throw it.log("html container not found"),new Error("html container not found")}function Bm(n,t){var e;at(t)&&(M(F.registeredClasses[t])?t=F.registeredClasses[t]:(t=F.registeredClasses.Container,e=new Error("Class ["+t+"] is not loaded.")));var i=nM(n,t);return e&&i.raiseCriticalError(e),i}var k1=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="Grip";var i=new ft;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var r=new Ye;r.element=e.paper.add("path");var s=pe({x:-6,y:0});return s+=K({x:6,y:0}),s+=pe({x:-8,y:-6}),s+=K({x:0,y:-12}),s+=K({x:8,y:-6}),s+=pe({x:-8,y:6}),s+=K({x:0,y:12}),s+=K({x:8,y:6}),r.path=s,r.strokeWidth=2,r.fillOpacity=0,r.pixelPerfect=!0,r.padding(0,4,0,4),r.stroke=i.getFor("text"),r.strokeOpacity=.7,r.align="center",r.valign="middle",e.icon=r,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",function(a){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.events.on("down",function(a){e._autoHideTimeout&&e._autoHideTimeout.dispose()}),e.events.on("out",function(a){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.applyTheme(),e}return Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=te(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=te(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=te(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=te(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=te(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e)},enumerable:!0,configurable:!0}),t}(Os);F.registeredClasses.Grip=k1;var O1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return t}(pa),xa=function(n){N(t,n);function t(){var e=n.call(this)||this;if(e._legend=new li,e.constructor===t)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");e.className="Chart";var i=new Hi;e.titles=new zt(i),e._disposers.push(new Pt(e.titles)),e._disposers.push(i),e.width=te(100),e.height=te(100),e.layout="vertical";var r=e.createChild(Se);r.shouldClone=!1,r.layout="vertical",r.width=te(100),r.height=te(100),e.chartAndLegendContainer=r;var s=r.createChild(Se);return s.shouldClone=!1,s.width=te(100),s.height=te(100),e.chartContainer=s,e.showOnInit=!0,e._disposers.push(e._legend),e.titles.events.on("inserted",function(a){e.processTitle(a),e.updateReaderTitleReferences()},e,!1),e.titles.events.on("removed",function(a){e.updateReaderTitleReferences()},e,!1),e.role="region",e.defaultState.transitionDuration=1,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},t.prototype.draw=function(){this.fixLayout(),n.prototype.draw.call(this)},t.prototype.fixLayout=function(){var e=this.legend;if(e){var i=this.chartAndLegendContainer,r=this.chartContainer;switch(r.x=void 0,r.y=void 0,e.position!="absolute"&&(e.x=void 0,e.y=void 0),e.position){case"left":i.layout="horizontal",e.toBack();break;case"right":i.layout="horizontal",e.toFront();break;case"top":i.layout="vertical",e.toBack();break;case"bottom":i.layout="vertical",e.toFront();break;case"absolute":e.isMeasured=!1;break}}},t.prototype.feedLegend=function(){},t.prototype.processTitle=function(e){var i=e.newValue;return i.parent=this,i.toBack(),i.shouldClone=!1,i.align="center",i.uidAttr(),i},t.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];Q(this.titles.iterator(),function(i){e.push(i.uid)}),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(e){var i=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",function(r){r.property=="position"&&i.fixLayout()},void 0,!1)),e.addDisposer(new vt(function(){i.legend=void 0}))):this._legend.reset(),this.feedLegend())},t.prototype.dispose=function(){this.legend&&this.legend.dispose(),n.prototype.dispose.call(this)},t.prototype.processConfig=function(e){e&&M(e.legend)&&!M(e.legend.type)&&(e.legend.type="Legend"),n.prototype.processConfig.call(this,e)},t.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),n.prototype.copyFrom.call(this,e)},Object.defineProperty(t.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var i=this.tooltipContainer.createChild(k1);i.align="right",i.valign="middle",i.hide(0),i.events.on("down",function(r){r.touch&&(e.interactionsEnabled=!1)}),i.events.on("up",function(r){e.interactionsEnabled=!0}),this.events.on("down",function(r){r.touch&&i.show()}),this._dragGrip=i}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e},enumerable:!0,configurable:!0}),t}(yo);F.registeredClasses.Chart=xa;yi.push({relevant:Mi.widthXS,state:function(n,t){if(n instanceof xa){var e=n.states.create(t);return n.pixelPaddingLeft>10&&(e.properties.paddingLeft=10),n.pixelPaddingRight>10&&(e.properties.paddingRight=10),e}return null}});yi.push({relevant:Mi.heightXS,state:function(n,t){if(n instanceof xa){var e=n.states.create(t);return n.pixelPaddingTop>10&&(e.properties.paddingTop=10),n.pixelPaddingBottom>10&&(e.properties.paddingBottom=10),e}return null}});yi.push({relevant:Mi.widthXXS,state:function(n,t){if(n instanceof xa){var e=n.states.create(t);return e.properties.paddingLeft=0,e.properties.paddingRight=0,e}return null}});yi.push({relevant:Mi.heightXXS,state:function(n,t){if(n instanceof xa){var e=n.states.create(t);return e.properties.paddingTop=0,e.properties.paddingBottom=0,e}return null}});var bn=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.Bullet=bn;yi.push({relevant:Mi.isXS,state:function(n,t){if(n instanceof bn){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var sM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this._label=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new vt(function(){M(e.component)&&e.component.labels.removeValue(i)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var i=this.component.valueLabels.create();this._valueLabel=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new vt(function(){M(e.component)&&e.component.valueLabels.removeValue(i)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var i=this.component,r=i.itemContainers.create();r.parent=i,this._itemContainer=r,this.addSprite(r),this._disposers.push(r),r.togglable&&r.events.on("toggled",function(o){i.toggleDataItem(o.target.dataItem)},void 0,!1),r.focusable&&(r.events.on("toggled",function(o){r.events.disableType("toggled"),e.setTimeout(function(){r.events.enableType("toggled")},50)},void 0,!1),r.events.on("hit",function(o){i.focusedItem=void 0},void 0,!1),r.events.on("focus",function(o){i.focusedItem=o.target.dataItem},void 0,!1),r.events.on("blur",function(o){i.focusedItem=void 0},void 0,!1)),this._disposers.push(new vt(function(){M(e.component)&&e.component.itemContainers.removeValue(r)})),this.dataContext.uidAttr&&(r.readerControls=this.dataContext.uidAttr(),r.readerLabelledBy=this.dataContext.uidAttr());var s=this.dataContext;if((s instanceof pa||s instanceof Ye)&&!s.isDisposed()){var a=function(o){r.readerChecked=o.visible,r.events.disableType("toggled"),r.isActive=!o.visible,r.events.enableType("toggled")};s.addDisposer(new vt(function(){e.component&&e.component.dataItems.remove(e)})),s instanceof Ye?(r.addDisposer(s.events.on("visibilitychanged",a,void 0,!1)),r.addDisposer(s.events.on("hidden",function(o){r.readerChecked=!1,r.events.disableType("toggled"),r.isActive=!0,r.events.enableType("toggled")},void 0,!1)),r.addDisposer(s.events.on("shown",function(o){r.readerChecked=!0,r.events.disableType("toggled"),r.isActive=!1,r.events.enableType("toggled")},void 0,!1))):r.addDisposer(s.events.on("visibilitychanged",a,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){var e=this;if(!this._marker){var i=this.component.markers.create();this._marker=i,i.parent=this.itemContainer,this.addSprite(i),this._disposers.push(i),this._disposers.push(new vt(function(){M(e.component)&&e.component.markers.removeValue(i)}))}return this._marker},enumerable:!0,configurable:!0}),t}(pa),T1=function(){function n(){this.createMarker=!0}return n}(),Lc=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new Se;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=gi.pointer,i.background.fillOpacity=0,e.itemContainers=new zt(i),e._disposers.push(new Pt(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(Ne().body.events.on("keyup",function(f){if(mn.isKey(f.event,"enter")&&e.focusedItem){var p=e.focusedItem,g=p.itemContainer;g.togglable?e.toggleDataItem(p):g.clickable&&g.events.isEnabled("hit")&&(g.dispatchImmediately("hit",{event:f}),e.focusedItem=p)}},e));var r=new ft,s=new Se;s.width=23,s.height=23,s.interactionsEnabled=!1,s.applyOnClones=!0,s.setStateOnChildren=!0,s.background.fillOpacity=0,s.background.strokeOpacity=0,s.propertyFields.fill="fill",s.valign="middle";var a=r.getFor("disabledBackground");s.events.on("childadded",function(f){var p=f.newValue,g=p.states.create("active");g.properties.stroke=a,g.properties.fill=a}),e.markers=new zt(s),e._disposers.push(new Pt(e.markers)),e._disposers.push(e.markers.template);var o=s.createChild(_n);o.width=te(100),o.height=te(100),o.applyOnClones=!0,o.propertyFields.fill="fill",o.strokeOpacity=0;var u=new Hi;u.text="{name}",u.margin(0,5,0,5),u.valign="middle",u.applyOnClones=!0,u.states.create("active").properties.fill=r.getFor("disabledBackground"),e.labels=new zt(u),e._disposers.push(new Pt(e.labels)),e._disposers.push(e.labels.template),u.interactionsEnabled=!1,u.truncate=!0,u.fullWords=!1;var c=new Hi;return c.margin(0,5,0,0),c.valign="middle",c.width=50,c.align="right",c.textAlign="end",c.applyOnClones=!0,c.states.create("active").properties.fill=r.getFor("disabledBackground"),c.interactionsEnabled=!1,e.valueLabels=new zt(c),e._disposers.push(new Pt(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.events.on("parentset",function(){var f=e.parent;f&&e._disposers.push(f.events.on("maxsizechanged",function(){e.scrollable&&e.setTimeout(function(){e.updateMasks(),e.handleScrollbar(),e._handleWheelReal(1)},100)}))}),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},t.prototype.createDataItem=function(){return new sM},t.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),n.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){n.prototype.validateDataElement.call(this,e);var i=e.itemContainer,r=e.marker;e.label;var s=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var a=e.label.maxWidth;e.label.width instanceof st||(e.label.width=void 0),a>0&&(e.label.maxWidth=a),s.align=="right"&&(s.width=void 0);var o=e.dataContext.legendSettings,u=e.dataContext;u.createLegendMarker&&(!this.useDefaultMarker||!(u instanceof Ye))?e.childrenCreated||(u.createLegendMarker(r),e.childrenCreated=!0):this.markers.template.propertyFields.fill=void 0,u.updateLegendValue&&u.updateLegendValue(),u.component&&u.component.updateLegendValue&&u.component.updateLegendValue(u),s.invalid&&s.validate(),s.text==""||s.text==null?s.__disabled=!0:s.__disabled=!1,o&&(o.itemValueText!=null||o.valueText!=null)&&(s.__disabled=!1);var c=e.dataContext.visible;c===void 0&&(c=!0),c=Mt(c),e.dataContext.visible=c,i.events.disableType("toggled"),i.isActive=!c,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled")},t.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),r=0;this.labels.each(function(p){p.invalid&&(p.maxWidth=void 0,p.validate()),p.measuredWidth+p.pixelMarginLeft+p.pixelMarginRight>r&&(r=p.measuredWidth+p.pixelMarginLeft+p.pixelMarginRight)});var s=0;this.valueLabels.each(function(p){p.invalid&&p.validate(),p.measuredWidth+p.pixelMarginLeft+p.pixelMarginRight>s&&(s=p.measuredWidth+p.pixelMarginLeft+p.pixelMarginRight)});var a=0;this.markers.each(function(p){p.invalid&&p.validate(),p.measuredWidth+p.pixelMarginLeft+p.pixelMarginRight>a&&(a=p.measuredWidth+p.pixelMarginLeft+p.pixelMarginRight)});var o=this.itemContainers.template,u=o.pixelMarginRight+o.pixelMarginLeft,c,f=r+s+a;D(i)?(i=i-u,i>f&&(i=f),c=i-a-s):c=r,this.labels.each(function(p){(e.valueLabels.template.align=="right"||p.measuredWidth>c)&&(p.width instanceof st||(p.width=Math.min(p.maxWidth,c-p.pixelMarginLeft-p.pixelMarginRight),p.maxWidth=p.width))}),this.valueLabels.template.align=="right"&&this.valueLabels.each(function(p){p.width=s-p.pixelMarginRight-p.pixelMarginLeft}),n.prototype.afterDraw.call(this)},t.prototype.handleScrollbar=function(){var e=this.scrollbar;if(this.scrollable&&e){var i=this.maxHeight;e.height=i,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>i?(e.visible=!0,e.thumb.height=e.height*i/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight):(e.thumb.height=e.height*i/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight,e.visible=!1,e.start=0,e.end=1),e.handleThumbPosition(),this.updateMasks()}},Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&(e=="left"||e=="right"?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",D(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=te(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var i=this.createChild(Ic);this.scrollbar=i,i.isMeasured=!1,i.orientation="vertical",i.endGrip.__disabled=!0,i.startGrip.__disabled=!0,i.visible=!1,i.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(i.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){this._handleWheelReal(e.shift.y)},t.prototype._handleWheelReal=function(e){var i=this.scrollbar;if(i){var r=e/1e3*this.measuredHeight/this.contentHeight,s=i.end-i.start;e>0?(i.start=We(0,i.start-r),i.end=i.start+s):(i.end=ot(1,i.end-r),i.start=i.end-s)}},t.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each(function(i){i.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.maxHeight,i.maskRectangle={x:0,y:-i.dy,width:e.measuredWidth,height:e.maxHeight}}),this.invalidatePosition()},t.prototype.toggleDataItem=function(e){var i=e.dataContext;!i.visible||i.isHiding||i instanceof Ye&&i.isHidden?(e.color=e.colorOrig,i.appeared=!0,e.itemContainer.isActive=!1,i.hidden===!0&&(i.hidden=!1),i.show?i.show():i.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,i.appeared=!0,i.hide?i.hide():i.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=new ft().getFor("disabledBackground"))},Object.defineProperty(t.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.handleDataItemPropertyChange=function(e,i){e.valueLabel.invalidate(),e.label.invalidate()},t}(yo);F.registeredClasses.Legend=Lc;yi.push({relevant:Mi.widthXS,state:function(n,t){if(n instanceof Lc&&(n.position=="left"||n.position=="right")){var e=n.states.create(t);return e.properties.position="bottom",e}return null}});yi.push({relevant:Mi.heightXS,state:function(n,t){if(n instanceof Lc&&(n.position=="top"||n.position=="bottom")){var e=n.states.create(t);return e.properties.position="right",e}return null}});yi.push({relevant:Mi.isXS,state:function(n,t){if(n instanceof Lc){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var Nc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new St,this._disposers.push(new da(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bullets.clear(),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),t}(pa),zc=function(n){N(t,n);function t(){var e=n.call(this)||this;if(e._ignoreMinMax=!1,e._showBullets=!0,e.legendSettings=new T1,e._tmin=new St,e._tmax=new St,e._smin=new St,e._smax=new St,e.dataItemsByAxis=new St,e.skipFocusThreshold=20,e._itemReaderTextChanged=!1,e.calculatePercent=!1,e.usePercentHack=!0,e.autoDispose=!0,e.simplifiedProcessing=!1,e.constructor===t)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");e.className="Series",e.isMeasured=!1,e.layout="none",e.shouldClone=!1,e.setPropertyValue("hidden",!1),e.axisRanges=new ct,e.axisRanges.events.on("inserted",e.processAxisRange,e,!1),e.minBulletDistance=0,e.mainContainer=e.createChild(Se),e.mainContainer.shouldClone=!1,e.mainContainer.mask=e.createChild(Ye),e._disposers.push(e.mainContainer);var i=e.mainContainer.createChild(Se);return e._shouldBeReady.push(i),i.shouldClone=!1,i.layout="none",i.virtualParent=e,e._disposers.push(i),e.bulletsContainer=i,e.tooltip=new Rc,e.tooltip.virtualParent=e,e._disposers.push(e.tooltip),e.hiddenState.transitionEasing=n1,e.dataItem=e.createDataItem(),e._disposers.push(e.dataItem),e.dataItem.component=e,e.role="group",e.applyTheme(),e}return t.prototype.applyTheme=function(){n.prototype.applyTheme.call(this)},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},t.prototype.createDataItem=function(){return new Nc},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){},t.prototype.processBullet=function(e){var i=this,r=e.newValue;r.isTemplate=!0,this.events.once("datavalidated",function(s){i.itemsFocusable()&&(r.focusable=!0)}),this.invalidate()},t.prototype.removeBullet=function(e){var i=e.oldValue;this.dataItems.each(function(r){var s=r.bullets.getKey(i.uid);s&&s.dispose()}),this.invalidate()},t.prototype.validateDataItems=function(){n.prototype.validateDataItems.call(this),this.processValues(!1)},t.prototype.getFirstValue=function(e,i){for(var r=i;r>=0;r--){var s=this.dataItems.getIndex(r),a=s.getActualWorkingValue(e);if(D(a))return a}return null},t.prototype.getAbsoluteFirstValue=function(e){for(var i=0;i<this.dataItems.length;i++){var r=this.dataItems.getIndex(i),s=r.values[e].value;if(D(s))return s}return null},t.prototype.rangeChangeUpdate=function(){n.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},t.prototype.processValues=function(e){var i=this;if(!this.simplifiedProcessing){var r=this.dataItems,s={},a={},o={},u={},c={},f={},p={},g={},y={},b={},x=We(0,this.startIndex);x=ot(x,this.dataItems.length);var w=ot(this.endIndex,this.dataItems.length);if(D(x)||(x=0),D(w)||(w=this.dataItems.length),x>0){var P=r.getIndex(x-1);Ve(P.values,function(A,I){var L=P.getActualWorkingValue(A);D(L)&&(g[A]=L)})}for(var S=function(A){var I=r.getIndex(A);Ve(I.values,function(L,J){var ie=I.getActualWorkingValue(L);if(D(ie)){D(s[L])||(s[L]=0),s[L]++,D(a[L])||(a[L]=0),a[L]+=ie,D(o[L])||(o[L]=0),o[L]+=Math.abs(ie),D(f[L])||(f[L]=ie),p[L]=ie,D(u[L])?u[L]>ie&&(u[L]=ie):u[L]=ie,D(c[L])?c[L]<ie&&(c[L]=ie):c[L]=ie,D(y[L])||(y[L]=i.getFirstValue(L,x)),D(b[L])||(b[L]=i.getAbsoluteFirstValue(L)),I.setCalculatedValue(L,ie-y[L],"change"),I.setCalculatedValue(L,(ie-y[L])/y[L]*100,"changePercent"),I.setCalculatedValue(L,ie-b[L],"startChange"),I.setCalculatedValue(L,(ie-b[L])/b[L]*100,"startChangePercent");var ne=g[L];D(ne)||(ne=ie),I.setCalculatedValue(L,ie-ne,"previousChange"),I.setCalculatedValue(L,(ie-ne)/ne*100,"previousChangePercent"),g[L]=ie}})},k=x;k<w;k++)S(k);if(this.calculatePercent)for(var T=function(A){var I=r.getIndex(A);Ve(I.values,function(L){var J=o[L],ie=I.getActualWorkingValue(L);if(D(ie))if(J>0){i.usePercentHack&&ie==J&&(J=I.values[L].value);var ne=ie/J*100;I.setCalculatedValue(L,ne,"percent")}else I.setCalculatedValue(L,0,"percent")})},k=x;k<w;k++)T(k);if(x>0){var j=r.getIndex(x-1);Ve(j.values,function(A){var I=j.values[A].value;j.setCalculatedValue(A,I-f[A],"change"),j.setCalculatedValue(A,(I-f[A])/f[A]*100,"changePercent")})}var V=this.dataItem;Ve(V.values,function(A){V.setCalculatedValue(A,a[A],"sum"),V.setCalculatedValue(A,o[A],"absoluteSum"),V.setCalculatedValue(A,a[A]/s[A],"average"),V.setCalculatedValue(A,f[A],"open"),V.setCalculatedValue(A,p[A],"close"),V.setCalculatedValue(A,u[A],"low"),V.setCalculatedValue(A,c[A],"high"),V.setCalculatedValue(A,s[A],"count")})}},t.prototype.validate=function(){El()&&this.filters.clear(),Q(this.axisRanges.iterator(),function(s){s.validate()}),n.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){var r=this.dataItems.getIndex(i);r&&r.bullets.each(function(s,a){a.__disabled=!0})}for(var i=this.dataItems.length-1;i>this.endIndex;i--){var r=this.dataItems.getIndex(i);r&&r.bullets.each(function(o,u){u.__disabled=!0})}}else this.bulletsContainer.children.each(function(s){s.__disabled=!0});this.updateTooltipBounds()},t.prototype.updateTooltipBounds=function(){if(this.topParent){var e=0,i=0,r=this.topParent.maxWidth,s=this.topParent.maxHeight,a={x:e,y:i,width:r,height:s};this.tooltip.setBounds(a)}},t.prototype.shouldCreateBullet=function(e,i){return!0},t.prototype.validateDataElement=function(e){var i=this;n.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(r){var s=e.bullets.getKey(r.uid);if(i.shouldCreateBullet(e,r)){if(!s){var a=r.propertyFields.disabled,o=e.dataContext;a&&o&&o[a]===!1?(r.applyOnClones=!1,r.disabled=!1,s=r.clone(),r.disabled=!0,r.applyOnClones=!0):s=r.clone(),s.shouldClone=!1,e.addSprite(s),(!i.visible||i.isHiding)&&s.hide(0)}var u=s.dataItem;if(u!=e){u&&u.bullets.setKey(r.uid,void 0);var c=i.itemReaderText;s instanceof bn&&(c||(c="{"+s.xField+"}: {"+s.yField+"}"),s.isDynamic&&(e.events.on("workingvaluechanged",s.deepInvalidate,s,!1),i.dataItem.events.on("workingvaluechanged",s.deepInvalidate,s,!1)),s.deepInvalidate()),s.focusable&&(s.events.on("focus",function(f){s.readerTitle=i.populateString(c,s.dataItem)},void 0,!1),s.events.on("blur",function(f){s.readerTitle=""},void 0,!1)),s.hoverable&&(s.events.on("over",function(f){s.readerTitle=i.populateString(c,s.dataItem)},void 0,!1),s.events.on("out",function(f){s.readerTitle=""},void 0,!1))}s.parent=i.bulletsContainer,e.bullets.setKey(r.uid,s),s.maxWidth=e.itemWidth,s.maxHeight=e.itemHeight,s.__disabled=!1,i.positionBullet(s)}else s&&(s.__disabled=!0)})):this.bulletsContainer.visible=!1},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),t.prototype.createMask=function(){},t.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(Se),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var i=e.newValue;i&&(i.contents.parent=this.rangesContainer,i.isRange=!0,i.events.on("valuechanged",this.invalidateDataItems,this,!1))},t.prototype.getAxisField=function(e){},t.prototype.showTooltipAtPosition=function(e,i){},Object.defineProperty(t.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new zt(new bn),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new Pt(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){},Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var i=this.legendDataItem;i&&(i.component.invalidate(),i.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=Bp(this.tooltipText):this.tooltipHTML&&(e=Bp(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),t.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){if(this.legendDataItem){var r=this.legendSettings,s=this.legendDataItem,a=s.label,o=s.valueLabel;e&&!e.isDisposed()||i?(o&&(r.itemValueText&&(o.text=r.itemValueText),o.dataItem=e),a&&(r.itemLabelText&&(a.text=r.itemLabelText),a.dataItem=e)):(a&&((r.labelText||r.itemLabelText!=null)&&(a.text=r.labelText),a.dataItem=this.dataItem),o&&((r.valueText||r.itemValueText!=null)&&(o.text=r.valueText),o.dataItem=this.dataItem))}},t.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,n.prototype.copyFrom.call(this,e)},t.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),console.log(e)},t.prototype.applyFilters=function(){var e=this;n.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),Q(this.filters.iterator(),function(i){e.bulletsContainer.filters.push(i.clone())})},Object.defineProperty(t.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new ct,this._heatRules.events.on("inserted",function(i){var r=i.newValue,s=r.target;if(s){var a=r.dataField;M(a)||(a="value");var o=e.dataItem,u=r.property,c=_t(r.minValue),f=_t(r.maxValue);!D(c)&&!D(f)&&e.dataItem.events.on("calculatedvaluechanged",function(p){p.property==a&&Q(e.dataItems.iterator(),function(g){var y=!1;ce(g.sprites,function(b){if(b.clonedFrom==s){var x=b;x[u]=x[u],y=!0}}),y||ce(g.sprites,function(b){b instanceof Se&&Q(b.children.iterator(),function(x){if(x.className==s.className){var w=x;w[u]=w[u]}else x instanceof Se&&x.deepInvalidate()})})})}),e.dataItems.template.events.on("workingvaluechanged",function(p){if(p.property==a){var g=p.target,y=!1;ce(g.sprites,function(b){if(b.clonedFrom==s){var x=b;x[u]=x[u],y=!0}}),y||ce(g.sprites,function(b){b instanceof Se&&Q(b.children.iterator(),function(x){if(x.className==s.className){var w=x;w[u]=w[u]}else x instanceof Se&&x.deepInvalidate()})})}}),s.adapter.add(u,function(p,g,y){var b=_t(r.minValue),x=_t(r.maxValue),w=r.min,P=r.max;if(g instanceof Ye){var S=g,k=S.propertyFields[y];if(k&&g.dataItem){var T=g.dataItem.dataContext;if(T&&M(T[k]))return p}}var j=g.dataItem;if(D(b)||(b=o.values[a].low),D(x)||(x=o.values[a].high),j){var V=j.values[a];if(V){var A=j.getActualWorkingValue(a);if(M(w)&&M(P)&&D(b)&&D(x)&&D(A)){var I=void 0;if(r.logarithmic?I=(Math.log(A)*Math.LOG10E-Math.log(b)*Math.LOG10E)/(Math.log(x)*Math.LOG10E-Math.log(b)*Math.LOG10E):I=(A-b)/(x-b),D(A)&&(!D(I)||Math.abs(I)==1/0)&&(I=.5),D(w))return w+(P-w)*I;if(w instanceof ht)return new ht(tc(w.rgb,P.rgb,I))}}}return p})}})),this._heatRules},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i;if(e){if(M(e.bullets)&&fi(e.bullets))for(var r=0,s=e.bullets.length;r<s;r++){var a=e.bullets[r];M(a.type)||(a.type="Bullet")}M(e.heatRules)&&fi(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(n.prototype.processConfig.call(this,e),i){for(var r=0,s=i.length;r<s;r++){var o=i[r],u=this;if(M(o.target)&&at(o.target))if(this.map.hasKey(o.target))u=this.map.getKey(o.target);else for(var c=o.target.split("."),f=0;f<c.length;f++)if(u instanceof ct){var p=u.getIndex(_t(c[f]));p?u=p:u=u[c[f]]}else{var g=c[f].match(/^(.*)\[([0-9]+)\]/);g?u[g[1]]instanceof ct?u=u[g[1]].getIndex(_t(g[2])):u=u[g[1]][_t(g[2])]:u=u[c[f]]}o.target=u,M(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),M(o.max)&&(o.max=this.maybeColorOrPercent(o.max))}n.prototype.processConfig.call(this,{heatRules:i})}},t.prototype.configOrder=function(e,i){return e==i?0:e=="heatRules"?1:i=="heatRules"?-1:n.prototype.configOrder.call(this,e,i)},t.prototype.setVisibility=function(e){n.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(yo);F.registeredClasses.Series=zc;F.registeredClasses.SeriesDataItem=Nc;var M1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return t}(O1),Hm=function(n){N(t,n);function t(){var e=n.call(this)||this;e._exitDP={},e.className="SerialChart",e.colors=new Gl,e._usesData=!1;var i=e.chartContainer.createChild(Se);i.shouldClone=!1,i.width=te(100),i.height=te(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var r=e.chartContainer.createChild(Se);return r.shouldClone=!1,r.width=te(100),r.height=te(100),r.isMeasured=!1,r.zIndex=3,r.layout="none",e.bulletsContainer=r,e.applyTheme(),e}return t.prototype.dispose=function(){n.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new zt(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new Pt(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),this.dataUsers.each(function(c){c.invalidateDataItems()}),this._exitDP[i.uid]&&(this._exitDP[i.uid].dispose(),delete this._exitDP[i.uid]),i.autoDispose?i.dispose():(i.parent=void 0,i.bulletsContainer.parent=void 0);var r=this.legend;if(r){for(var s=this.legend.dataItems,a=s.length-1;a>=0;a--){var o=s.getIndex(a);o&&o.dataContext==i&&r.dataItems.remove(o)}for(var a=r.data.length-1;a>=0;a--){var u=r.data[a];u&&u==i&&Le(r.data,u)}}},t.prototype.handleSeriesAdded=function(e){var i=this,r=e.newValue;r.isDisposed()||(r.chart=this,r.parent=this.seriesContainer,r.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(r),r.addDisposer(new vt(function(){i.dataUsers.removeValue(r)})),this.handleSeriesAdded2(r),this.handleLegendSeriesAdded(r))},t.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e)},t.prototype.handleSeriesAdded2=function(e){var i=this;this.dataInvalid||(this._exitDP[e.uid]=F.events.once("exitframe",function(){(!e.data||e.data.length==0)&&(e.data=i.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.isDisposed()||e.events.once("datavalidated",function(){e.data==i.data&&(e._data=[])}))}),this._disposers.push(this._exitDP[e.uid]))},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];Q(this.series.iterator(),function(r){r.hiddenInLegend||i.push(r)}),e.dataFields.name="name",e.data=i}},t.prototype.createSeries=function(){return new zc},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},t.prototype.appear=function(){n.prototype.appear.call(this),this.series.each(function(e){e.showOnInit&&e.inited&&e.appear()})},t}(xa);F.registeredClasses.SerialChart=Hm;var Bc=function(n){N(t,n);function t(){var e=n.call(this)||this;e._axis=new li,e.dataItems=new ct,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new ft,r=new na;r.fill=i.getFor("background"),r.stroke=Oe(),r.fillOpacity=.9,r.zIndex=0,e._fillShape=r;var s=new na;s.fill=Oe(),s.stroke=i.getFor("grid"),s.strokeOpacity=.3,s.zIndex=1,e._startLine=s;var a=new na;return a.fill=Oe(),a.stroke=Oe("#000000"),a.strokeOpacity=.3,a.zIndex=2,e._endLine=a,e._disposers.push(e._axis),e.applyTheme(),e}return t.prototype.dispose=function(){n.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(t.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),t.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var i=e.axisBreaks.template;this.startLine.copyFrom(i.startLine),this.endLine.copyFrom(i.endLine),this.fillShape.copyFrom(i.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.draw=function(){if(n.prototype.draw.call(this),this.axis){var e=this.axis.renderer;e.updateBreakElement(this)}},Object.defineProperty(t.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.AxisBreak=Bc;var Kl=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.grid,i.disabled)return;r=i.clone()}else{if(i=e.renderer.grid.template,i.disabled)return;r=e.renderer.grid.create(),this._disposers.push(new vt(function(){e.renderer.grid.removeValue(r)}))}this.grid=r,r.shouldClone=!1,this._disposers.push(r),r.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(Le(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Le(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.tick,i.disabled)return;r=i.clone()}else{if(i=e.renderer.ticks.template,i.disabled)return;r=e.renderer.ticks.create(),this._disposers.push(new vt(function(){e.renderer.ticks.removeValue(r)}))}this.tick=r,r.axis=this.component,r.shouldClone=!1,this._disposers.push(r)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(Le(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Le(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.label,i.disabled)return;r=i.clone()}else{if(i=e.renderer.labels.template,i.disabled)return;r=e.renderer.labels.create(),this._disposers.push(new vt(function(){e.renderer.labels.removeValue(r)}))}this._disposers.push(r),this.label=r,r.shouldClone=!1,r.axis=this.component,r.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&(Le(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Le(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;r=i.clone()}else{if(i=e.renderer.axisFills.template,i.disabled)return;r=e.renderer.axisFills.create(),this._disposers.push(new vt(function(){e.renderer.axisFills.removeValue(r)}))}this.axisFill=r,r.shouldClone=!1,this._disposers.push(r)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(Le(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Le(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){if(!this._contents){var e=new Se;this.addSprite(e),e.isMeasured=!1,this._contents=e;var i=this.component;if(i){var r=i.renderer.createFill(this.component);r.disabled=!1,r.axis=i,this.addSprite(r),this._mask=r,e.mask=r}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),t.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},t.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},t.prototype.hasProperty=function(e){return e=="component"?!0:n.prototype.hasProperty.call(this,e)},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},t.prototype.setVisibility=function(e,i){n.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(t.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(Le(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),t}(pa),kx;(function(n){n[n.Start=0]="Start",n[n.Middle=.5]="Middle",n[n.End=1]="End"})(kx||(kx={}));var Hc=function(n){N(t,n);function t(){var e=n.call(this)||this;if(e._gridCount=10,e._series=new ct,e.autoDispose=!0,e._axisItemCount=0,e.constructor===t)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");e.hideTooltipWhileZooming=!0,e.minWidth=1e-4,e.minHeight=1e-4,e.className="Axis",e.shouldClone=!1,e.setPropertyValue("cursorTooltipEnabled",!0),e.toggleZoomOutButton=!0,e.zoomable=!0;var i=new ft;e.title=new Hi,e.title.shouldClone=!1,e._disposers.push(e.title),e.setPropertyValue("startLocation",0),e.setPropertyValue("endLocation",1),e._dataItemsIterator=new km(e.dataItems,function(){return e.dataItems.create()}),e._dataItemsIterator.createNewItems=!0;var r=new Rc;e._disposers.push(r),r.label.padding(5,10,5,10),r.background.pointerLength=5,r.fitPointerToBounds=!0,r.background.filters.clear(),r.virtualParent=e;var s=r.background;return s.cornerRadius=0,s.fill=i.getFor("alternativeBackground"),s.stroke=s.fill,s.strokeWidth=1,s.fillOpacity=1,r.label.fill=i.getFor("alternativeText"),e.tooltip=r,e.readerHidden=!0,e.events.on("rangechangestarted",function(){e.series.each(function(a){a.hideTooltipWhileZooming&&(a.tooltip.hide(),a.tooltip.preventShow=!0)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)},void 0,!1),e.events.on("rangechangeended",function(){e.series.each(function(a){a.hideTooltipWhileZooming&&(a.tooltip.hide(),a.tooltip.preventShow=!1)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)},void 0,!1),e.applyTheme(),e}return t.prototype.fillRule=function(e,i){D(i)||(i=e.index),i/2==Math.round(i/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Kl},t.prototype.invalidateLayout=function(){n.prototype.invalidateLayout.call(this),Q(this.series.iterator(),function(e){e.invalidateLayout()})},t.prototype.invalidateSeries=function(){Q(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},t.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},t.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),n.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},t.prototype.initRenderer=function(){},t.prototype.appendDataItem=function(e){var i=this.renderer,r=e.tick;r&&(r.above?r.parent=i.bulletsContainer:r.parent=i.gridContainer),e.label&&(e.label.parent=i);var s=e.axisFill;s&&(s.above?s.parent=i.bulletsContainer:s.parent=i.gridContainer);var a=e.grid;a&&(a.above?a.parent=i.bulletsContainer:a.parent=i.gridContainer),e.bullet&&(e.bullet.parent=i.bulletsContainer)},t.prototype.validate=function(){n.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},t.prototype.validateAxisRanges=function(){var e=this;Q(this.axisRanges.iterator(),function(i){e.appendDataItem(i),e.validateDataElement(i),i.grid&&i.grid.validate(),i.tick&&i.tick.validate(),i.axisFill&&i.axisFill.validate(),i.label&&i.label.validate()})},t.prototype.validateBreaks=function(){this._axisBreaks&&Q(this._axisBreaks.iterator(),function(e){e.invalidate()})},t.prototype.processBreak=function(e){var i=e.newValue;i.parent=this.renderer.breakContainer,i.axis=this},t.prototype.registerSeries=function(e){var i=this;return this.series.moveValue(e),new Lt([new vt(function(){i.series.removeValue(e)}),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var i=this.renderer.labels.create();this._disposers.push(i),i.dataItem=this.dataItems.template.clone(),i.text="L",i.parent=this.renderer,i.shouldClone=!1,i.fillOpacity=0,i.opacity=0,i.strokeOpacity=0,i.interactionsEnabled=!1,i.validate(),this.ghostLabel=i,this.events.on("beforedatavalidated",function(){i.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),t.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},t.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},t.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},t.prototype.getAnyRangePath=function(e,i){return this.renderer.getPositionRangePath(e,i)},t.prototype.anyToPosition=function(e){return 0},t.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},t.prototype.getPositionRangePath=function(e,i){return this.renderer?this.renderer.getPositionRangePath(e,i):""},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),t.prototype.hideTooltip=function(e){n.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},t.prototype.showTooltipAtPosition=function(e,i){var r=this._tooltip;if(!r||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(i||(e=this.toAxisPosition(e)),!D(e)||e<this.start||e>this.end){r.hide(0),this._tooltipPosition=void 0;return}var s=this.renderer;r.parent||(r.parent=this.tooltipContainer);var a=s.tooltipLocation,o=this.getCellStartPosition(e),u=this.getCellEndPosition(e);if(this.tooltipPosition=="fixed"&&(e=o+(u-o)*a),e=ge(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var c=s.tooltipLocation2,f=s.positionToPoint(o,c),p=s.positionToPoint(u,c);this.currentItemStartPoint=f,this.currentItemEndPoint=p,s.fullWidthTooltip&&(r.width=p.x-f.x,r.height=p.y-f.y);var g=s.positionToPoint(e,c),y=Tr(g,this.renderer.line);r.text=this.getTooltipText(e),r.text&&(r.delayedPointTo(y),r.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&r.hide(0)}},t.prototype.toAxisPosition=function(e){if(e=this.renderer.toAxisPosition(e),e!=null)return e=e*(this.end-this.start),this.renderer.inversed?e=this.end-e:e=this.start+e,e},t.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e=e-this.start,e/(this.end-this.start)},t.prototype.getTooltipText=function(e){},t.prototype.updateTooltip=function(e,i){var r=this._tooltip;r&&(r.fixDoc=!1,r.pointerOrientation=e,r.setBounds(Tm(i,this.renderer.line)))},t.prototype.roundPosition=function(e,i,r){return e},t.prototype.getCellStartPosition=function(e){return e},t.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(t.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new zt(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new Pt(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),t.prototype.processAxisRange=function(e){var i=e.newValue;i.component=this,i.isRange=!0},Object.defineProperty(t.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new X0(this.createAxisBreak(),function(e,i){return vn(e.adjustedStartValue,i.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new Pt(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),t.prototype.createAxisBreak=function(){return new Bc},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new ct),this._series},enumerable:!0,configurable:!0}),t.prototype.processSeriesDataItems=function(){},t.prototype.processSeriesDataItem=function(e,i){},t.prototype.postProcessSeriesDataItems=function(e){},t.prototype.postProcessSeriesDataItem=function(e){},t.prototype.updateAxisBySeries=function(){},t.prototype.hideUnusedDataItems=function(){var e=this,i=this._dataItemsIterator;i.createNewItems=!1,Q(i.iterator(),function(r){e.validateDataElement(r),r.__disabled=!0}),i.clear(),i.createNewItems=!0},t.prototype.getSeriesDataItem=function(e,i,r){},t.prototype.getAngle=function(e,i,r,s,a){},t.prototype.getX=function(e,i,r,s,a){},t.prototype.getPositionX=function(e,i,r,s,a){},t.prototype.getY=function(e,i,r,s,a){},t.prototype.getPositionY=function(e,i,r,s,a){},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.dataChangeUpdate=function(){},t.prototype.seriesDataChangeUpdate=function(e){},t.prototype.adjustDifference=function(e,i){var r=i-e;if(D(r))return this._axisBreaks&&yr(this._axisBreaks.iterator(),function(s){var a=s.adjustedStartValue,o=s.adjustedEndValue;if(D(a)&&D(o)){if(a>i)return!1;if(o>=e&&D(a)&&D(o)){var u=s.breakSize,c=Ck({start:a,end:o},{start:e,end:i});c&&(r-=(c.end-c.start)*(1-u))}return!0}}),r},t.prototype.isInBreak=function(e){if(this._axisBreaks)return Yk(this._axisBreaks.iterator(),function(i){return e>=i.adjustedStartValue&&e<=i.adjustedEndValue})},t.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var i=this._axisBreaks;if(i.length>0){ce(Ml(i.iterator()),function(a){var o=ot(a.startValue,a.endValue),u=We(a.startValue,a.endValue);a.adjustedStartValue=o,a.adjustedEndValue=u,e._axisBreaks.update(a)});var r=i.first,s=Math.min(r.startValue,r.endValue);Q(i.iterator(),function(a){var o=a.adjustedStartValue,u=a.adjustedEndValue;o<s&&(o=s,u<s&&(u=s)),a.adjustedStartValue=o,a.adjustedEndValue=u})}}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.getPositionLabel=function(e){return Math.round(e*100)+"%x"},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.createSeriesRange=function(e){var i=this.axisRanges.create();return i.component=this,i.axisFill=this.renderer.axisFills.template.clone(),i.axisFill.disabled=!1,i.axisFill.fillOpacity=0,i.grid=this.renderer.grid.template.clone(),i.grid.disabled=!0,i.tick=this.renderer.ticks.template.clone(),i.tick.disabled=!0,i.label=this.renderer.labels.template.clone(),i.label.disabled=!0,i.addDisposer(new vt(function(){e.axisRanges.removeValue(i)})),e.axisRanges.push(i),i},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},t.prototype.resetIterators=function(){this._dataItemsIterator.reset()},t.prototype.processConfig=function(e){if(e&&M(e.axisRanges)&&fi(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var s=e.axisRanges[i];M(s.series)&&at(s.series)&&this.map.hasKey(s.series)&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(s.series)),delete s.series,e.axisRanges[i].config=s)}n.prototype.processConfig.call(this,e)},t.prototype.configOrder=function(e,i){return e==i?0:e=="title"?1:i=="title"||e=="component"?-1:i=="component"?1:n.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e)},enumerable:!0,configurable:!0}),t}(yo);F.registeredClasses.Axis=Hc;F.registeredClasses.AxisDataItem=Kl;yi.push({relevant:Mi.maybeXS,state:function(n,t){if(n instanceof Hc&&n.tooltip){var e=n.states.create(t);return e.properties.cursorTooltipEnabled=!1,e}return null}});var F1=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new ft;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=Oe(),e.applyTheme(),e.interactionsEnabled=!1,e}return t}(Ye);F.registeredClasses.AxisLine=F1;var Wm=function(n){N(t,n);function t(e){var i=n.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var r=new ft;return i.fill=r.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t.prototype.draw=function(){n.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis&&D(this.startPosition)&&D(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(t.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return this.setPropertyValue("path",e)?(this.element.attr({d:e}),!0):!1},Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.AxisFill=Wm;var Ll=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new ft;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=Oe(),e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Ye);F.registeredClasses.Grid=Ll;yi.push({relevant:Mi.maybeXS,state:function(n,t){if(n instanceof Ll){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var Ym=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Hi);F.registeredClasses.AxisLabel=Ym;var Zl=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="Tick";var i=new ft;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),t}(Ye);F.registeredClasses.Tick=Zl;var E1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Zl);F.registeredClasses.AxisTick=E1;var Wc=function(n){N(t,n);function t(){var e=n.call(this)||this;e._chart=new li,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(Se);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=te(100),i.height=te(100),e.gridContainer=i,i.events.on("maxsizechanged",function(){e.inited&&e.invalidateAxisItems()},e,!1);var r=e.createChild(Se);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=te(100),r.height=te(100),e.breakContainer=r;var s=e.createChild(Se);s.shouldClone=!1,s.isMeasured=!1,s.layout="none",s.width=te(100),s.height=te(100),e.bulletsContainer=s,e.line=e.createChild(F1),e.line.shouldClone=!1,e.line.strokeOpacity=0;var a=e.createChild(Ll);a.shouldClone=!1,e.baseGrid=a;var o=e._disposers;return o.push(a),o.push(e.line),o.push(i),o.push(r),o.push(s),o.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e)},t.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},t.prototype.updateTooltip=function(){},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.positionItem=function(e,i){e&&e.moveTo(i)},t.prototype.positionToPoint=function(e,i){return{x:0,y:0}},t.prototype.positionToAngle=function(e){return 0},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,s=r.axisFullLength;return r.renderer.inversed?i=(r.end-e)*s:i=(e-r.start)*s,i},t.prototype.updateGridContainer=function(){},t.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},t.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},t.prototype.coordinateToPosition=function(e,i){var r,s=this.axis,a=s.axisFullLength;return s.renderer.inversed?r=s.end-e/a:r=e/a+s.start,ee(r,5)},t.prototype.pointToPosition=function(e){return 0},t.prototype.getPositionRangePath=function(e,i){return""},t.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems()},t.prototype.updateGridElement=function(e,i,r){},t.prototype.updateTickElement=function(e,i,r){},t.prototype.updateBullet=function(e,i,r){},t.prototype.updateLabelElement=function(e,i,r,s){},t.prototype.updateFillElement=function(e,i,r){e.startPosition=i,e.endPosition=r},t.prototype.updateAxisLine=function(){},t.prototype.updateBaseGridElement=function(){},t.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1)},Object.defineProperty(t.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t.prototype.toggleVisibility=function(e,i,r,s){var a=this.axis,o=e.dataItem;o&&o instanceof Kl&&(D(o.minPosition)&&(r=o.minPosition),D(o.maxPosition)&&(s=o.maxPosition));var u=a.start+(a.end-a.start)*(r-1e-4),c=a.start+(a.end-a.start)*(s+1e-4);e.disabled||(i<u||i>c?e.__disabled=!0:e.__disabled=!1)},t.prototype.createBreakSprites=function(e){},Object.defineProperty(t.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new zt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Pt(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),t.prototype.createFill=function(e){return new Wm(e)},Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new zt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Pt(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),t.prototype.createGrid=function(){return new Ll},Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new zt(e),this._disposers.push(new Pt(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),t.prototype.createTick=function(){return new E1},Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new zt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Pt(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createLabel=function(){return new Ym},Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},t.prototype.toAxisPosition=function(e){return e},t.prototype.setVisibility=function(e){n.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(Se);F.registeredClasses.AxisRenderer=Wc;var Ql=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Se);F.registeredClasses.AxisBullet=Ql;var en=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=te(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return t.prototype.setAxis=function(e){n.prototype.setAxis.call(this,e),e.layout="horizontal"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.y=e.pixelY,i.height=e.axisLength}},t.prototype.toAxisPosition=function(e){var i=this.axis;if(i){var r=1-e,s=i.relativePositionSprite,a=i.pixelY;if(s?a=$i({x:0,y:this.pixelY},this.parent,s).y:s=i.parent,s){var o=a/s.innerHeight,u=i.axisLength/s.innerHeight;return 1-(r-o)/u}}return e},t.prototype.processRenderer=function(){n.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof st||(e.height=te(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=2e3,r=0,s=0,a=i,o=this.axisLength;this.opposite?this.inside&&(r=-i,a=i):this.inside||(r=-i,a=i),this.axis.updateTooltip("horizontal",{x:r,y:s,width:a,height:o})}},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:0,y:this.positionToCoordinate(e)}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},t.prototype.coordinateToPosition=function(e,i){var r,s=this.axis,a=s.axisFullLength;return s.renderer.inversed?r=1-s.start-e/a:r=e/a+(1-s.end),ee(r,5)},t.prototype.getPositionRangePath=function(e,i){var r=ge(this.positionToCoordinate(e),0,this.axisLength),s=ge(this.positionToCoordinate(i),0,this.axisLength),a=Math.abs(s-r),o=this.getWidth(),u=Math.min(r,s),c=0;return ws({x:c,y:u,width:o,height:a},!0)},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i);e.path=pe({x:0,y:0})+K({x:this.getWidth(),y:0}),this.positionItem(e,s),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i),a=e.length;try{this.axis.title.measuredWidth}catch{}s.x=$i({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?a*=e.inside?-1:1:a*=e.inside?1:-1,e.path=pe({x:0,y:0})+K({x:a,y:0}),this.positionItem(e,s),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=pe({x:0,y:0})+K({x:0,y:this.axisLength})},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),r=this.axisLength,s=e.basePoint.y,a=this.baseGrid;if(s<-.2||s>r+.2)a.hide(0);else{var o=$i({x:0,y:0},this.gridContainer,a.parent).x;a.path=pe({x:0,y:0})+K({x:i,y:0}),a.moveTo({x:o,y:s}),a.show(0)}},t.prototype.updateLabelElement=function(e,i,r,s){M(s)||(s=e.location),i=i+(r-i)*s,e.isMeasured=!e.inside;var a=this.positionToPoint(i),o,u=0,c=this.gridContainer.maxWidth;this.opposite?(e.inside?(o="right",e.align=="left"&&(u=-c,o="left"),e.align=="center"&&(u=-c/2,o="middle")):o="left",a.x=0+u):(e.inside?(o="left",e.align=="right"&&(u=c,o="right"),e.align=="center"&&(u=c/2,o="middle")):o="right",a.x=this.measuredWidth+u),e.rotation==0&&(e.horizontalCenter=o),this.positionItem(e,a),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBreakElement=function(e){n.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,s=e.fillShape,a=e.startPoint,o=e.endPoint,u=e.pixelMarginLeft,c=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;a.y=ge(a.y,-1,this.axisLength+1),o.y=ge(o.y,-1,this.axisLength+1),a.y==o.y&&(a.y<0||a.y>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1;var f=Math.abs(c-u);i.x=u,i.height=0,i.width=f,r.x=u,r.height=0,r.width=f,s.width=f,s.height=Math.abs(o.y-a.y),s.x=u,s.y=o.y},t.prototype.createBreakSprites=function(e){e.startLine=new na,e.endLine=new na;var i=new _1;i.setWavedSides(!0,!1,!0,!1),e.fillShape=i},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,s=r.axisFullLength;return r.renderer.inversed?i=(e-r.start)*s:i=(r.end-e)*s,i},t.prototype.updateBullet=function(e,i,r){var s=.5;e instanceof Ql&&(s=e.location),i=i+(r-i)*s;var a=this.positionToPoint(i);a.x=$i({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t}(Wc);F.registeredClasses.AxisRendererY=en;yi.push({relevant:Mi.widthS,state:function(n,t){if(n instanceof en){var e=n.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});yi.push({relevant:Mi.widthXS,state:function(n,t){if(n instanceof en){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var Um=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),t}(Bc);F.registeredClasses.ValueAxisBreak=Um;var Yc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e)},enumerable:!0,configurable:!0}),t}(Kl),Qe=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return t.prototype.fillRule=function(e){var i=e.value,r=e.component;e.axisFill.disabled||(ee(i/r.step/2,5)==Math.round(i/r.step/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Yc},t.prototype.createAxisBreak=function(){return new Um},t.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(this._start!=0&&this.dispatchImmediately("startchanged"),this._end!=1&&this.dispatchImmediately("endchanged"),(this._start!=0||this._end!=1)&&this.dispatchImmediately("startendchanged")):(this._start!=0||this._end!=1)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},t.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),i=e.startIndex;if(e.dataItems.length>0){i>0&&i--;var r=e.endIndex;r<e.dataItems.length&&r++;for(var s=function(u){var c={},f={};a.series.each(function(p){if(!p.excludeFromTotal){var g=p.dataItems.getIndex(u);g&&Ve(g.values,function(y){var b=g.values[y].workingValue;D(b)&&(D(c[y])?c[y]+=Math.abs(b):c[y]=Math.abs(b),D(f[y])?f[y]+=b:f[y]=b)})}}),a.series.each(function(p){if(!p.excludeFromTotal){var g=p.dataItems.getIndex(u);g&&Ve(g.values,function(y){var b=g.values[y].workingValue;D(b)&&(g.setCalculatedValue(y,c[y],"total"),g.setCalculatedValue(y,100*b/c[y],"totalPercent"),g.setCalculatedValue(y,f[y],"sum"))})}})},a=this,o=i;o<r;++o)s(o)}}},t.prototype.validate=function(){this.axisLength<=0||(n.prototype.validate.call(this),this.getMinMax(),D(this._minAdjusted)||this.dataItems.each(function(e){e.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},t.prototype.calculateZoom=function(){if(D(this.min)&&D(this.max)){var e=this.positionToValue(this.start),i=this.positionToValue(this.end),r=this.adjustDifference(e,i),s=this.adjustMinMax(e,i,r,this._gridCount,!0),a=wO(s.step);this._stepDecimalPlaces=a,e=ee(e,a),i=ee(i,a),s=this.adjustMinMax(e,i,r,this._gridCount,!0);var o=s.step;if(this.syncWithAxis){var u=this.getCache(e+"-"+i);D(u)&&(o=u)}else e=s.min,i=s.max;(this._minZoomed!=e||this._maxZoomed!=i||this._step!=o||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=i,this._step=o,this.dispatchImmediately("selectionextremeschanged"))}},t.prototype.fixSmallStep=function(e){return 1+e==1?(e*=2,this.fixSmallStep(e)):e},t.prototype.validateAxisElements=function(){var e=this;if(D(this.max)&&D(this.min)){var i=this.minZoomed-this._step*2;if(!this.logarithmic)i=Math.floor(i/this._step)*this._step;else{var r=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;r>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E):(i=Math.floor(this.minZoomed/this._step)*this._step,i==0&&(i=this.minZoomed))}var s=this._maxZoomed+this._step;this.resetIterators();var a=this._dataItemsIterator;if(this._step==0)return;this._step=this.fixSmallStep(this._step);var o=0,u=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;i<=s;){var c=this.isInBreak(i);if(!c){var f=a.find(function(w){return w.value===i});f.__disabled&&(f.__disabled=!1),this.appendDataItem(f),f.axisBreak=void 0,(f.value!=i||u)&&(f.value=i,f.text=this.formatLabel(i),f.label&&f.label.invalid&&f.label.validate(),f.value>=this.min&&f.value<=this.max&&f.label&&(this.axisLetter=="Y"&&f.label.measuredWidth>this.ghostLabel.measuredWidth||this.axisLetter=="X"&&f.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=f.label.currentText,this.ghostLabel.validate())),this.validateDataElement(f)}o++;var p=i;if(!this.logarithmic)i+=this._step;else{var r=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;r>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E+o):i+=this._step}var g=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(g<1){var y=Math.round(Math.abs(Math.log(Math.abs(g))*Math.LOG10E))+2;if(y=Math.min(13,y),i=ee(i,y),p==i){i=s;break}}}var b=this._axisBreaks;if(b){var x=this.renderer;Q(b.iterator(),function(w){if(w.breakSize>0&&gt(w.startPoint,w.endPoint)>x.minGridDistance)for(var P=w.adjustedMin;P<=w.adjustedMax;){if(P>=w.adjustedStartValue&&P<=w.adjustedEndValue){var S=a.find(function(k){return k.value===P});S.__disabled&&(S.__disabled=!1),e.appendDataItem(S),S.axisBreak=w,S.value!=P&&(S.value=P,S.text=e.formatLabel(P),S.label&&S.label.invalid&&S.label.validate()),e.validateDataElement(S)}P+=w.adjustedStep}})}}},t.prototype.validateDataElement=function(e){n.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,r=e.value,s=e.endValue,a=this.valueToPosition(r);e.position=a;var o=a,u=this.valueToPosition(r+this._step);D(s)&&(o=this.valueToPosition(s),u=o),e.point=i.positionToPoint(a);var c=e.tick;c&&!c.disabled&&i.updateTickElement(c,a,o);var f=e.grid;f&&!f.disabled&&i.updateGridElement(f,a,o);var p=e.label;p&&!p.disabled&&i.updateLabelElement(p,a,o);var g=e.axisFill;g&&!g.disabled&&(i.updateFillElement(g,a,u),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,a,o);var y=e.mask;y&&i.updateFillElement(y,a,u)},t.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&e!=0?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(t.prototype,"basePoint",{get:function(){var e=this.baseValue,i=this.valueToPosition(e),r=this.renderer.positionToPoint(i);return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),t.prototype.anyToPosition=function(e){return this.valueToPosition(e)},t.prototype.valueToPoint=function(e){var i=this.valueToPosition(e),r=this.renderer.positionToPoint(i),s=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:s}},t.prototype.anyToPoint=function(e){return this.valueToPoint(e)},t.prototype.valueToPosition=function(e){if(D(e)){var i=this.min,r=this.max;if(D(i)&&D(r)){var s=this._difference,a=this._axisBreaks;a&&a.length>0&&yr(a.iterator(),function(c){var f=c.adjustedStartValue,p=c.adjustedEndValue;if(D(f)&&D(p)){if(e<f)return!1;if(Zh({start:f,end:p},{start:i,end:r})){f=Math.max(f,i),p=Math.min(p,r);var g=c.breakSize;e>p?i+=(p-f)*(1-g):e<f||(e=f+(e-f)*g)}}return!0});var o=void 0;if(!this.logarithmic)o=(e-i)/s;else{var u=this.treatZeroAs;D(u)&&e<=u&&(e=u),o=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}return o}}return 0},t.prototype.invalidateLabels=function(){n.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(e){e.value=void 0}),this.invalidate())},t.prototype.positionToValue=function(e){var i=this.min,r=this.max;if(D(i)&&D(r)){var s=r-i,a=null,o=this._axisBreaks;return o&&o.length>0&&yr(o.iterator(),function(u){var c=u.startPosition,f=u.endPosition,p=u.adjustedStartValue,g=u.adjustedEndValue;if(D(p)&&D(g)){if(p>r)return!1;if(Zh({start:p,end:g},{start:i,end:r})){p=We(p,i),g=ot(g,r);var y=u.breakSize;if(s-=(g-p)*(1-y),e>f)i+=(g-p)*(1-y);else if(!(e<c)){var b=(e-c)/(f-c);return a=p+b*(g-p),!1}}return!0}}),D(a)||(this.logarithmic?a=Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):a=e*s+i),a}},t.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},t.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},t.prototype.pointToPosition=function(e){return this.renderer instanceof en?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},t.prototype.animateMinMax=function(e,i){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing)},t.prototype.getMinMax=function(){var e=this;this.updateGridCount();var i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;if((!D(this._minDefined)||!D(this._maxDefined))&&(this.series.each(function(g){if(!g.ignoreMinMax){var y=g.min(e);D(y)&&y<i&&(i=y);var b=g.max(e);D(b)&&b>r&&(r=b)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(g){if(!g.ignoreMinMax){var y=ot(g.value,g.endValue),b=We(g.value,g.endValue);(y<i||!D(i))&&(i=y),(b>r||!D(r))&&(r=b)}})),this.logarithmic){var s=this.treatZeroAs;D(s)&&i<=0&&(i=s),i<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(i==0&&r==0&&(r=.9,i=-.9),D(this._minDefined)&&(i=this._minDefined),D(this._maxDefined)&&(r=this._maxDefined),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(r=this._adapterO.apply("max",r)),!(!D(i)||!D(r))){this._minReal=i,this._maxReal=r,i==Number.POSITIVE_INFINITY&&(i=void 0),r==Number.NEGATIVE_INFINITY&&(r=void 0);var a=this.adjustDifference(i,r);if(i=this.fixMin(i),r=this.fixMax(r),r-i<=1/Math.pow(10,15)){if(r-i!=0)this._deltaMinMax=(r-i)/2;else{var o=Math.log(Math.abs(r))*Math.LOG10E,u=Math.pow(10,Math.floor(o));u=u/10,this._deltaMinMax=u}i-=this._deltaMinMax,r+=this._deltaMinMax}i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax;var c=this.strictMinMax;D(this._maxDefined)&&(c=!0);var f=this.adjustMinMax(i,r,a,this._gridCount,c);if(i=f.min,r=f.max,a=r-i,f=this.adjustMinMax(i,r,r-i,this._gridCount,!0),i=f.min,r=f.max,this.strictMinMax&&(D(this._minDefined)?i=this._minDefined:i=this._minReal,D(this._maxDefined)?r=this._maxDefined:r=this._maxReal,r-i<=1e-8&&(i-=this._deltaMinMax,r+=this._deltaMinMax),i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(r=this._adapterO.apply("max",r)),this._step=f.step,!D(i)&&!D(r)&&(this.start=0,this.end=1,this.renderer.labels.each(function(g){g.dataItem.text=""})),(this._minAdjusted!=i||this._maxAdjusted!=r)&&D(i)&&D(r)){var p=this._minMaxAnimation;if(this._extremesChanged&&D(this._minAdjusted)&&D(this._maxAdjusted)&&this.inited){if(p&&!p.isFinished()&&this._finalMax==r&&this._finalMin==i)return;this._finalMin=i,this._finalMax=r,p=this.animateMinMax(i,r),p&&!p.isFinished()?(p.events.on("animationprogress",this.validateDataItems,this),p.events.on("animationended",function(){e.series.each(function(g){g.validate()}),e.validateDataItems(),e.handleSelectionExtremesChange()}),this._minMaxAnimation=p):this.series.each(function(g){g.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(p&&!p.isFinished()&&this._finalMax==r&&this._finalMin==i)return;this._minAdjusted=i,this._maxAdjusted=r,this._finalMin=i,this._finalMax=r,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(i,r)}}this._extremesChanged=!1,this._difference=this.adjustDifference(i,r)}},t.prototype.fixMin=function(e){return e},t.prototype.fixMax=function(e){return e},t.prototype.adjustMinMax=function(e,i,r,s,a){s<=1&&(s=1),s=Math.round(s);var o=e,u=i;r===0&&(r=Math.abs(i));var c=Math.log(Math.abs(r))*Math.LOG10E,f=Math.pow(10,Math.floor(c));f=f/10;var p=f;a&&(p=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),i==-1/0&&(i=10),this.strictMinMax?(this._minDefined>0?e=this._minDefined:e=e,this._maxDefined>0&&(i=i)):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),i=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E)))):(a?(e=Math.floor(e/f)*f,i=Math.ceil(i/f)*f):(e=Math.ceil(e/f)*f-p,i=Math.floor(i/f)*f+p),e<0&&o>=0&&(e=0),i>0&&u<=0&&(i=0)),c=Math.log(Math.abs(r))*Math.LOG10E,f=Math.pow(10,Math.floor(c)),f=f/10;var g=Math.ceil(r/s/f)*f,y=Math.pow(10,Math.floor(Math.log(Math.abs(g))*Math.LOG10E)),b=Math.ceil(g/y);b>5?b=10:b<=5&&b>2&&(b=5),g=Math.ceil(g/(y*b))*y*b,this.maxPrecision<Number.MAX_VALUE&&g!=ex(g,this.maxPrecision)&&(g=ex(g,this.maxPrecision));var x=0;if(y<1&&(x=Math.round(Math.abs(Math.log(Math.abs(y))*Math.LOG10E))+1,g=ee(g,x)),!this.logarithmic){var w=Math.floor(e/g);e=ee(g*w,x);var P=void 0;a?P=Math.floor(i/g):P=Math.ceil(i/g),P==w&&P++,i=ee(g*P,x),i<u&&(i=i+g),e>o&&(e=e-g)}return{min:e,max:i,step:g}},Object.defineProperty(t.prototype,"min",{get:function(){var e=this._minAdjusted;return D(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){var e=this._maxAdjusted;return D(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.registerSeries=function(e){return new Lt([n.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},t.prototype.handleSelectionExtremesChange=function(){var e=this,i,r,s=!0;if(Q(this.series.iterator(),function(y){if(!y.ignoreMinMax&&!y.isHidden&&!y.outOfRange){y.visible&&!y.isHiding&&(s=!1);var b=y.selectionMin(e),x=y.selectionMax(e);D(b)&&(!D(i)||b<i)&&(i=b),D(x)&&(!D(r)||x>r)&&(r=x)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(y){if(!y.ignoreMinMax){var b=ot(y.value,y.endValue),x=We(y.value,y.endValue);b<i&&(i=b),x>r&&(r=x)}}),D(this._minDefined)?this.strictMinMax?i=this._minDefined:i=this.min:this.strictMinMax&&(i=this._minReal),D(this._maxDefined)?this.strictMinMax?r=this._maxDefined:r=this.max:this.strictMinMax&&(r=this._maxReal),i==r){i-=this._deltaMinMax,r+=this._deltaMinMax;var a=this.adjustMinMax(i,r,0,this._gridCount,this.strictMinMax);i=a.min,r=a.max}var o=this.adjustDifference(i,r),u=this.adjustMinMax(i,r,o,this._gridCount);i=u.min,r=u.max,i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax,i=ge(i,this.min,this.max),r=ge(r,this.min,this.max),o=this.adjustDifference(i,r),u=this.adjustMinMax(i,r,o,this._gridCount,!0),i=u.min,r=u.max,this.strictMinMax&&(i=We(i,this._minDefined),r=ot(r,this._maxDefined));var c=u.step;this.syncWithAxis&&(u=this.syncAxes(i,r,c),i=u.min,r=u.max,this.invalidate()),c=u.step,this._difference=this.adjustDifference(this.min,this.max);var f=this.valueToPosition(i),p=this.valueToPosition(r);s&&!this.syncWithAxis&&(f=0,p=1);var g=0;this.syncWithAxis?(g=5,this.setCache(i+"-"+r,c)):((this._step!=c||this._minZoomed!=i||this._maxZoomed!=r)&&(this._dsc=!0),this._step=c,this._minZoomed=i,this._maxZoomed=r),this.keepSelection||this.zoom({start:f,end:p},!1,!1,g)},Object.defineProperty(t.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each(function(i){i.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.handleExtremesChange=function(){var e=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var i=0;this.dataItems.each(function(r){r.label&&r.label.pixelWidth>i&&(e.ghostLabel.text=r.label.currentText)})}},t.prototype.getX=function(e,i,r,s,a){return this.renderer.positionToPoint(this.getPositionX(e,i,r,s,a)).x},t.prototype.getPositionX=function(e,i,r,s,a){var o=e.getWorkingValue(i);M(s)||(s="valueX");var u=e.getValue(s,"stack");D(o)||(o=this.baseValue,this.logarithmic&&u>0&&(o=0));var c=this.valueToPosition(o+u);return a&&(c=ge(c,a.start,a.end)),c},t.prototype.getY=function(e,i,r,s,a){return this.renderer.positionToPoint(this.getPositionY(e,i,r,s,a)).y},t.prototype.getPositionY=function(e,i,r,s,a){var o=e.getWorkingValue(i);M(s)||(s="valueY");var u=e.getValue(s,"stack");D(o)||(o=this.baseValue,this.logarithmic&&u>0&&(o=0));var c=this.valueToPosition(o+u);return a&&(c=ge(c,a.start,a.end)),c},t.prototype.getAngle=function(e,i,r,s,a){var o=e.getWorkingValue(i),u=e.getValue(s,"stack");D(o)||(o=this.baseValue);var c=this.valueToPosition(o+u);return a&&(c=ge(c,a.start,a.end)),this.positionToAngle(c)},t.prototype.getAnyRangePath=function(e,i,r){var s=this.valueToPosition(e),a=this.valueToPosition(i);return this.getPositionRangePath(s,a)},t.prototype.getTooltipText=function(e){var i=ee(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),r=this.tooltip.numberFormatter.format(i);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},t.prototype.zoomToValues=function(e,i,r,s){var a=(e-this.min)/(this.max-this.min),o=(i-this.min)/(this.max-this.min);this.zoom({start:a,end:o},r,s)},Object.defineProperty(t.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:We(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:ot(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),t.prototype.fixAxisBreaks=function(){var e=this;n.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(r){var s=r.adjustedStartValue,a=r.adjustedEndValue,o=a-s,u=Math.ceil(o*r.breakSize)*e._gridCount/(e.max-e.min),c=e.adjustMinMax(s,a,o,u,!0);r.adjustedStep=c.step,r.adjustedMin=c.min,r.adjustedMax=c.max}),this._difference=this.adjustDifference(this.min,this.max)},t.prototype.getPositionLabel=function(e){var i=this.positionToValue(e);return this.numberFormatter.format(i)},t.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e))},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(t.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var i=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){i.clearCache(),i._disposers.push(F.events.once("exitframe",function(){i.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0)},enumerable:!0,configurable:!0}),t.prototype.syncAxes=function(e,i,r){var s=this.syncWithAxis;if(s){D(e)||(e=this.min),D(i)||(i=this.max),D(r)||(r=this._step);var a=Math.round((s.maxZoomed-s.minZoomed)/s.step),o=Math.round((i-e)/r);if(D(a)&&D(o))for(var u=!1,c=0,f=(i-e)*.01,p=e,g=i,y=r;u!=!0;)if(u=this.checkSync(p,g,y,a),c++,c>1e3&&(u=!0),u)e=p,i=g,r=y;else{c/3==Math.round(c/3)?(p=e-f*c,e>=0&&p<0&&(p=0)):(g=i+f*c,g<=0&&g>0&&(g=0));var b=this.adjustMinMax(p,g,g-p,this._gridCount,!0);p=b.min,g=b.max,y=b.step}}return{min:e,max:i,step:r}},t.prototype.checkSync=function(e,i,r,s){for(var a=(i-e)/r,o=1;o<s;o++)if(ee(a/o,1)==s||a*o==s)return!0;return!1},t.prototype.processConfig=function(e){e&&M(e.syncWithAxis)&&at(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),n.prototype.processConfig.call(this,e)},t.prototype._saveMinMax=function(e,i){},t}(Hc);F.registeredClasses.ValueAxis=Qe;F.registeredClasses.ValueAxisDataItem=Yc;var V1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="DateAxisBreak",e.applyTheme(),e}return Object.defineProperty(t.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(Um);F.registeredClasses.DateAxisBreak=V1;var A1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return Object.defineProperty(t.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime()},enumerable:!0,configurable:!0}),t}(Yc),At=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new ct,e.groupIntervals=new ct,e.dateFormats=new St,e.periodChangeDateFormats=new St,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e._intervalMax={},e._intervalMin={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return t.prototype.fillRule=function(e){var i=e.value,r=e.component,s=r._gridInterval,a=Ht(s.timeUnit,s.count);Math.round((i-r.min)/a)/2==Math.round(Math.round((i-r.min)/a)/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},t.prototype.createDataItem=function(){return new A1},t.prototype.createAxisBreak=function(){return new V1},t.prototype.validateDataItems=function(){var e=this.start,i=this.end,r=this.baseDuration,s=(this.max-this.min)/r;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),n.prototype.validateDataItems.call(this);var a=Ht(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/a),this._deltaMinMax=this.baseDuration/2;var o=(this.max-this.min)/r;e=e+(i-e)*(1-s/o),this.zoom({start:e,end:i},!1,!0)},t.prototype.handleSelectionExtremesChange=function(){},t.prototype.getIntervalMax=function(e){return this._intervalMax[e.timeUnit+e.count]},t.prototype.getIntervalMin=function(e){return this._intervalMin[e.timeUnit+e.count]},t.prototype.calculateZoom=function(){var e=this;n.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),r=!1;if(this.groupData&&M(i)){var s=this.mainBaseInterval,a=this.getIntervalMin(s),o=this.getIntervalMax(s),u=a+(o-a)*this.start,c=a+(o-a)*this.end,f=this.adjustDifference(u,c),p=f+(this.startLocation+(1-this.endLocation))*this.baseDuration,g=void 0;this.groupInterval?g=Dr({},this.groupInterval):(g=this.chooseInterval(0,p,this.groupCount,this.groupIntervals),Ht(g.timeUnit,g.count)<Ht(s.timeUnit,s.count)&&(g=Dr({},s))),this._groupInterval=g;var y=g.timeUnit+g.count;this._currentDataSetId!=y&&(this._currentDataSetId=y,this.dispatch("groupperiodchanged")),this.series.each(function(x){x.baseAxis==e&&x.setDataSet(e._currentDataSetId)&&(r=!0)})}var b=this.chooseInterval(0,i,this._gridCount);Ht(b.timeUnit,b.count)<this.baseDuration&&(b=Dr({},this.baseInterval)),this._gridInterval=b,this._nextGridUnit=l1(b.timeUnit),this._intervalDuration=Ht(b.timeUnit,b.count),this._gridDate=ci(new Date(this.minZoomed-Ht(b.timeUnit,b.count)),b.timeUnit,b.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),Q(this.series.iterator(),function(x){if(x.baseAxis==e){var w=x.getAxisField(e),P=ci(new Date(e._minZoomed+e.baseDuration*.05),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone).getTime(),S=P.toString(),k=x.dataItemsByAxis.getKey(e.uid).getKey(S+x.currentDataSetId),T=0;e.start!=0&&(k?(k=e.findFirst(k,P,w),T=k.index):T=x.dataItems.findClosestIndex(e._minZoomed,function(J){return J[w]},"left"));var j=e.baseInterval,V=Ai(ci(new Date(e._maxZoomed),j.timeUnit,j.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone),j.timeUnit,j.count,e._df.utc).getTime(),A=V.toString(),I=x.dataItemsByAxis.getKey(e.uid).getKey(A+x.currentDataSetId),L=x.dataItems.length;e.end!=1&&(I?L=I.index:(V-=1,L=x.dataItems.findClosestIndex(V,function(J){return J[w]},"right"),L++)),x.max(e)<P?(x.startIndex=x.dataItems.length,x.endIndex=x.dataItems.length,x.outOfRange=!0):x.min(e)>V?(x.startIndex=0,x.endIndex=0,x.outOfRange=!0):(x.outOfRange=!1,x.startIndex=T,x.endIndex=L),!r&&x.dataRangeInvalid&&x.validateDataRange()}})},t.prototype.findFirst=function(e,i,r){var s=e.index;if(s>0){var a=e.component,o=a.dataItems.getIndex(s-1),u=o[r];return!u||u.getTime()<i?e:this.findFirst(o,i,r)}else return e},t.prototype.validateData=function(){n.prototype.validateData.call(this),D(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(t.prototype,"minDifference",{get:function(){var e=this,i=Number.MAX_VALUE;return this.series.each(function(r){i>e._minDifference[r.uid]&&(i=e._minDifference[r.uid])}),(i==Number.MAX_VALUE||i==0)&&(i=Ht("day")),i},enumerable:!0,configurable:!0}),t.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE},t.prototype.postProcessSeriesDataItems=function(e){var i=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each(function(r){i.seriesGroupUpdate(r)}),this.addEmptyUnitsBreaks()},t.prototype.seriesGroupUpdate=function(e){var i=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each(function(r){i.postProcessSeriesDataItem(r)}),this.groupData&&this.groupSeriesData(e))},t.prototype.groupSeriesData=function(e){var i=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var r=[],s=this.mainBaseInterval,a=Ht(s.timeUnit,s.count);this.groupIntervals.each(function(o){var u=Ht(o.timeUnit,o.count);(u>a&&u<i.max-i.min||i.groupInterval)&&r.push(o)}),e._dataSets&&(e._dataSets.each(function(o,u){u.each(function(c){c.dispose()}),u.clear()}),e._dataSets.clear()),e.dataGrouped=!0,ce(r,function(o){var u="date"+i.axisLetter,c=o.timeUnit+o.count,f=new ec(e.mainDataSet.template.clone());e.dataSets.setKey(c,f);var p=e.mainDataSet,g=Number.NEGATIVE_INFINITY,y=0,b,x=[];Ve(e.dataFields,function(P,S){var k=P;k!=u&&k.indexOf("Show")==-1&&x.push(k)});var w;p.each(function(P){var S=P.getDate(u);if(S){var k=S.getTime();w=ci(new Date(k),o.timeUnit,o.count,i._df.firstDayOfWeek,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone);var T=w.getTime();g<T?(b&&e._adapterO&&ce(x,function(j){b.values[j].value=e._adapterO.apply("groupDataItem",{dataItem:b,interval:o,dataField:j,date:w,value:b.values[j].value}).value,b.values[j].workingValue=b.values[j].value}),b=f.create(),b.dataContext={},b.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),b.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),b.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),b.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),b.component=e,b.setDate(u,w),b._index=y,y++,ce(x,function(j){var V=P.values[j];if(V){var A=V.value;e._adapterO&&(A=e._adapterO.apply("groupValue",{dataItem:P,interval:o,dataField:j,date:w,value:A}).value);var I=b.values[j];D(A)?(I.value=A,I.workingValue=A,I.open=A,I.close=A,I.low=A,I.high=A,I.sum=A,I.average=A,I.count=1):I.count=0}}),i.postProcessSeriesDataItem(b,o),Ve(e.propertyFields,function(j,V){var A=j,I=P.properties[j];M(I)&&(b.hasProperties=!0,b.setProperty(A,I))}),b.groupDataItems=[P],g=T):b&&(ce(x,function(j){var V=e.groupFields[j],A=P.values[j];if(A){var I=A.value;if(e._adapterO&&(I=e._adapterO.apply("groupValue",{dataItem:P,interval:o,dataField:j,date:w,value:I}).value),D(I)){var L=b.values[j];D(L.open)||(L.open=I),L.close=I,(L.low>I||!D(L.low))&&(L.low=I),(L.high<I||!D(L.high))&&(L.high=I),D(L.sum)?L.sum+=I:L.sum=I,L.count++,L.average=L.sum/L.count,D(L[V])&&(L.value=L[V],L.workingValue=L.value)}}}),Bn(P.properties,b.properties),Ve(e.propertyFields,function(j,V){var A=j,I=P.properties[j];M(I)&&(b.hasProperties=!0,b.setProperty(A,I))}),b.groupDataItems.push(P))}b&&Bn(P.dataContext,b.dataContext)}),b&&e._adapterO&&ce(x,function(P){b.values[P].value=e._adapterO.apply("groupDataItem",{dataItem:b,interval:o,dataField:P,date:w,value:b.values[P].value}).value,b.values[P].workingValue=b.values[P].value})}),this.calculateZoom()}},t.prototype.getDFFormatter=function(){this._df=this.dateFormatter},t.prototype.postProcessSeriesDataItem=function(e,i){var r=this,s="";i?s=i.timeUnit+i.count:i=this.mainBaseInterval;var a=e.component,o=a.dataItemsByAxis.getKey(this.uid);Ve(e.dates,function(u){var c=e.getDate(u),f=c.getTime(),p=ci(new Date(f),i.timeUnit,i.count,r._firstWeekDay,r._df.utc,void 0,r._df.timezoneMinutes,r._df.timezone),g=p.getTime(),y=Ai(new Date(g),i.timeUnit,i.count,r._df.utc);e.setCalculatedValue(u,g,"open"),e.setCalculatedValue(u,y.getTime(),"close"),o.setKey(g+s,e)})},t.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&D(this.min)&&D(this.max)){var i=this.baseInterval.timeUnit,r=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var s=ci(new Date(this.min),i,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),a=void 0,o=function(){Ai(s,i,r,u._df.utc);var c=s.getTime(),f=c.toString(),p=Dm(u.series.iterator(),function(g){return!!g.dataItemsByAxis.getKey(e.uid).getKey(f+g.currentDataSetId)});p?a&&(a.endDate=new Date(c-1),a=void 0):a||(a=u.axisBreaks.create(),a.startDate=new Date(c),u._gapBreaks=!0)},u=this;s.getTime()<this.max-this.baseDuration;)o()}},t.prototype.fixAxisBreaks=function(){var e=this;n.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(r){var s=Math.ceil(e._gridCount*(Math.min(e.end,r.endPosition)-Math.max(e.start,r.startPosition))/(e.end-e.start));r.gridInterval=e.chooseInterval(0,r.adjustedEndValue-r.adjustedStartValue,s);var a=ci(new Date(r.adjustedStartValue),r.gridInterval.timeUnit,r.gridInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone);a.getTime()>r.startDate.getTime()&&Ai(a,r.gridInterval.timeUnit,r.gridInterval.count,e._df.utc),r.gridDate=a})},t.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},t.prototype.getGridDate=function(e,i){var r=this._gridInterval.timeUnit,s=this._gridInterval.count;ci(e,r,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var a=e.getTime(),o=qa(e),u=Ai(o,r,i,this._df.utc).getTime(),c=this.isInBreak(u);c&&c.endDate&&(o=new Date(c.endDate.getTime()),ci(o,r,s,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o.getTime()<c.endDate.getTime()&&Ai(o,r,s,this._df.utc),u=o.getTime());var f=this.adjustDifference(a,u),p=Math.round(f/Ht(r));return p<s?this.getGridDate(e,i+s):o},t.prototype.getBreaklessDate=function(e,i,r){var s=new Date(e.endValue);ci(s,i,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Ai(s,i,r,this._df.utc);var a=s.getTime();return e=this.isInBreak(a),e?this.getBreaklessDate(e,i,r):s},t.prototype.validateAxisElements=function(){var e=this;if(D(this.max)&&D(this.min)){this.calculateZoom();var i=this._gridDate.getTime(),r=this._gridInterval.timeUnit,s=this._gridInterval.count,a=qa(this._gridDate),o=this._dataItemsIterator;this.resetIterators();for(var u=function(){var p=c.getGridDate(qa(a),s);i=p.getTime();var g=qa(p);g=Ai(g,r,s,c._df.utc);var y=c.dateFormats.getKey(r);c.markUnitChange&&a&&Gp(p,a,c._nextGridUnit,c._df.utc)&&r!=="year"&&(y=c.periodChangeDateFormats.getKey(r));var b=c._df.format(p,y),x=o.find(function(w){return w.text===b});x.__disabled&&(x.__disabled=!1),c.appendDataItem(x),x.axisBreak=void 0,x.date=p,x.endDate=g,x.text=b,c.validateDataElement(x),a=p},c=this;i<=this._maxZoomed;)u();var f=this.renderer;this._axisBreaks&&Q(this._axisBreaks.iterator(),function(p){if(p.breakSize>0){var g=p.gridInterval.timeUnit,y=p.gridInterval.count;if(gt(p.startPoint,p.endPoint)>f.minGridDistance*4)for(var b=p.gridDate.getTime(),x,w=0,P=function(){var S=qa(p.gridDate);if(b=Ai(S,g,y*w,e._df.utc).getTime(),w++,b>p.adjustedStartValue&&b<p.adjustedEndValue){var k=qa(S);k=Ai(k,g,y,e._df.utc);var T=e.dateFormats.getKey(g);e.markUnitChange&&x&&Gp(S,x,e._nextGridUnit,e._df.utc)&&g!=="year"&&(T=e.periodChangeDateFormats.getKey(g));var j=e._df.format(S,T),V=o.find(function(A){return A.text===j});V.__disabled&&(V.__disabled=!1),e.appendDataItem(V),V.axisBreak=p,p.dataItems.moveValue(V),V.date=S,V.endDate=k,V.text=j,x=S,e.validateDataElement(V)}};b<=p.adjustedMax;)P()}})}},t.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,D(this.max)&&D(this.min)){var i=this.renderer,r=e.value,s=e.endValue;D(s)||(s=r);var a=this.valueToPosition(r),o=this.valueToPosition(s),u=o;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(o=a+(o-a)/(this._gridInterval.count/this.baseInterval.count)),e.position=a;var c=e.tick;c&&!c.disabled&&i.updateTickElement(c,a,o);var f=e.grid;f&&!f.disabled&&i.updateGridElement(f,a,o);var p=e.axisFill;p&&!p.disabled&&(i.updateFillElement(p,a,u),e.isRange||this.fillRule(e));var g=e.mask;g&&i.updateFillElement(g,a,o),e.bullet&&i.updateBullet(e.bullet,a,o);var y=e.label;if(y&&!y.disabled){var b=y.location;b==0&&(this._gridInterval.count==1&&this._gridInterval.timeUnit!="week"&&!e.isRange?b=.5:b=0),i.updateLabelElement(y,a,o,b)}}},Object.defineProperty(t.prototype,"baseDuration",{get:function(){return Ht(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),t.prototype.adjustMinMax=function(e,i){return{min:e,max:i,step:this.baseDuration}},t.prototype.fixMin=function(e){var i=this.baseInterval,r=ci(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),s=Ai(new Date(r),i.timeUnit,i.count,this._df.utc).getTime();return r+(s-r)*this.startLocation},t.prototype.fixMax=function(e){var i=this.baseInterval,r=ci(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),s=Ai(new Date(r),i.timeUnit,i.count,this._df.utc).getTime();return r+(s-r)*this.endLocation},t.prototype.chooseInterval=function(e,i,r,s){s||(s=this.gridIntervals);var a=s.getIndex(e),o=Ht(a.timeUnit,a.count),u=s.length-1;if(e>=u)return Dr({},s.getIndex(u));var c=Math.ceil(i/o);return i<o&&e>0?Dr({},s.getIndex(e-1)):c<=r?Dr({},s.getIndex(e)):e+1<s.length?this.chooseInterval(e+1,i,r,s):Dr({},s.getIndex(e))},t.prototype.formatLabel=function(e){return this._df.format(e)},t.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},t.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},t.prototype.dateToPoint=function(e){var i=this.dateToPosition(e),r=this.renderer.positionToPoint(i),s=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:s}},t.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},t.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},t.prototype.getPositionX=function(e,i,r,s,a){var o=this.getTimeByLocation(e,i,r);D(o)||(o=this.baseValue);var u=this.valueToPosition(o);return a&&(u=ge(u,a.start,a.end)),u},t.prototype.getPositionY=function(e,i,r,s,a){var o=this.getTimeByLocation(e,i,r),u=e.getValue("valueX","stack");D(o)||(o=this.baseValue);var c=this.valueToPosition(o+u);return a&&(c=ge(c,a.start,a.end)),c},t.prototype.getAngle=function(e,i,r,s,a){var o=this.getTimeByLocation(e,i,r),u=e.getValue(s,"stack");D(o)||(o=this.baseValue);var c=this.valueToPosition(o+u);return a&&(c=ge(c,a.start,a.end)),this.positionToAngle(c)},t.prototype.getTimeByLocation=function(e,i,r){if(M(i)){D(r)||(r=e.workingLocations[i],D(r)||(r=0));var s=e.values[i].open,a=e.values[i].close,o=e.values[i].workingValue,u=e.values[i].value,c=u-o;if(s-=c,a-=c,D(s)&&D(a))return s+(a-s)*r}},t.prototype.processSeriesDataItem=function(e,i){var r=e.component,s,a=e["date"+i];if(D(this.timezoneOffset)?(a.setTime(a.getTime()+(a.getTimezoneOffset()-this.timezoneOffset)*6e4),e.setValue("date"+i,a.getTime(),0)):M(this.timezone)&&(a=Vc(a,this.timezone),e.setValue("date"+i,a.getTime(),0),e["date"+i]=a),a)s=a.getTime();else return;var o=e["openDate"+i],u=this._prevSeriesTime[r.uid],c;if(o&&(c=o.getTime()),D(c)){var f=Math.abs(s-c);this._minDifference[r.uid]>f&&(this._minDifference[r.uid]=f)}var p=s-u;p>0&&this._minDifference[r.uid]>p&&(this._minDifference[r.uid]=p),this._prevSeriesTime[r.uid]=s,r._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e)},t.prototype.updateAxisBySeries=function(){n.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Ht("day",27)&&e.timeUnit=="week"&&(e.timeUnit="month",e.count=1),e.timeUnit=="month"&&(this.minDifference>=Ht("day",29*2)&&e.count==1&&(e.count=2),this.minDifference>=Ht("day",29*3)&&e.count==2&&(e.count=3),this.minDifference>=Ht("day",29*6)&&e.count==5&&(e.count=6)),this.minDifference>=Ht("hour",23)&&e.timeUnit=="hour"&&(e.timeUnit="day",e.count=1),this.minDifference>=Ht("week",1)-Ht("hour",1)&&e.timeUnit=="day"&&(e.timeUnit="week",e.count=1),this.minDifference>=Ht("year",1)-Ht("day",1.01)&&e.timeUnit=="month"&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(t.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,D(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var i=this.axisBreaks.template;i.startLine.disabled=!0,i.endLine.disabled=!0,i.fillShape.disabled=!0,i.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData()},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i,r=this.positionToDate(e);if(r=ci(r,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=r,M(this.tooltipDateFormat))i=this._df.format(r,this.tooltipDateFormat,["day","month","week","year"].indexOf(this.baseInterval.timeUnit)==-1);else{var s=this.dateFormats.getKey(this.baseInterval.timeUnit);s?i=this._df.format(r,s):i=this.getPositionLabel(e)}return this._adapterO?this._adapterO.apply("getTooltipText",i):i},t.prototype.roundPosition=function(e,i,r){var s=this.baseInterval,a=s.timeUnit,o=s.count,u=this.positionToDate(e);if(ci(u,a,o,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),i>0&&Ai(u,a,i*o,this._df.utc),r>0&&r<1&&u.setTime(u.getTime()+this.baseDuration*r),this.isInBreak(u.getTime()))for(;u.getTime()<this.max&&(Ai(u,a,o,this._df.utc),!!this.isInBreak(u.getTime())););return this.dateToPosition(u)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getSeriesDataItem=function(e,i,r){var s=this.positionToValue(i),a=.5;this.axisLetter=="Y"?a=e.dataItems.template.locations.dateY:a=e.dataItems.template.locations.dateX;var o=s-a*this.baseDuration,u=ci(new Date(s),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),c=ci(new Date(s+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);c.getTime()>u.getTime()&&Math.abs(c.getTime()-o)<Math.abs(o-u.getTime())&&(u=c);var f=e.dataItemsByAxis.getKey(this.uid),p=f.getKey(u.getTime()+e.currentDataSetId);if(!p&&r){var g;this.axisLetter=="Y"?g="dateY":g="dateX",p=e.dataItems.getIndex(e.dataItems.findClosestIndex(u.getTime(),function(y){return y[g]?y[g].getTime():-1/0},"any"))}return p},t.prototype.getPositionLabel=function(e){var i=this.positionToDate(e);return this._df.format(i,this.getCurrentLabelFormat())},t.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},t.prototype.initRenderer=function(){n.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.animateMinMax=function(e,i){var r=this,s=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing);return s.events.on("animationprogress",function(){r.dispatch("extremeschanged")}),s},t.prototype.handleExtremesChange=function(){if(n.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},t.prototype.zoomToDates=function(e,i,r,s,a){e=this._df.parse(e),i=this._df.parse(i),this.zoomToValues(e.getTime(),i.getTime(),r,s,a)},t.prototype.zoomToValues=function(e,i,r,s,a){var o=this;if(this.groupData){var f=this.adjustDifference(e,i),p=!1;i==this.max&&(p=!0);var g=!1;if(e==this.min&&(g=!0),M(f)){var y=this.mainBaseInterval,b=this.chooseInterval(0,f,this.groupCount,this.groupIntervals);(b.timeUnit==y.timeUnit&&b.count<y.count||Ht(b.timeUnit,1)<Ht(y.timeUnit,1))&&(b=Dr({},y));var x=b.timeUnit+b.count,w=this.groupMin[x],P=this.groupMax[x];(!D(w)||!D(P))&&(w=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY,this.series.each(function(T){var j=T.min(o),V=T.max(o);if(T._dataSets){var A=T._dataSets.getKey(b.timeUnit+b.count);if(A){var I=A.getIndex(0),L=A.getIndex(A.length-1);I&&(T.xAxis==o?j=I.dateX.getTime():T.yAxis==o&&(j=I.dateY.getTime())),L&&(T.xAxis==o?V=L.dateX.getTime():T.yAxis==o&&(V=L.dateY.getTime()))}}V=ci(Ai(new Date(V),b.timeUnit,1,o._df.utc),b.timeUnit,1,o._df.firstDayOfWeek,o._df.utc,void 0,o._df.timezoneMinutes,o._df.timezone).getTime(),j<w&&(w=j),V>P&&(P=V)}),this.groupMin[x]=w,this.groupMax[x]=P),e=ge(e,w,P),i=ge(i,w,P),a&&(p&&(e=i-f,e=ge(e,w,P)),g&&(i=e+f,i=ge(i,w,P)));var u=(e-w)/(P-w),c=(i-w)/(P-w);this.zoom({start:u,end:c},r,s)}}else{var u=this.valueToPosition(e),c=this.valueToPosition(i);this.zoom({start:u,end:c},r,s)}},t.prototype.asIs=function(e){return e=="baseInterval"||n.prototype.asIs.call(this,e)},t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each(function(r){i.groupIntervals.push(Dr({},r))}),this.gridIntervals.clear(),e.gridIntervals.each(function(r){i.gridIntervals.push(Dr({},r))}),e._baseInterval&&(this.baseInterval=e._baseInterval)},t.prototype.showTooltipAtPosition=function(e,i){var r=this;if(i||(e=this.toAxisPosition(e)),this.snapTooltip){var s=this.positionToDate(e),a=s.getTime(),o;if(this.series.each(function(f){if(f.baseAxis==r){var p=r.getSeriesDataItem(f,e,!0);if(p){var g=void 0;f.xAxis==r&&(g=p.dateX),f.yAxis==r&&(g=p.dateY),o?Math.abs(o.getTime()-a)>Math.abs(g.getTime()-a)&&(o=g):o=g}}}),o){var u=o.getTime();o=ci(new Date(u),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),u=o.getTime();var c=this.renderer.tooltipLocation;c==0&&(c=1e-4),o=new Date(o.getTime()+this.baseDuration*c),e=this.dateToPosition(o),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(f){var p=f.dataItemsByAxis.getKey(r.uid).getKey(u+f.currentDataSetId),g=f.showTooltipAtDataItem(p);g?r.chart._seriesPoints.push({series:f,point:g}):(f.tooltipText||f.tooltipHTML)&&f.hideTooltip()})}}n.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var i=this;this.setPropertyValue("groupData",e)&&(this.series.each(function(r){r.setDataSet(""),e&&!r.dataGrouped&&r.inited&&(r._baseInterval[i.uid]=i.mainBaseInterval,i.groupSeriesData(r))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),t.prototype.makeGap=function(e,i){var r=e.component;if(e&&i&&!r.connect&&D(r.autoGapCount)&&r.baseAxis==this){var s=e.dates["date"+this.axisLetter],a=i.dates["date"+this.axisLetter];if(s&&a){var o=s.getTime(),u=a.getTime();if(o-u>r.autoGapCount*this.baseDuration)return!0}}return!1},Object.defineProperty(t.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),t.prototype._saveMinMax=function(e,i){var r=this.groupInterval;r||(r=this.mainBaseInterval);var s=r.timeUnit+r.count;this._intervalMin[s]=e,this._intervalMax[s]=i},t}(Qe);F.registeredClasses.DateAxis=At;F.registeredClasses.DateAxisDataItem=A1;var Hn=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=te(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return t.prototype.setAxis=function(e){n.prototype.setAxis.call(this,e),e.layout="vertical"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.x=e.pixelX,i.width=e.axisLength}},t.prototype.processRenderer=function(){n.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof st||(e.width=te(100)),this.line;var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=1e3,r=this.line.pixelX,s=this.line.pixelY,a=this.axisLength,o=i;this.opposite?this.inside||(s=-i,o=i):this.inside&&(s=-i,o=i),this.axis.updateTooltip("vertical",{x:r,y:s,width:a,height:o})}},t.prototype.updateLabelElement=function(e,i,r,s){M(s)||(s=e.location),i=i+(r-i)*s;var a=this.positionToPoint(i);e.isMeasured=!e.inside;var o=0,u,c=this.gridContainer.maxHeight;this.opposite?(e.inside?(u="top",e.valign=="bottom"&&(o=c,u="bottom"),e.valign=="middle"&&(o=c/2,u="middle")):u="bottom",a.y=o):(e.inside?(u="bottom",e.valign=="top"&&(o=-c,u="top"),e.valign=="middle"&&(o=-c/2,u="middle")):u="top",a.y+=o),e.rotation==0&&(e.verticalCenter=u),this.positionItem(e,a),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:this.positionToCoordinate(e),y:0}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},t.prototype.getPositionRangePath=function(e,i){var r=ge(this.positionToCoordinate(e),0,this.axisLength),s=ge(this.positionToCoordinate(i),0,this.axisLength),a=Math.abs(s-r),o=this.getHeight(),u=Math.min(r,s),c=0;return ws({x:u,y:c,width:a,height:o},!0)},t.prototype.updateBreakElement=function(e){n.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,s=e.fillShape,a=e.startPoint,o=e.endPoint,u=e.pixelMarginLeft,c=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;a.x=ge(a.x,-1,this.axisLength+1),o.x=ge(o.x,-1,this.axisLength+1),a.x==o.x&&(a.x<0||a.x>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1,i.y=u,i.width=0,i.height=c,r.y=u,r.width=0,r.height=c,s.height=c,s.width=Math.abs(o.x-a.x),s.y=u,s.x=a.x},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i);e.path=pe({x:0,y:0})+K({x:0,y:this.getHeight()}),this.positionItem(e,s),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i),a=e.length;s.y=$i({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?a*=e.inside?1:-1:a*=e.inside?-1:1,e.path=pe({x:0,y:0})+K({x:0,y:a}),this.positionItem(e,s),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=pe({x:0,y:0})+K({x:this.axisLength,y:0})},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),r=this.axisLength,s=this.baseGrid,a=e.basePoint.x;if(a<-.2||a>r+.2)s.hide(0);else{var o=$i({x:0,y:0},this.gridContainer,s.parent).y;s.path=pe({x:0,y:0})+K({x:0,y:i}),s.moveTo({x:a,y:o}),s.show(0)}},t.prototype.createBreakSprites=function(e){e.startLine=new na,e.endLine=new na;var i=new _1;i.setWavedSides(!1,!0,!1,!0),e.fillShape=i},t.prototype.toAxisPosition=function(e){var i=e,r=this.axis;if(r){var s=r.relativePositionSprite,a=r.pixelX;if(s?a=$i({x:this.pixelX,y:0},this.parent,s).x:s=r.parent,s){var o=a/s.innerWidth,u=r.axisLength/s.innerWidth;return(i-o)/u}}return e},t.prototype.updateBullet=function(e,i,r){var s=.5;e instanceof Ql&&(s=e.location),i=i+(r-i)*s;var a=this.positionToPoint(i);a.y=$i({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t}(Wc);F.registeredClasses.AxisRendererX=Hn;yi.push({relevant:Mi.heightXS,state:function(n,t){if(n instanceof Hn){var e=n.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});yi.push({relevant:Mi.heightXXS,state:function(n,t){if(n instanceof Hn){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var I1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="CategoryAxisBreak",e.properties.startLocation=.5,e.properties.endLocation=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(Bc);F.registeredClasses.CategoryAxisBreak=I1;var R1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var i=this.properties.category;this.setProperty("category",e),M(i)&&i!=e&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(Kl),Gt=function(n){N(t,n);function t(){var e=n.call(this)||this;e.dataItemsByCategory=new St,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme();var i=e.dataItemsByCategory;return e.addDisposer(e.mainDataSet.events.on("removed",function(r){i.removeKey(r.oldValue.category)})),e}return t.prototype.createDataItem=function(){return new R1},t.prototype.createAxisBreak=function(){return new I1},t.prototype.processSeriesDataItem=function(e,i){n.prototype.processSeriesDataItem.call(this,e,i);var r=e["category"+this.axisLetter];if(M(r)){var s=this.dataItemsByCategory.getKey(r);if(s){var a=e.component.uid,o=s.seriesDataItems[a];o||(o=[],s.seriesDataItems[a]=o),o.push(e)}}else e.component.dataItems.remove(e)},t.prototype.validateDataRange=function(){var e=this;n.prototype.validateDataRange.call(this),Q(this._series.iterator(),function(i){if(i.xAxis instanceof t&&i.yAxis instanceof t)i.invalidateDataRange();else{var r=e.positionToIndex(e.start),s=e.positionToIndex(e.end);s>=e.dataItems.length&&s--;for(var a=i.uid,o=void 0,u=void 0,c=r;c<=s;c++){var f=e.dataItems.getIndex(c);if(f){var p=f.seriesDataItems[a];if(p)for(var g=0;g<p.length;g++){var y=p[g];if(y){var b=y.index;(!D(o)||b<o)&&(o=b),(!D(u)||b>u)&&(u=b)}}}}D(o)?i.startIndex=o:i.start=e.start,D(u)?i.endIndex=u+1:i.end=e.end,e._axisBreaks&&e._axisBreaks.length>0&&i.invalidateDataRange()}})},t.prototype.validate=function(){var e=this;n.prototype.validate.call(this);var i=this.dataItems.length,r=ge(Math.floor(this.start*i-1),0,i),s=ge(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var a=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),o=Math.min(this.dataItems.length,Math.ceil((s-r)/a));if(this._startIndex=Math.floor(r/o)*o,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=o,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),r=We(0,this._startIndex-this._frequency),s=ot(this.dataItems.length,this._endIndex+this._frequency);for(var u=0,c=0;c<r;c++){var f=this.dataItems.getIndex(c);f.__disabled=!0}for(var c=s,p=this.dataItems.length;c<p;c++){var f=this.dataItems.getIndex(c);f.__disabled=!0}for(var c=r;c<s;c++)if(c<this.dataItems.length){var f=this.dataItems.getIndex(c);if(c/this._frequency==Math.round(c/this._frequency)){var g=this.isInBreak(c);g||(this.appendDataItem(f),this.validateDataElement(f,u)),u++}else f.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,u+1,this.dataItems.length),this._axisBreaks){var y=this._axisBreaks;y.each(function(b){var x=b.adjustedStartValue,w=b.adjustedEndValue;if(Zh({start:x,end:w},{start:e._startIndex,end:e._endIndex})){for(var P=x;P<=w;P++){var S=e.dataItems.getIndex(P);S.__disabled=!0}var k=ge(Math.ceil(e._frequency/b.breakSize),1,w-x),T=0;if(b.breakSize>0)for(var P=x;P<=w;P=P+k){var S=e.dataItems.getIndex(P);S.__disabled=!1,e.appendDataItem(S),e.validateDataElement(S,T),T++}}})}this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},t.prototype.validateDataElement=function(e,i,r){n.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var s=this.renderer;D(r)||(r=this.categoryToIndex(e.category));var a=this.categoryToIndex(e.endCategory);D(a)||(a=r);var o=this.indexToPosition(r,e.locations.category),u=this.indexToPosition(a,e.locations.endCategory);e.position=o;var c,f,p;e.isRange&&(c=a,f=this.indexToPosition(r,e.locations.category),p=this.indexToPosition(c,e.locations.endCategory)),e.point=s.positionToPoint(o);var g=e.tick;g&&!g.disabled&&s.updateTickElement(g,o,u);var y=e.grid;y&&!y.disabled&&s.updateGridElement(y,o,u);var b=e.label;b&&!b.disabled&&((!e.isRange||b.text==null)&&(e.text=e.text),s.updateLabelElement(b,o,u),(s instanceof en&&e.label.measuredWidth>this.ghostLabel.measuredWidth||s instanceof Hn&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var x=e.axisFill;x&&!x.disabled&&(e.isRange||(c=r+this._frequency,f=this.indexToPosition(r,x.location),p=this.indexToPosition(c,x.location)),s.updateFillElement(x,f,p),e.isRange||this.fillRule(e,i)),e.bullet&&s.updateBullet(e.bullet,o,u);var w=e.mask;w&&s.updateFillElement(w,f,p)},t.prototype.disposeData=function(){this.dataItemsByCategory.clear(),n.prototype.disposeData.call(this)},t.prototype.processDataItem=function(e,i){e&&(n.prototype.processDataItem.call(this,e,i),M(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},t.prototype.getDataItem=function(e){var i=e[this.dataFields.category];if(M(i)){var r=this.dataItemsByCategory.getKey(i);return r||this.dataItems.create()}},t.prototype.indexToPosition=function(e,i){D(i)||(i=.5);var r=this.startIndex,s=this.endIndex,a=this.adjustDifference(r,s),o=this.startLocation,u=this.endLocation;if(a-=o,a-=1-u,this._axisBreaks){var c=this._axisBreaks;yr(c.iterator(),function(g){var y=g.adjustedStartValue,b=g.adjustedEndValue;if(e<r||!D(y)||!D(b))return!1;if(Zh({start:y,end:b},{start:r,end:s})){y=Math.max(r,y),b=Math.min(s,b);var x=g.breakSize;e>b?r+=(b-y)*(1-x):e<y||(e=y+(e-y)*x)}return!0})}var f=0,p=this.dataItems.getIndex(e);return p&&(f=p.deltaPosition),ee(f+(e+i-o-r)/a,5)},t.prototype.categoryToPosition=function(e,i){var r=this.categoryToIndex(e);return this.indexToPosition(r,i)},t.prototype.categoryToPoint=function(e,i){var r=this.categoryToPosition(e,i),s=this.renderer.positionToPoint(r),a=this.renderer.positionToAngle(r);return{x:s.x,y:s.y,angle:a}},t.prototype.anyToPoint=function(e,i){return this.categoryToPoint(e,i)},t.prototype.anyToPosition=function(e,i){return this.categoryToPosition(e,i)},t.prototype.categoryToIndex=function(e){if(M(e)){var i=this.dataItemsByCategory.getKey(e);if(i)return i.index}},t.prototype.zoomToCategories=function(e,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(i)+1)},t.prototype.getAnyRangePath=function(e,i,r,s){var a=this.categoryToPosition(e,r),o=this.categoryToPosition(i,s);return this.getPositionRangePath(a,o)},t.prototype.roundPosition=function(e,i){var r=this.positionToIndex(e);return this.indexToPosition(r,i)},t.prototype.getFirstSeriesDataItem=function(e,i){for(var r=0;r<e.dataItems.length;r++){var s=e.dataItems.getIndex(r);if(e.xAxis==this&&s.categoryX==i||e.yAxis==this&&s.categoryY==i)return s}},t.prototype.getLastSeriesDataItem=function(e,i){for(var r=e.dataItems.length-1;r>=0;r--){var s=e.dataItems.getIndex(r);if(e.xAxis==this&&s.categoryX==i||e.yAxis==this&&s.categoryY==i)return s}},t.prototype.getSeriesDataItemByCategory=function(e,i){var r=this,s;return i.dataItems.each(function(a){i.xAxis==r?a.categoryX==e&&(s=a):i.yAxis==r&&a.categoryY==e&&(s=a)}),s},t.prototype.getSeriesDataItem=function(e,i,r){var s=this;if(D(i)){var a=this.positionToIndex(i);a>=this.dataItems.length&&a--;var o=this.dataItems.getIndex(a);if(o){var u=o.category,c,f=e.dataItems.getIndex(a);return f&&(e.xAxis==this&&f.categoryX==u||e.yAxis==this&&f.categoryY==u)?f:(e.dataItems.each(function(p){e.xAxis==s&&p.categoryX==u&&(c||(c=p),Math.abs(a-c.index)>Math.abs(a-p.index)&&(c=p)),e.yAxis==s&&p.categoryY==u&&(c||(c=p),Math.abs(a-c.index)>Math.abs(a-p.index)&&(c=p))}),c)}}},t.prototype.getX=function(e,i,r,s,a){var o=this.getPositionX(e,i,r,s,a);return Oi(o)?this.basePoint.x:this.renderer.positionToPoint(o).x},t.prototype.getPositionX=function(e,i,r,s,a){var o;return M(i)&&(o=this.categoryToPosition(e.categories[i],r)),a&&(o=ge(o,a.start,a.end)),o},t.prototype.getY=function(e,i,r,s,a){var o=this.getPositionY(e,i,r,s,a);return Oi(o)?this.basePoint.y:this.renderer.positionToPoint(o).y},t.prototype.getPositionY=function(e,i,r,s,a){var o;return M(i)&&(o=this.categoryToPosition(e.categories[i],r)),a&&(o=ge(o,a.start,a.end)),o},t.prototype.getAngle=function(e,i,r,s,a){var o=this.categoryToPosition(e.categories[i],r);return a&&(o=ge(o,a.start,a.end)),this.positionToAngle(o)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getTooltipText=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return this.tooltipDataItem=i,this.tooltip.dataItem=i,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",i.category):i.category},t.prototype.positionToIndex=function(e){e=ee(e,10),e<0&&(e=0),e>1&&(e=1);var i=this.startIndex,r=this.endIndex,s=r-i-this.startLocation-(1-this.endLocation);e+=1/s*this.startLocation;var a=null;if(this._axisBreaks){var o=this._axisBreaks;yr(o.iterator(),function(u){var c=u.startPosition,f=u.endPosition,p=u.adjustedStartValue,g=u.adjustedEndValue;p=We(p,i),g=ot(g,r);var y=u.breakSize;if(s-=(g-p)*(1-y),e>f)i+=(g-p)*(1-y);else if(!(e<c)){var b=(e-c)/(f-c);return a=p+Math.round(b*(g-p)),!1}return!0})}return D(a)||(a=Math.floor(e*s+i)),a>=this.dataItems.length&&(a=this.dataItems.length-1),a},t.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},t.prototype.getPositionLabel=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return i.category},Object.defineProperty(t.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),t.prototype.initRenderer=function(){n.prototype.initRenderer.call(this);var e=this.renderer;e.baseGrid.disabled=!0},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){e&&M(e.sortBySeries)&&at(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),n.prototype.processConfig.call(this,e)},t}(Hc);F.registeredClasses.CategoryAxis=Gt;F.registeredClasses.CategoryAxisDataItem=R1;var Uc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return Object.defineProperty(t.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e)},enumerable:!0,configurable:!0}),t.prototype.getMin=function(e,i,r){var s=this,a;return D(r)||(r=0),ce(e,function(o){var u;i?u=s.getWorkingValue(o):u=s.getValue(o),u+=r,(u<a||!D(a))&&(a=u)}),a},t.prototype.getMax=function(e,i,r){var s=this,a;return D(r)||(r=0),ce(e,function(o){var u;i?u=s.getWorkingValue(o):u=s.getValue(o),u+=r,(u>a||!D(a))&&(a=u)}),a},t}(Nc),ga=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.groupFields={},e._xAxis=new li,e._yAxis=new li,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.outOfRange=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new Ye,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.properties.stackToNegative=!0,e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",function(){e.returnBulletDefaultState()},void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(Wt,function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())},void 0,!1),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},t.prototype.createDataItem=function(){return new Uc},t.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},t.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},t.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),n.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!M(this.dataFields[this._xField])||!M(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},t.prototype.processDataItem=function(e,i){try{n.prototype.processDataItem.call(this,e,i),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(r){this._chart&&this._chart.raiseCriticalError(r)}},t.prototype.updateDataItem=function(e){n.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},t.prototype.setInitialWorkingValues=function(e){},t.prototype.disposeData=function(){n.prototype.disposeData.call(this);var e=this.xAxis,i=this.yAxis;if(e){var r=this.dataItemsByAxis.getKey(e.uid);r&&r.clear(),e instanceof Gt&&this.clearCatAxis(e)}if(i){var s=this.dataItemsByAxis.getKey(i.uid);s&&s.clear(),i instanceof Gt&&this.clearCatAxis(i)}},t.prototype.clearCatAxis=function(e){var i=this.uid;e.dataItems.each(function(r){r.seriesDataItems[i]&&(r.seriesDataItems[i]=[])})},t.prototype.defineFields=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){var r=e.axisFieldName,s=r+"X",a="open"+rc(r)+"X",o=i.axisFieldName,u=o+"Y",c="open"+rc(o)+"Y";this._xField=s,this._yField=u,this.dataFields[a]&&(this._xOpenField=a),this.dataFields[c]&&(this._yOpenField=c),!this.dataFields[c]&&this.baseAxis==i&&(this._yOpenField=u),!this.dataFields[a]&&this.baseAxis==e&&(this._xOpenField=s),this.stacked&&this.baseAxis==e&&(this._xOpenField=s),this.stacked&&this.baseAxis==i&&(this._yOpenField=u),e instanceof Gt&&i instanceof Gt&&(this._yOpenField||(this._yOpenField=u)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(i,this._yValueFields,this._yField),this.addValueField(i,this._yValueFields,this._yOpenField)}},t.prototype.addValueField=function(e,i,r){e instanceof Qe&&M(this.dataFields[r])&&i.indexOf(r)==-1&&i.push(r)},t.prototype.setCategoryAxisField=function(e,i){M(this.dataFields[e])||(this.dataFields[e]=i.dataFields.category)},t.prototype.setDateAxisField=function(e,i){M(this.dataFields[e])||(this.dataFields[e]=i.dataFields.date)},t.prototype.afterDraw=function(){n.prototype.afterDraw.call(this),this.createMask()},t.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();Q(this.axisRanges.iterator(),function(i){i.axisFill.fillPath&&(i.axisFill.validate(),e+=i.axisFill.fillPath)}),this.mainContainer.mask.path=e}},t.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?ws({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},t.prototype.getAxisField=function(e){if(e==this.xAxis)return this.xField;if(e==this.yAxis)return this.yField},t.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=We(1e5,e.plotContainer.maxWidth*2),this._maxxY=We(1e5,e.plotContainer.maxHeight*2));var i=this.xAxis,r=this.yAxis;i&&r&&(i.updateAxisBySeries(),r.updateAxisBySeries()),n.prototype.validateDataItems.call(this),i&&r&&(i.postProcessSeriesDataItems(this),r.postProcessSeriesDataItems(this))},t.prototype.validateDataRange=function(){var e=this.xAxis,i=this.yAxis;e&&i&&(e.dataRangeInvalid&&e.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),n.prototype.validateDataRange.call(this)},t.prototype.validate=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){e.invalid&&e.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=e.pixelX,this._showBullets=!0;var r=this.minBulletDistance;D(r)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<r&&(this._showBullets=!1)}if(this.updateTooltip(),!(e instanceof At&&e.groupData&&!this.dataGrouped||i instanceof At&&i.groupData&&!this.dataGrouped)){n.prototype.validate.call(this);var s=this.chart,a=this.maskBullets;s&&a&&s.className=="XYChart"&&((s.leftAxesContainer.layout=="vertical"||s.rightAxesContainer.layout=="vertical")&&(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),(s.topAxesContainer.layout=="horizontal"||s.bottomAxesContainer.layout=="horizontal")&&(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(t.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e}return this._xAxis.get()}},set:function(e){this.setXAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setXAxis=function(e){var i=this._xAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._xAxis.dispose(),i.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new St),this.invalidateData())},Object.defineProperty(t.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e}return this._yAxis.get()}},set:function(e){this.setYAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setYAxis=function(e){var i=this._yAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._yAxis.dispose(),i.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof Ts&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new St),this.invalidateData())},Object.defineProperty(t.prototype,"baseAxis",{get:function(){var e=this.xAxis,i=this.yAxis;return!this._baseAxis&&e&&i&&(i instanceof At&&(this._baseAxis=i),e instanceof At&&(this._baseAxis=e),i instanceof Gt&&(this._baseAxis=i),e instanceof Gt&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.addData=function(e,i,r){n.prototype.addData.call(this,e,i,r);var s=this.scrollbarSeries;s&&(this.scrollbarSeries.addData(e,i,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},t.prototype.setData=function(e){n.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},t.prototype.setDataSet=function(e){var i=n.prototype.setDataSet.call(this,e);if(i){this._dataSetChanged=!0;var r=this.dataItems;if(this.resetExtremes(),r&&r.length>0){var s=this.xAxis,a=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),s instanceof At&&s==this.baseAxis&&(this._tmin.setKey(s.uid,r.getIndex(0).dateX.getTime()),this._tmax.setKey(s.uid,r.getIndex(r.length-1).dateX.getTime()),this.dispatch("extremeschanged")),a instanceof At&&a==this.baseAxis&&(this._tmin.setKey(a.uid,r.getIndex(0).dateY.getTime()),this._tmax.setKey(a.uid,r.getIndex(r.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return i},t.prototype.processValues=function(e){n.prototype.processValues.call(this,e);var i=this.xAxis,r=this.yAxis;if(!(!i||!r)){var s=this.dataItems,a=1/0,o=-1/0,u=1/0,c=-1/0,f=this.startIndex,p=this.endIndex,g=f,y=p;e||(f=0,p=this.dataItems.length);for(var b=f;b<p;b++){var x=s.getIndex(b);this.getStackValue(x,e);var w=x.getValue("valueX","stack"),P=x.getValue("valueY","stack");e||(w=x.getValue("valueX","stackTrue"),P=x.getValue("valueY","stackTrue")),a=ot(x.getMin(this._xValueFields,e,w),a),u=ot(x.getMin(this._yValueFields,e,P),u),o=We(x.getMax(this._xValueFields,e,w),o),c=We(x.getMax(this._yValueFields,e,P),c),this.stacked&&(this.baseAxis==i&&(P<u&&(u=P),P>c&&(c=P)),this.baseAxis==r&&(w<a&&(a=w),w>o&&(o=w)))}i.processSeriesDataItems(),r.processSeriesDataItems();var S=i.uid,k=r.uid;if(this.xAxis instanceof Qe&&(a==1/0||o==-1/0)){this._smin.setKey(S,void 0),this._smax.setKey(S,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof Qe&&(u==1/0||c==-1/0)){this._smin.setKey(k,void 0),this._smax.setKey(k,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(!e&&(this._tmin.getKey(S)!=a||this._tmax.getKey(S)!=o||this._tmin.getKey(k)!=u||this._tmax.getKey(k)!=c)){this._tmin.setKey(S,a),this._tmax.setKey(S,o),this._tmin.setKey(k,u),this._tmax.setKey(k,c);var T=this.stackedSeries;T&&(T.isDisposed()?this.stackedSeries=void 0:T.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(f!=g||p!=y){a=1/0,o=-1/0,u=1/0,c=-1/0;for(var b=g;b<y;b++){var x=s.getIndex(b);this.getStackValue(x,e);var w=x.getValue("valueX","stack"),P=x.getValue("valueY","stack");e||(w=x.getValue("valueX","stackTrue"),P=x.getValue("valueY","stackTrue")),a=ot(x.getMin(this._xValueFields,e,w),a),u=ot(x.getMin(this._yValueFields,e,P),u),o=We(x.getMax(this._xValueFields,e,w),o),c=We(x.getMax(this._yValueFields,e,P),c),this.stacked&&(this.baseAxis==i&&(P<u&&(u=P),P>c&&(c=P)),this.baseAxis==r&&(w<a&&(a=w),w>o&&(o=w)))}}if(this.xAxis instanceof Qe&&(a==1/0||o==-1/0)){this._smin.setKey(S,void 0),this._smax.setKey(S,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof Qe&&(u==1/0||c==-1/0)){this._smin.setKey(k,void 0),this._smax.setKey(k,void 0),this.dispatchImmediately("selectionextremeschanged");return}if((this._smin.getKey(S)!=a||this._smax.getKey(S)!=o||this._smin.getKey(k)!=u||this._smax.getKey(k)!=c)&&(this._smin.setKey(S,a),this._smax.setKey(S,o),this._smin.setKey(k,u),this._smax.setKey(k,c),this.appeared||this.start!=0||this.end!=1||this.dataItems!=this.mainDataSet)){var j=!1;if(r instanceof Qe&&!(r instanceof At)){var V=this._tmin.getKey(k);(!D(V)||(this.usesShowFields||this._dataSetChanged||i instanceof At&&i.groupData&&this.isShowing)&&u<V||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(k,u),j=!0);var A=this._tmax.getKey(k);(!D(A)||(this.usesShowFields||this._dataSetChanged||i instanceof At&&i.groupData&&this.isShowing)&&c>A||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(k,c),j=!0)}if(i instanceof Qe&&!(i instanceof At)){var V=this._tmin.getKey(S);(!D(V)||(this.usesShowFields||this._dataSetChanged||r instanceof At&&r.groupData&&this.isShowing)&&a<V||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(S,a),j=!0);var A=this._tmax.getKey(S);(!D(A)||(this.usesShowFields||this._dataSetChanged||r instanceof At&&r.groupData&&this.isShowing)&&o>A||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(S,o),j=!0)}j&&this.dispatchImmediately("extremeschanged"),this.start==0&&this.end==1&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}},t.prototype.hideTooltip=function(e){n.prototype.hideTooltip.call(this,e),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},t.prototype.showTooltipAtPosition=function(e,i){var r;if(this.visible&&!this.isHiding&&!this.isShowing){var s=this._xAxis.get(),a=this._yAxis.get();s==this.baseAxis&&(r=s.getSeriesDataItem(this,s.toAxisPosition(e),this.snapTooltip)),a==this.baseAxis&&(r=a.getSeriesDataItem(this,a.toAxisPosition(i),this.snapTooltip));var o=this.showTooltipAtDataItem(r);if(o)return o;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},t.prototype.getAdjustedXLocation=function(e,i,r){return e.locations[i]},t.prototype.getAdjustedYLocation=function(e,i,r){return e.locations[i]},t.prototype.showTooltipAtDataItem=function(e){var i,r,s=this.chart.cursor;if(s&&s.hideSeriesTooltipsOnSelection&&s.selection.visible&&s.downPoint){this.hideTooltip();return}if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var a=this.tooltipXField,o=this.tooltipYField;if(M(e[a])&&M(e[o])){var u=this.getPoint(e,a,o,this.getAdjustedXLocation(e,a),this.getAdjustedYLocation(e,o));if(u&&!(this.chart.className=="XYChart"&&(u.y<-1||u.y>this.yAxis.pixelHeight+1||u.x<-1||u.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=u.x,this.tooltipY=u.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var c=Kh(e.sprites),f=c.next();!f.done;f=c.next()){var p=f.value;!p.parent.visible||p.isHidden||p.__disabled||p.disabled||p.isHiding||(p.interactions.isRealHover||(p.dispatchImmediately("over"),p.interactions.isRealHover=!0),p.isHover=!0)}}catch(g){i={error:g}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return this.showTooltip()?Tr({x:u.x,y:u.y},this):void 0}}}}else this.updateLegendValue(e,!0)},t.prototype.returnBulletDefaultState=function(e){var i,r;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var s=Kh(this._prevTooltipDataItem.sprites),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.isDisposed())this._prevTooltipDataItem=void 0;else{var u=o.interactions.isRealHover;o.isHover=!1,u&&o.dispatchImmediately("out")}}}catch(c){i={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}},t.prototype.shouldCreateBullet=function(e,i){var r=i.xField;M(r)||(r=this.xField);var s=i.yField;if(M(s)||(s=this.yField),this.xAxis instanceof Qe&&!e.hasValue([r])||this.yAxis instanceof Qe&&!e.hasValue([s]))return!1;if(i.disabled){var a=i.propertyFields.disabled,o=e.dataContext;return!!(o&&o[a]===!1)}return!0},t.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e);var i=e.dataItem,r=e.xField;M(r)||(r=this.xField);var s=e.yField;M(s)||(s=this.yField);var a=this.xAxis,o=this.yAxis;if(a instanceof Qe&&!i.hasValue([r])||o instanceof Qe&&!i.hasValue([s]))e.visible=!1;else{var u=this.getBulletLocationX(e,r),c=this.getBulletLocationY(e,s),f=this.getPoint(i,r,s,u,c);if(f){var p=this.xOpenField,g=this.yOpenField,y=void 0,b=void 0;if(a instanceof At){D(u)||(u=0);var x=void 0,w=i.getWorkingValue(r);p?x=i.getWorkingValue(p):a==this.baseAxis&&(x=a.baseValue),D(x)||(x=w);var P=i.getValue("valueX","stack");if(x+=P,w+=P,x==w){var S=a.baseInterval,k=a.dateFormatter;x=ci(new Date(x),S.timeUnit,S.count,k.firstDayOfWeek,k.utc,void 0,k.timezoneMinutes,k.timezone).getTime(),w=Ai(new Date(x),S.timeUnit,S.count,k.utc).getTime()}var T=void 0;a==this.baseAxis?T=x+(w-x)*u:T=x+(w-x)*(1-u),y=a.valueToPosition(T)}else if(a instanceof Qe){D(u)||(u=0);var x=void 0,w=i.getWorkingValue(r);p?x=i.getWorkingValue(p):x=a.baseValue;var P=i.getValue("valueX","stack");x+=P,w+=P;var T=x+(w-x)*(1-u);y=a.valueToPosition(T)}else if(a instanceof Gt){var j=this.getAdjustedXLocation(i,r,e.locationX),V=this.getAdjustedXLocation(i,p,e.locationX);y=a.categoryToPosition(i[r],j);var A=void 0;p&&(A=a.categoryToPosition(i[p],V)),D(A)||(A=1),y=A+(y-A)*u}if(o instanceof At){D(c)||(c=0);var x=void 0,w=i.getWorkingValue(s);g?x=i.getWorkingValue(g):o==this.baseAxis&&(x=o.baseValue),D(x)||(x=w);var P=i.getValue("valueY","stack");if(x+=P,w+=P,x==w){var S=o.baseInterval,k=o.dateFormatter;x=ci(new Date(x),S.timeUnit,S.count,k.firstDayOfWeek,k.utc,void 0,k.timezoneMinutes,k.timezone).getTime(),w=Ai(new Date(x),S.timeUnit,S.count,k.utc).getTime()}var T=void 0;o==this.baseAxis?T=x+(w-x)*c:T=x+(w-x)*(1-c),b=o.valueToPosition(T)}else if(o instanceof Qe){D(c)||(c=0);var x=void 0,w=i.getWorkingValue(s);g?x=i.getWorkingValue(g):x=o.baseValue;var P=i.getValue("valueY","stack");x+=P,w+=P;var T=x+(w-x)*(1-c);b=o.valueToPosition(T)}else if(o instanceof Gt){b=o.categoryToPosition(i[s],c);var I=this.getAdjustedYLocation(i,s,e.locationY),L=this.getAdjustedYLocation(i,g,e.locationY);b=o.categoryToPosition(i[s],I);var J=void 0;g&&(J=o.categoryToPosition(i[g],L)),D(J)||(J=1),b=J+(b-J)*c}e.visible=!0,this.positionBulletReal(e,y,b)}else e.visible=!1}},t.prototype.positionBulletReal=function(e,i,r){e.x=this.xAxis.renderer.positionToPoint(i,r).x,e.y=this.yAxis.renderer.positionToPoint(r,i).y},t.prototype.getBulletLocationX=function(e,i){var r=e.locationX,s=e.dataItem;return D(r)||(r=s.workingLocations[i]),r},t.prototype.getBulletLocationY=function(e,i){var r=e.locationY,s=e.dataItem;return D(r)||(r=s.workingLocations[i]),r},t.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(i){i.baseAxis==e.baseAxis&&(i.stackedSeries=void 0,i.invalidateDataItems(),i.invalidateProcessedData())})},Object.defineProperty(t.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var i=this.xAxis,r=this.yAxis;if(!e){var s;i!=this.baseAxis&&i instanceof Qe&&(s=this.xField),r!=this.baseAxis&&r instanceof Qe&&(s=this.yField),s&&this.dataItems.each(function(a){a.setCalculatedValue(s,0,"stack"),a.setCalculatedValue(s,0,"stackTrue")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var i=this;this.isHidden&&(this.appeared&&this.xAxis instanceof At&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof At&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)));var r;this.xAxis instanceof Qe&&this.xAxis!=this.baseAxis&&(r=this._xValueFields),this.yAxis instanceof Qe&&this.yAxis!=this.baseAxis&&(r=this._yValueFields);var s=this.startIndex,a=this.endIndex,o=0,u=this.defaultState.transitionDuration;D(e)&&(u=e);var c;Q(ca(this.dataItems.iterator()),function(p){var g=p[0],y=p[1],b=u;(g<i.startIndex-10||g>i.endIndex+10)&&(b=0,o=0),i.sequencedInterpolation&&b>0&&(o=i.sequencedInterpolationDelay*g+u*(g-s)/(a-s)),c=y.show(b,o,r)}),this.dataSets.each(function(p,g){g!=i.dataItems&&g.each(function(y){y.events.disable(),y.show(0,0,r),y.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(p){p.events.disable(),p.show(0,0,r),p.events.enable()});var f=n.prototype.show.call(this,e);return c&&!c.isFinished()&&(f=c),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),f},t.prototype.hide=function(e){var i=this,r,s,a=this.xAxis;a instanceof Qe&&a!=this.baseAxis&&(r=this._xValueFields,this.stacked||a.minZoomed<a.baseValue&&a.maxZoomed>a.baseValue||this.stackedSeries?s=a.baseValue:s=a.min);var o=this.yAxis;o instanceof Qe&&o!=this.baseAxis&&(r=this._yValueFields,this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?s=o.baseValue:s=o.min);var u=this.startIndex,c=this.endIndex,f=this.hiddenState.transitionDuration;D(e)&&(f=e);var p=0,g;Q(ca(this.dataItems.iterator()),function(b){var x=b[0],w=b[1],P=f;(x<i.startIndex-10||x>i.endIndex+10)&&(P=0),P==0?w.hide(0,0,s,r):(i.sequencedInterpolation&&P>0&&(p=i.sequencedInterpolationDelay*x+f*(x-u)/(c-u)),g=w.hide(P,p,s,r))}),this.dataSets.each(function(b,x){x!=i.dataItems&&x.each(function(w){w.events.disable(),w.hide(0,0,s,r),w.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(b){b.events.disable(),b.hide(0,0,s,r),b.events.enable()});var y=n.prototype.hide.call(this,f);return y&&!y.isFinished()&&y.delay(p),g&&!g.isFinished()&&(y=g),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),y},t.prototype.handleDataItemWorkingValueChange=function(e,i){n.prototype.handleDataItemWorkingValueChange.call(this,e,i);var r=this.baseAxis.series;Q(r.iterator(),function(s){(s.stacked||s.stackedSeries)&&s.invalidateProcessedData()})},t.prototype.getStackValue=function(e,i){var r=this,s=this.xAxis,a=this.yAxis;if(!(!this.stacked||!s||!a)){var o=this.chart,u=o.series.indexOf(this),c;if(s!=this.baseAxis&&s instanceof Qe&&(c=this.xField),a!=this.baseAxis&&a instanceof Qe&&(c=this.yField),!c)return;e.setCalculatedValue(c,0,"stack"),e.setCalculatedValue(c,0,"stackTrue"),yr(o.series.range(0,u).backwards().iterator(),function(f){if(f.xAxis==s&&f.yAxis==a&&f.className==r.className){f.stackedSeries=r;var p=f.dataItems.getIndex(e.index);if(p&&p.hasValue(r._xValueFields)&&p.hasValue(r._yValueFields)){var g=e.getValue(c),y=void 0,b=p.getValue(c,"stackTrue");b==null&&(b=0);var x=p.getValue(c)+b;if(y=p.getWorkingValue(c)+p.getValue(c,"stack"),r.stackToNegative){if(g>=0&&x>=0||g<0&&x<0)return e.setCalculatedValue(c,y,"stack"),e.setCalculatedValue(c,x,"stackTrue"),!1;if(!f.stacked)return!1}else return e.setCalculatedValue(c,y,"stack"),e.setCalculatedValue(c,x,"stackTrue"),!1}else if(!f.stacked)return!1}return!0})}},Object.defineProperty(t.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e},enumerable:!0,configurable:!0}),t.prototype.min=function(e){return this._tmin.getKey(e.uid)},t.prototype.max=function(e){return this._tmax.getKey(e.uid)},t.prototype.selectionMin=function(e){var i=this._smin.getKey(e.uid);return i},t.prototype.selectionMax=function(e){var i=this._smax.getKey(e.uid);return i},t.prototype.processConfig=function(e){if(e){if(M(e.baseAxis)&&at(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.baseAxis+'" found for `baseAxis`.'),delete e.baseAxis)),M(e.xAxis)&&at(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.xAxis+'" found for `xAxis`.'),delete e.xAxis)),M(e.yAxis)&&at(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.yAxis+'" found for `yAxis`.'),delete e.yAxis)),M(e.axisRanges)&&fi(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var s=e.axisRanges[i];M(s.type)||(s.type="AxisDataItem"),M(s.axis)&&at(s.axis)&&this.map.hasKey(s.axis)?s.component=this.map.getKey(s.axis):M(s.component)&&at(s.component)&&this.map.hasKey(s.component)&&(s.component=this.map.getKey(s.component))}(!M(e.dataFields)||!Ot(e.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}n.prototype.processConfig.call(this,e)},t.prototype.getPoint=function(e,i,r,s,a,o,u){if(this.xAxis&&this.yAxis){var c=this.xAxis.getX(e,i,s),f=this.yAxis.getY(e,r,a);return c=ge(c,-this._maxxX,this._maxxX),f=ge(f,-this._maxxY,this._maxxY),{x:c,y:f}}},t.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";Ve(this.dataFields,function(i,r){e+="{"+i+"} "}),this.itemReaderText=e,this._itemReaderTextChanged=!1}},Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var i=this.chart;i&&(e?this.bulletsContainer.parent=i.bulletsContainer:this.bulletsContainer.parent=i.axisBulletsContainer)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){this.groupFields=Bn(e.groupFields,{}),n.prototype.copyFrom.call(this,e)},t.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),n.prototype.dispose.call(this)},t}(zc);F.registeredClasses.XYSeries=ga;F.registeredClasses.XYSeriesDataItem=Uc;var Qs=function(n){N(t,n);function t(){var e=n.call(this)||this;e._chart=new li,e.className="XYChartScrollbar";var i=new ft;e.padding(0,0,0,0);var r=e.createChild(Ts);if(r.shouldClone=!1,r.margin(0,0,0,0),r.padding(0,0,0,0),r.interactionsEnabled=!1,e._scrollbarChart=r,!El()){var s=new mc;s.filterUnits="userSpaceOnUse",r.plotContainer.filters.push(s)}e._disposers.push(e._scrollbarChart),e.minHeight=60,e.minWidth=60;var a=e.createChild(Ye);a.shouldClone=!1,a.setElement(e.paper.add("path")),a.fill=i.getFor("background"),a.fillOpacity=.8,a.interactionsEnabled=!1,a.isMeasured=!1,a.toBack(),e._unselectedOverlay=a,e._disposers.push(e._unselectedOverlay),r.toBack(),e.background.cornerRadius(0,0,0,0);var o=e.thumb.background;o.cornerRadius(0,0,0,0),o.fillOpacity=0,o.fill=i.getFor("background");var u=o.states.getKey("hover");u&&(u.properties.fillOpacity=.2);var c=o.states.getKey("down");return c&&(c.properties.fillOpacity=.4),e._disposers.push(e._chart),e.applyTheme(),e}return Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new ct,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){var i=this,r=e.newValue;if(!(!r.xAxis||!r.yAxis)){var s=this.scrollbarChart;s.zoomOutButton.disabled=!0,this.chart=r.chart,s.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,s.language.locale=this.chart.language.locale;var a=!0,o=!0;Q(this.series.iterator(),function(k){k!=r&&(k.xAxis==r.xAxis&&i.scrollbarChart.xAxes.length>0&&(a=!1),k.yAxis==r.yAxis&&i.scrollbarChart.yAxes.length>0&&(o=!1))}),r.events.on("beforedisposed",function(){i.series.removeValue(r)});var u=new ft,c=r.clone();if(El()&&(c.stroke=Oe("#aaaaaa"),c.fill=c.stroke,c.propertyFields.fill=void 0,c.propertyFields.stroke=void 0),r.scrollbarSeries=c,a){var f=r.xAxis.clone();s.xAxes.moveValue(f),f.title.disabled=!0,f.rangeChangeDuration=0;var p=f.renderer;p.ticks.template.disabled=!0,p.inside=!0,p.labels.template.inside=!0,p.line.strokeOpacity=0,p.minLabelPosition=.02,p.maxLabelPosition=.98,p.line.disabled=!0,p.axisFills.template.disabled=!0,p.baseGrid.disabled=!0,p.grid.template.strokeOpacity=.05,p.minWidth=void 0,p.minHeight=void 0,p.padding(0,0,0,0),p.chart=s,p.margin(0,0,0,0),f.width=te(100);var g=p.labels.template;if(g.fillOpacity=.5,f.maxZoomCount=void 0,f.minZoomCount=void 0,f instanceof At){var y=f,b=r.xAxis;y.groupCount=b.groupCount*5,y.min=void 0,y.max=void 0,this._disposers.push(y.clonedFrom.events.on("extremeschanged",function(){D(y.clonedFrom.minDefined)&&(y.min=y.clonedFrom.minDefined),D(y.clonedFrom.maxDefined)&&(y.max=y.clonedFrom.maxDefined)},void 0,!1))}else if(f instanceof Qe){var x=f;x.min=void 0,x.max=void 0,D(x.clonedFrom.minDefined)||(x.min=void 0),D(x.clonedFrom.maxDefined)||(x.max=void 0),this._disposers.push(x.clonedFrom.events.on("extremeschanged",function(){D(x.clonedFrom.minDefined)&&(x.min=x.clonedFrom.min),D(x.clonedFrom.maxDefined)&&(x.max=x.clonedFrom.max)},void 0,!1))}c.xAxis=f}else this.scrollbarChart.xAxes.each(function(k){k.clonedFrom==r.xAxis&&(c.xAxis=k)});if(o){var w=r.yAxis.clone();s.yAxes.moveValue(w),w.title.disabled=!0,w.rangeChangeDuration=0;var p=w.renderer;p.ticks.template.disabled=!0,p.inside=!0,p.labels.template.inside=!0,p.line.strokeOpacity=0,p.minLabelPosition=.02,p.maxLabelPosition=.98,p.line.disabled=!0,p.axisFills.template.disabled=!0,p.grid.template.stroke=u.getFor("background"),p.baseGrid.disabled=!0,p.grid.template.strokeOpacity=.05,p.minWidth=void 0,p.minHeight=void 0,p.chart=s,p.padding(0,0,0,0),p.margin(0,0,0,0),w.height=te(100);var g=p.labels.template;if(g.fillOpacity=.5,c.yAxis=w,w.maxZoomCount=void 0,w.minZoomCount=void 0,w instanceof At){var P=w;P.min=void 0,P.max=void 0;var b=r.yAxis;w.groupCount=b.groupCount*5,this._disposers.push(P.clonedFrom.events.on("extremeschanged",function(){D(P.clonedFrom.minDefined)&&(P.min=P.clonedFrom.minDefined),D(P.clonedFrom.maxDefined)&&(P.max=P.clonedFrom.maxDefined)}))}else if(w instanceof Qe){var S=w;S.min=void 0,S.max=void 0,D(S.clonedFrom.minDefined)||(S.min=void 0),D(S.clonedFrom.maxDefined)||(S.max=void 0),this._disposers.push(S.clonedFrom.events.on("extremeschanged",function(){D(S.clonedFrom.minDefined)&&(S.min=S.clonedFrom.minDefined),D(S.clonedFrom.maxDefined)&&(S.max=S.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(k){k.clonedFrom==r.yAxis&&(c.yAxis=k)});c.rangeChangeDuration=0,c.interpolationDuration=0,c.defaultState.transitionDuration=0,c.showOnInit=!1,this._disposers.push(c.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(r.events.on("datavalidated",function(){c.data!=r.data&&(c.data=r.data)},void 0,!1)),c.defaultState.properties.visible=!0,s.series.push(c),this.updateByOrientation()}},t.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(Q(this._scrollbarChart.xAxes.iterator(),function(i){var r=i.renderer;e.orientation=="vertical"?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=i.clonedFrom.renderer.minGridDistance)}),Q(this._scrollbarChart.yAxes.iterator(),function(i){var r=i.renderer;e.orientation=="horizontal"?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=i.clonedFrom.renderer.minGridDistance)}))},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue,r=this.scrollbarChart;r.series.each(function(s){s&&s.clonedFrom==i&&r.series.removeValue(s)}),r.series.length==0&&(r.xAxes.clear(),r.yAxes.clear());try{i.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(t.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),t.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},t.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;Q(e.xAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)}),Q(e.yAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)})},t.prototype.updateThumb=function(e){if(e===void 0&&(e=!0),n.prototype.updateThumb.call(this,e),this._unselectedOverlay){var i=this.thumb,r=i.pixelX||0,s=i.pixelY||0,a=i.pixelWidth||0,o=i.pixelHeight||0,u="";this.orientation=="horizontal"?(u=ws({x:-1,y:0,width:r,height:o}),u+=ws({x:r+a,y:0,width:(this.pixelWidth||0)-r-a,height:o})):(u=ws({x:0,y:0,width:a,height:s}),u+=ws({x:0,y:s+o,width:a,height:(this.pixelHeight||0)-s-o})),this._unselectedOverlay.path=u}},t.prototype.processConfig=function(e){if(e&&M(e.series)&&fi(e.series))for(var i=0,r=e.series.length;i<r;i++){var s=e.series[i];if(M(s)&&at(s))if(this.map.hasKey(s))e.series[i]=this.map.getKey(s);else throw Error("XYChartScrollbar error: Series with id `"+s+"` does not exist.")}n.prototype.processConfig.call(this,e)},t}(Ic);F.registeredClasses.XYChartScrollbar=Qs;var Xm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return t}(M1),Ts=function(n){N(t,n);function t(){var e=n.call(this)||this;e._axisRendererX=Hn,e._axisRendererY=en,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var i=e.chartContainer;i.layout="vertical",e.padding(15,15,15,15);var r=i.createChild(Se);r.shouldClone=!1,r.layout="vertical",r.width=te(100),r.zIndex=1,e.topAxesContainer=r;var s=i.createChild(Se);s.shouldClone=!1,s.layout="horizontal",s.width=te(100),s.height=te(100),s.zIndex=0,e.yAxesAndPlotContainer=s;var a=i.createChild(Se);a.shouldClone=!1,a.width=te(100),a.layout="vertical",a.zIndex=1,e.bottomAxesContainer=a;var o=s.createChild(Se);o.shouldClone=!1,o.layout="horizontal",o.height=te(100),o.contentAlign="right",o.events.on("transformed",e.updateXAxesMargins,e,!1),o.zIndex=1,e.leftAxesContainer=o;var u=s.createChild(Se);u.shouldClone=!1,u.height=te(100),u.width=te(100),u.background.fillOpacity=0,e.plotContainer=u,e.mouseWheelBehavior="none",e._cursorContainer=u;var c=s.createChild(Se);c.shouldClone=!1,c.layout="horizontal",c.height=te(100),c.zIndex=1,c.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=c,e.seriesContainer.parent=u,e.bulletsContainer.parent=u;var f=u.createChild(P1);f.shouldClone=!1,f.align="right",f.valign="top",f.zIndex=Number.MAX_SAFE_INTEGER,f.marginTop=5,f.marginRight=5,f.hide(0),e.zoomOutButton=f;var p=e.plotContainer.createChild(Se);return p.shouldClone=!1,p.width=te(100),p.height=te(100),p.isMeasured=!1,p.zIndex=4,p.layout="none",e.axisBulletsContainer=p,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",function(){e.series.each(function(g){g.dataGrouped=!1,g._baseInterval={}})},e,!1),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,M(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},t.prototype.draw=function(){n.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},t.prototype.updatePlotElements=function(){Q(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateData=function(){this._parseDataFrom==0&&(Q(this.xAxes.iterator(),function(e){e.dataChangeUpdate()}),Q(this.yAxes.iterator(),function(e){e.dataChangeUpdate()}),Q(this.series.iterator(),function(e){e.dataChangeUpdate()})),n.prototype.validateData.call(this)},t.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,i=this.rightAxesContainer.measuredWidth,r=this.bottomAxesContainer;(r.paddingLeft!=e||r.paddingRight!=i)&&(r.paddingLeft=e,r.paddingRight=i);var s=this.topAxesContainer;(s.paddingLeft!=e||s.paddingRight!=i)&&(s.paddingLeft=e,s.paddingRight=i)},t.prototype.reinit=function(){n.prototype.reinit.call(this),this.series.each(function(e){e.appeared=!1})},t.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target)},t.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target)},t.prototype.processXAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererX,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),i.axisLetter="X",i.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),i.dataProvider=this,this.updateXAxis(i.renderer),this.processAxis(i)},t.prototype.processYAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererY,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),i.axisLetter="Y",i.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),i.dataProvider=this,this.updateYAxis(i.renderer),this.processAxis(i)},t.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e)},t.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;yr(this.xAxes.iterator(),function(i){if(i.toggleZoomOutButton){if(i.maxZoomCount>0){var r=i.maxZoomFactor/i.maxZoomCount;if(ee(i.end-i.start,3)<1/r)return e=!0,!1}else if(ee(i.start,3)>0||ee(i.end,3)<1)return e=!0,!1}return!0}),yr(this.yAxes.iterator(),function(i){if(i.toggleZoomOutButton){if(i.maxZoomCount>0){var r=i.maxZoomFactor/i.maxZoomCount;if(ee(i.end-i.start,3)<1/r)return e=!0,!1}else if(ee(i.start,3)>0||ee(i.end,3)<1)return e=!0,!1;return!0}}),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide()}},t.prototype.seriesAppeared=function(){var e=!1;return Q(this.series.iterator(),function(i){if(!i.appeared)return e=!1,!1}),e},t.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e)},t.prototype.updateScrollbar=function(e,i){e&&(e.skipRangeEvents(),e.start=i.start,e.end=i.end)},t.prototype.getCommonAxisRange=function(e){var i,r;return e.each(function(s){if(!(!s.zoomable||s instanceof Qe&&s.syncWithAxis)){var a=s.start,o=s.end;s.renderer.inversed&&(a=1-s.end,o=1-s.start),(!D(i)||a<i)&&(i=a),(!D(r)||o>r)&&(r=o)}}),{start:i,end:r}},t.prototype.updateXAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.topAxesContainer,i.toFront()):(i.parent=this.bottomAxesContainer,i.toBack()),i.renderer&&i.renderer.processRenderer()},t.prototype.updateYAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.rightAxesContainer,i.toBack()):(i.parent=this.leftAxesContainer,i.toFront()),i.renderer&&i.renderer.processRenderer()},t.prototype.processAxis=function(e){var i=this;e instanceof Gt&&this._dataUsers.moveValue(e);var r=e.renderer;r.gridContainer.parent=this.plotContainer,r.gridContainer.toBack(),r.breakContainer.parent=this.plotContainer,r.breakContainer.toFront(),r.breakContainer.zIndex=10,e.addDisposer(new vt(function(){i.dataUsers.removeValue(e)})),r.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",function(){var s=$i({x:0,y:0},e,i.axisBulletsContainer);e.renderer instanceof en&&(r.bulletsContainer.y=s.y),e.renderer instanceof Hn&&(r.bulletsContainer.x=s.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){i.inited&&(e.invalidateDataItems(),i.updateSeriesMasks())},e,!1)},t.prototype.updateSeriesMasks=function(){El()&&this.series.each(function(e){var i=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=i})},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each(function(r){r.resetExtremes()})),n.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(t.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new ct,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Pt(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),t.prototype.handleAxisRemoval=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),i.autoDispose&&i.dispose()},Object.defineProperty(t.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new ct,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Pt(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){try{n.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;(this.xAxes.length==0||this.yAxes.length==0)&&(F.removeFromInvalidComponents(i),i.dataInvalid=!1),i.xAxis,i.yAxis,i.maskBullets=i.maskBullets,i.fill==null&&(this.patterns?(M(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),M(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof ht&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),M(i.stroke)||(i.stroke=i.fill)}catch(r){this.raiseCriticalError(r)}},Object.defineProperty(t.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),t.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var i=this.cursor.xPosition,r=this.cursor.yPosition;this.showSeriesTooltip({x:i,y:r});var s=[],a=e.snapToSeries;if(a&&!e.downPoint){a instanceof ga&&(a=[a]);var o=[];ce(a,function(c){if(!c.isHidden&&!c.isHiding){var f=c.xAxis,p=c.yAxis;f instanceof Qe&&!(f instanceof At)&&p instanceof Qe&&!(p instanceof At)?(c.dataItems.each(function(g){o.push(g)}),Mr(s,c.yAxis),Mr(s,c.xAxis)):(c.baseAxis==c.xAxis&&(Mr(s,c.yAxis),o.push(f.getSeriesDataItem(c,f.toAxisPosition(i),!0))),c.baseAxis==c.yAxis&&(Mr(s,c.xAxis),o.push(p.getSeriesDataItem(c,p.toAxisPosition(r),!0))))}});var u=this.getClosest(o,i,r);u&&(this.series.each(function(c){var f=u.component;c!=f&&(c.hideTooltip(),c.xAxis!=f.xAxis&&(c.xAxis.hideTooltip(),s.push(c.xAxis)),c.yAxis!=f.yAxis&&(c.yAxis.hideTooltip(),s.push(c.yAxis)))}),u.component.showTooltipAtDataItem(u),e.handleSnap(u.component))}this._seriesPoints=[],this._cursorXPosition!=i&&this.showAxisTooltip(this.xAxes,i,s),this._cursorYPosition!=r&&this.showAxisTooltip(this.yAxes,r,s),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},t.prototype.getClosest=function(e,i,r){var s=1/0,a;return Sm(e,function(o){if(o){var u=o.component.xAxis,c=o.component.yAxis,f=u.positionToCoordinate(u.toGlobalPosition(u.toAxisPosition(i))),p=c.positionToCoordinate(c.toGlobalPosition(c.toAxisPosition(r))),g=o.component.xField,y=o.component.yField;if(u instanceof Qe&&!D(o.getValue(g))||c instanceof Qe&&!D(o.getValue(y)))return!0;var b=u.positionToCoordinate(u.toGlobalPosition(u.getPositionX(o,g,o.locations[g],"valueX"))),x=c.positionToCoordinate(c.toGlobalPosition(c.getPositionY(o,y,o.locations[y],"valueY"))),w=Math.sqrt(Math.pow(f-b,2)+Math.pow(p-x,2));return w<s&&(s=w,a=o),!0}}),a},t.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},t.prototype.updateSeriesLegend=function(){Q(this.series.iterator(),function(e){e.updateLegendValue()})},t.prototype.hideObjectTooltip=function(e){Q(e.iterator(),function(i){i.cursorTooltipEnabled&&i.hideTooltip(0)})},t.prototype.showSeriesTooltip=function(e){var i=this;if(!e){this.series.each(function(s){s.hideTooltip()});return}var r=[];this.series.each(function(s){if(!(s.xAxis instanceof At&&s.xAxis.snapTooltip||s.yAxis instanceof At&&s.yAxis.snapTooltip)){var a=s.showTooltipAtPosition(e.x,e.y);a&&(s.tooltip.setBounds(Tm({x:0,y:0,width:i.pixelWidth,height:i.pixelHeight},i)),r.push({series:s,point:a}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(r)},t.prototype.sortSeriesTooltips=function(e){if(e.length>0){var i=this.cursor;if(i&&D(i.maxTooltipDistance)){var r=Tr({x:i.point.x,y:i.point.y},i),s,a,o=1/0;ce(e,function(ie){var ne=ie.series,Fe=ie.point;if(Fe){var ut={x:Fe.x,y:Fe.y},ze=Math.abs(gt(ut,r));ze<o&&(a=ut,o=ze,s=ne)}});var u=[];s&&(ce(e,function(ie){if(Math.abs(gt(ie.point,a))<=Math.abs(i.maxTooltipDistance))u.push({series:ie.series,point:ie.point});else{var ne=ie.series.tooltipDataItem;ne&&ce(ne.sprites,function(Fe){Fe.isHover=!1,Fe.handleOutReal()}),ie.series.hideTooltip(0)}}),i.maxTooltipDistance<0&&(u.length>0&&ce(u,function(ie){s!=ie.series&&ie.series.hideTooltip(0)}),u=[{series:s,point:a}])),e=u}var c=Tr({x:-.5,y:-.5},this.plotContainer),f=Tr({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),p=0,g=[];ce(e,function(ie){var ne=ie.point;ne&&A0(ne,{x:c.x,y:c.y,width:f.x-c.x,height:f.y-c.y})&&(g.push({point:ne,series:ie.series}),p+=ne.y)}),e=g;var y=this.series.getIndex(0),b=!1;y&&y.yAxis&&y.yAxis.renderer.inversed&&(b=!0),b?e.sort(function(ie,ne){return vn(ie.point.y,ne.point.y)}):(e.sort(function(ie,ne){return vn(ne.point.y,ie.point.y)}),e.reverse());var x=p/e.length,w=q0({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var P=c.y,S=f.y;Wp({x:0,y:P},this);var k=!1;if(x>P+(S-P)/2)for(var T=S,j=e.length-1;j>=0;j--){var V=e[j].series,A=V.tooltip,I=e[j].point.y;if(A.setBounds({x:0,y:-w,width:this.pixelWidth,height:T+w}),A.invalid&&A.validate(),A.toBack(),T=Tr({x:0,y:A.label.pixelY-A.pixelY+I-A.pixelMarginTop},A).y,T<-w){k=!0;break}}if(x<=P+(S-P)/2||k)for(var L=P,j=0,J=e.length;j<J;j++){var V=e[j].series,I=e[j].point.y,A=V.tooltip;A.setBounds({x:0,y:L,width:this.pixelWidth,height:S}),A.invalid&&A.validate(),A.toBack(),L=Tr({x:0,y:A.label.pixelY+A.label.measuredHeight-A.pixelY+I+A.pixelMarginBottom},A).y}}}},t.prototype.showAxisTooltip=function(e,i,r){var s=this;Q(e.iterator(),function(a){(!r||r.indexOf(a)==-1)&&(s.dataItems.length>0||a.dataItems.length>0)&&a.showTooltipAtPosition(i)})},t.prototype.getUpdatedRange=function(e,i){if(e){var r,s,a=e.renderer.inversed;a?(ul(i),r=1-e.end,s=1-e.start):(r=e.start,s=e.end);var o=s-r;return{start:r+i.start*o,end:r+i.end*o}}},t.prototype.handleCursorZoomEnd=function(e){var i=this.cursor,r=i.behavior;if(r=="zoomX"||r=="zoomXY"){var s=i.xRange;s&&this.xAxes.length>0&&(s=this.getUpdatedRange(this.xAxes.getIndex(0),s),s.priority="start",this.zoomAxes(this.xAxes,s))}if(r=="zoomY"||r=="zoomXY"){var a=i.yRange;a&&this.yAxes.length>0&&(a=this.getUpdatedRange(this.yAxes.getIndex(0),a),a.priority="start",this.zoomAxes(this.yAxes,a))}this.handleHideCursor()},t.prototype.handleCursorPanStart=function(e){var i=this.xAxes.getIndex(0);i&&(this._panStartXRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartXRange=ul(this._panStartXRange)));var r=this.yAxes.getIndex(0);r&&(this._panStartYRange={start:r.start,end:r.end},r.renderer.inversed&&(this._panStartYRange=ul(this._panStartYRange)))},t.prototype.handleCursorPanEnd=function(e){var i=this.cursor,r=i.behavior;if(this._panEndXRange&&(r=="panX"||r=="panXY")){var s=this._panEndXRange,a=this._panStartXRange,o=0;s.start<0&&(o=s.start),a.end>1?s.end>a.end&&(o=s.end-a.end):s.end>1&&(o=s.end-1),this.zoomAxes(this.xAxes,{start:s.start-o,end:s.end-o},!1,i.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&(r=="panY"||r=="panXY")){var s=this._panEndYRange,o=0;s.start<0&&(o=s.start),s.end>1&&(o=s.end-1),this.zoomAxes(this.yAxes,{start:s.start-o,end:s.end-o},!1,i.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0}},t.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},t.prototype.handleCursorPanning=function(e){var i=this.cursor,r=i.behavior,s=i.maxPanOut;if(this._panStartXRange&&(r=="panX"||r=="panXY")){var a=this._panStartXRange,o=i.xRange,u=this.getCommonAxisRange(this.xAxes),c=a.end-a.start,f=o.start*(u.end-u.start),p=Math.max(-s,f+a.start),g=Math.min(f+a.end,1+s);p<=0&&(g=p+c),g>=1&&(p=g-c);var y={start:p,end:g};this._panEndXRange=y,this.zoomAxes(this.xAxes,y,!1,!1,i.maxPanOut)}if(this._panStartYRange&&(r=="panY"||r=="panXY")){var a=this._panStartYRange,o=i.yRange,u=this.getCommonAxisRange(this.yAxes),c=a.end-a.start,f=o.start*(u.end-u.start),p=Math.max(-s,f+a.start),g=Math.min(f+a.end,1+s);p<=0&&(g=p+c),g>=1&&(p=g-c);var y={start:p,end:g};this._panEndYRange=y,this.zoomAxes(this.yAxes,y,!1,!1,i.maxPanOut)}this.handleHideCursor()},t.prototype.handleYAxisSet=function(e){},t.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(t.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var i=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var s=i.xAxes.getIndex(0);return s&&(r.value=s.getPositionLabel(s.renderer.inversed?1-r.position:r.position)),r}),e.adapter.add("positionValueDirection",function(r){var s=i.xAxes.getIndex(0);return s&&(r.flipped=s.renderer.inversed),r}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var i=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var s=i.yAxes.getIndex(0);return s&&(r.value=s.getPositionLabel(s.renderer.inversed?r.position:1-r.position)),r}),e.adapter.add("positionValueDirection",function(r){var s=i.yAxes.getIndex(0);return s&&(r.flipped=!s.renderer.inversed),r}))},enumerable:!0,configurable:!0}),t.prototype.handleXScrollbarChange=function(e){if(this.inited){var i=e.target,r=i.range;r.start==0&&(r.priority="start"),r.end==1&&(r.priority="end"),r=this.zoomAxes(this.xAxes,r),i.fixRange(r)}},t.prototype.handleYScrollbarChange=function(e){if(this.inited){var i=e.target,r=i.range;r.end==1&&(r.priority="end"),r.start==0&&(r.priority="start"),r=this.zoomAxes(this.yAxes,r),i.fixRange(r)}},t.prototype.zoomAxes=function(e,i,r,s,a,o){var u={start:0,end:1};this.showSeriesTooltip();var c=i;return this.dataInvalid||Q(e.iterator(),function(f){var p=f.maxZoomFactor;if(D(f.minZoomCount)&&(p=p/f.minZoomCount),!(o&&1/(i.end-i.start)>=p)){if(f.zoomable){if(f.renderer.inversed?i=ul(c):i=c,f.hideTooltip(0),s)if(f instanceof Gt){var g=f.getCellEndPosition(0)-f.getCellStartPosition(0);i.start=f.roundPosition(i.start+g/2-f.startLocation*g,f.startLocation),i.end=f.roundPosition(i.end-g/2+(1-f.endLocation)*g,f.endLocation)}else{var y=1e-4;i.start=f.roundPosition(i.start+y,0,f.startLocation),i.end=f.roundPosition(i.end+y,0,f.endLocation)}var b=f.zoom(i,r,r,a);f.renderer.inversed&&(b=ul(b)),u=b}}}),u},Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(e?this.bulletsContainer.mask=this._bulletMask:this.bulletsContainer.mask=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0)},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var i=this.plotContainer,r=bs(e.point,this.htmlContainer,this.svgContainer.cssScale),s=Jr(r,i),a=e.shift.y;this.handleWheelReal(a,this.mouseWheelBehavior,s)},t.prototype.handleHorizontalWheel=function(e){var i=this.plotContainer,r=bs(e.point,this.htmlContainer,this.svgContainer.cssScale),s=Jr(r,i);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,s)},t.prototype.handleWheelReal=function(e,i,r){if(e!=0){var s=this.plotContainer,a=this.getCommonAxisRange(this.xAxes),o=this.getCommonAxisRange(this.yAxes),u=.1,c=0;if(i=="panX"||i=="panXY"){var f=this.xAxes.getIndex(0),p=!1,g=u;f instanceof Gt&&(g=.5/((a.end-a.start)*f.dataItems.length),p=!0),u=Math.max(.2,g);var y=a.end-a.start,b=Math.max(-c,a.start+u*e/100*(a.end-a.start)),x=Math.min(a.end+u*e/100*(a.end-a.start),1+c);b<=0&&(x=b+y),x>=1&&(b=x-y),this.zoomAxes(this.xAxes,{start:b,end:x},void 0,p)}if(i=="panY"||i=="panXY"){var w=this.yAxes.getIndex(0),g=u,p=!1;w instanceof Gt&&(g=.5/((a.end-a.start)*w.dataItems.length),p=!0),u=Math.max(.2,g),e*=-1;var P=o.end-o.start,S=Math.max(-c,o.start+u*e/100*(o.end-o.start)),k=Math.min(o.end+u*e/100*(o.end-o.start),1+c);S<=0&&(k=S+P),k>=1&&(S=k-P),this.zoomAxes(this.yAxes,{start:S,end:k},void 0,p)}if(i=="zoomX"||i=="zoomXY"){var T=r.x/s.maxWidth,j=this.xAxes.getIndex(0).toAxisPosition(T),b=Math.max(-c,a.start-u*(a.end-a.start)*e/100*T);b=Math.min(b,j);var x=Math.min(a.end+u*(a.end-a.start)*e/100*(1-T),1+c);x=Math.max(x,j),this.zoomAxes(this.xAxes,{start:b,end:x},void 0)}if(i=="zoomY"||i=="zoomXY"){var V=r.y/s.maxHeight,A=this.yAxes.getIndex(0).toAxisPosition(V),S=Math.max(-c,o.start-u*(o.end-o.start)*e/100*(1-V));S=Math.min(S,A);var k=Math.min(o.end+u*e/100*V*(o.end-o.start),1+c);k=Math.max(k,A),this.zoomAxes(this.yAxes,{start:S,end:k},void 0)}}},Object.defineProperty(t.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),t.prototype.dataSourceDateFields=function(e){var i=this;return e=n.prototype.dataSourceDateFields.call(this,e),Q(this.series.iterator(),function(r){e=i.populateDataSourceFields(e,r.dataFields,["dateX","dateY","openDateX","openDateY"])}),e},t.prototype.dataSourceNumberFields=function(e){var i=this;return e=n.prototype.dataSourceDateFields.call(this,e),Q(this.series.iterator(),function(r){e=i.populateDataSourceFields(e,r.dataFields,["valueX","valueY","openValueX","openValueY"])}),e},t.prototype.processConfig=function(e){if(e){var i=[],r=[];if(M(e.xAxes)&&fi(e.xAxes))for(var s=0,a=e.xAxes.length;s<a;s++)if(e.xAxes[s].type){if(M(e.xAxes[s].axisRanges)){for(var o=0,u=e.xAxes[s].axisRanges.length;o<u;o++){var c=e.xAxes[s].axisRanges[o];M(c.date)&&at(c.date)&&(c.date=this.dateFormatter.parse(c.date)),M(c.endDate)&&at(c.endDate)&&(c.endDate=this.dateFormatter.parse(c.endDate))}i.push({axisRanges:e.xAxes[s].axisRanges,index:s}),delete e.xAxes[s].axisRanges}}else throw Error("[XYChart error] No type set for xAxes["+s+"].");if(M(e.yAxes)&&fi(e.yAxes))for(var s=0,a=e.yAxes.length;s<a;s++)if(e.yAxes[s].type){if(M(e.yAxes[s].axisRanges)){for(var o=0,f=e.yAxes[s].axisRanges.length;o<f;o++){var c=e.yAxes[s].axisRanges[o];M(c.date)&&at(c.date)&&(c.date=this.dateFormatter.parse(c.date)),M(c.endDate)&&at(c.endDate)&&(c.endDate=this.dateFormatter.parse(c.endDate))}r.push({axisRanges:e.yAxes[s].axisRanges,index:s}),delete e.yAxes[s].axisRanges}}else throw Error("[XYChart error] No type set for yAxes["+s+"].");if(M(e.series)&&fi(e.series))for(var s=0,a=e.series.length;s<a;s++)e.series[s].type=e.series[s].type||"LineSeries";if(M(e.cursor)&&!M(e.cursor.type)&&(e.cursor.type="XYCursor"),M(e.scrollbarX)&&!M(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),M(e.scrollbarY)&&!M(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),n.prototype.processConfig.call(this,e),r.length)for(var s=0,a=r.length;s<a;s++)this.yAxes.getIndex(r[s].index).config={axisRanges:r[s].axisRanges};if(i.length)for(var s=0,a=i.length;s<a;s++)this.xAxes.getIndex(i[s].index).config={axisRanges:i[s].axisRanges}}},t.prototype.configOrder=function(e,i){return e==i?0:e=="scrollbarX"?1:i=="scrollbarX"?-1:e=="scrollbarY"?1:i=="scrollbarY"?-1:e=="cursor"?1:i=="cursor"?-1:e=="series"?1:i=="series"?-1:n.prototype.configOrder.call(this,e,i)},t.prototype.createSeries=function(){return new ga},Object.defineProperty(t.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var i=this;this._zoomOutButton=e,e&&e.events.on("hit",function(){i.zoomAxes(i.xAxes,{start:0,end:1}),i.zoomAxes(i.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;e.xAxes.each(function(r){var s=i.xAxes.push(r.clone());s.chart=i,s.renderer.chart=i}),e.yAxes.each(function(r){var s=i.yAxes.push(r.clone());s.renderer.chart=i,s.chart=i}),n.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},t.prototype.disposeData=function(){n.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof Qs&&e.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof Qs&&i.scrollbarChart.disposeData(),this.xAxes.each(function(r){r instanceof Gt&&r.disposeData()}),this.yAxes.each(function(r){r instanceof Gt&&r.disposeData()})},t.prototype.addData=function(e,i){this.scrollbarX instanceof Qs&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof Qs&&this.addScrollbarData(this.scrollbarY,i),n.prototype.addData.call(this,e,i)},t.prototype.addScrollbarData=function(e,i){var r=e.scrollbarChart;r._parseDataFrom=r.data.length,r.invalidateData()},t.prototype.removeScrollbarData=function(e,i){var r=e.scrollbarChart;if(D(i)){for(;i>0;){var s=this.dataItems.getIndex(0);s&&r.dataItems.remove(s),r.dataUsers.each(function(a){var o=a.dataItems.getIndex(0);o&&a.dataItems.remove(o)}),r._parseDataFrom--,i--}r.invalidateData()}},t.prototype.removeData=function(e){this.scrollbarX instanceof Qs&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof Qs&&this.removeScrollbarData(this.scrollbarY,e),n.prototype.removeData.call(this,e)},t.prototype.setTapToActivate=function(e){n.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},t.prototype.handleTapToActivate=function(){n.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},t.prototype.handleTapToActivateDeactivation=function(){n.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},t}(Hm);F.registeredClasses.XYChart=Ts;yi.push({relevant:Mi.maybeXS,state:function(n,t){if(n instanceof Ts&&n.scrollbarX){var e=n.states.create(t),i=n.scrollbarX.states.create(t);return i.properties.disabled=!0,e}return null}});yi.push({relevant:Mi.maybeXS,state:function(n,t){if(n instanceof Ts&&n.scrollbarY){var e=n.states.create(t),i=n.scrollbarY.states.create(t);return i.properties.disabled=!0,e}return null}});var $m=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="LineSeriesSegment",e.isMeasured=!1,e.interactionsEnabled=!1,e.layout="none";var i=e.createChild(Ye);e.fillSprite=i,i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e._disposers.push(i);var r=e.createChild(Ye);return e.strokeSprite=r,r.shouldClone=!1,r.fill=Oe(),r.setElement(e.paper.add("path")),r.isMeasured=!1,e._disposers.push(r),e}return t.prototype.drawSegment=function(e,i,r,s){if(!this.disabled)if(e.length>0&&i.length>0&&D(e[0].x)&&D(e[0].y)){var a=pe({x:e[0].x-.2,y:e[0].y-.2})+pe(e[0]),o=this.series;o.smoothing=="bezier"?a+=new Ds(r,s).smooth(e):o.smoothing=="monotoneX"?a+=new jx({closed:!1}).smooth(e):o.smoothing=="monotoneY"&&(a+=new Dx({closed:!1}).smooth(e)),this.strokeOpacity==0||this.strokeSprite.strokeOpacity==0||(this.strokeSprite.path=a),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&D(i[0].x)&&D(i[0].y)&&(a+=K(i[0]),o.smoothing=="bezier"?a+=new Ds(r,s).smooth(i):o.smoothing=="monotoneX"?a+=new jx({closed:!1}).smooth(i):o.smoothing=="monotoneY"&&(a+=new Dx({closed:!1}).smooth(i)),a+=K(e[0]),a+=ti(),this.fillSprite.path=a)}else this.fillSprite.path="",this.strokeSprite.path=""},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e);var i=this.strokeSprite;Qt(e,i.properties,Wt),i.events.copyFrom(e.strokeSprite.events),i.fillOpacity=0;var r=this.fillSprite;Qt(e,r.properties,Wt),r.events.copyFrom(e.fillSprite.events),r.strokeOpacity=0},t}(Se);F.registeredClasses.LineSeriesSegment=$m;var aM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="DurationAxisDataItem",e.applyTheme(),e}return t}(Yc),Jp=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._baseUnit="second",e.className="DurationAxis",e.setPropertyValue("maxZoomFactor",1e6),e.applyTheme(),e}return t.prototype.formatLabel=function(e,i){return this.durationFormatter.format(e,i||this.axisDurationFormat)},t.prototype.adjustMinMax=function(e,i,r,s,a){var o,u,c,f=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),f=="millisecond"||f=="second"||f=="minute"||f=="hour"){s<=1&&(s=1),s=Math.round(s);var p=e,g=i;r===0&&(r=Math.abs(i));var y=r/s,b=[60,30,20,15,10,2,1],x=1;f=="hour"&&(b=[24,12,6,4,2,1]);try{for(var w=Kh(b),P=w.next();!P.done;P=w.next()){var S=P.value;if(r/S>s){x=S;break}}}catch(I){o={error:I}}finally{try{P&&!P.done&&(u=w.return)&&u.call(w)}finally{if(o)throw o.error}}var k=Math.ceil((i-e)/x/s),T=Math.log(Math.abs(k))*Math.LOG10E,j=Math.pow(10,Math.floor(T))/10,V=k/j,A=Pk(b,V);k=A*j,y=x*k,this.durationFormatter.getValueUnit(y,this.baseUnit),e=Math.floor(e/y)*y,i=Math.ceil(i/y)*y,a&&(e-=y,e<0&&p>=0&&(e=0),i+=y,i>0&&g<=0&&(i=0)),c={min:e,max:i,step:y}}else c=n.prototype.adjustMinMax.call(this,e,i,r,s,a);return this.axisDurationFormat=this.durationFormatter.getFormat(c.step,c.max,this.baseUnit),c},Object.defineProperty(t.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i=ee(this.positionToValue(e),this._stepDecimalPlaces),r=this.formatLabel(i,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.baseUnit=e.baseUnit},t}(Qe);F.registeredClasses.DurationAxis=Jp;F.registeredClasses.DurationAxisDataItem=aM;var Xc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="LineSeriesDataItem",e}return t}(Uc),Gm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.minDistance=.5,e.segments=new zt(e.createSegment()),e.segments.template.applyOnClones=!0,e._disposers.push(new Pt(e.segments)),e._disposers.push(e.segments.template),e._segmentsIterator=new km(e.segments,function(){return e.segments.create()}),e._segmentsIterator.createNewItems=!0,e.className="LineSeries",e.strokeOpacity=1,e.fillOpacity=0,e.connect=!0,e.tensionX=1,e.tensionY=1,e.autoGapCount=1.1,e.smoothing="bezier",e.segmentsContainer=e.mainContainer.createChild(Se),e.segmentsContainer.isMeasured=!1,e.bulletsContainer.toFront(),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},t.prototype.createSegment=function(){return new $m},t.prototype.createDataItem=function(){return new Xc},t.prototype.setInitialWorkingValues=function(e){var i=this._yAxis.get(),r=this._xAxis.get();if(this.appeared&&this.visible){var s=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==r&&i instanceof Qe){var a=i.minZoomed;if(s&&(a=s.values.valueY.workingValue),e.setWorkingValue("valueY",a,0),e.setWorkingValue("valueY",e.values.valueY.value),r instanceof At)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(r instanceof Jp&&s){var o=e.valueX;e.setWorkingValue("valueX",s.valueX,0),e.setWorkingValue("valueX",o)}}if(this.baseAxis==i&&r instanceof Qe){var u=r.minZoomed;if(s&&(u=s.values.valueX.workingValue),e.setWorkingValue("valueX",u,0),e.setWorkingValue("valueX",e.values.valueX.value),i instanceof At)e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY);else if(i instanceof Jp&&s){var o=e.valueY;e.setWorkingValue("valueY",s.valueY,0),e.setWorkingValue("valueY",o)}}}else this.baseAxis==r&&i instanceof Qe&&(r instanceof At&&e.setWorkingLocation("dateX",e.locations.dateX),r instanceof Gt&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==i&&r instanceof Qe&&(i instanceof At&&e.setWorkingLocation("dateY",e.locations.dateY),i instanceof Gt&&e.setWorkingLocation("categoryY",e.locations.categoryY))},t.prototype.updateLegendValue=function(e,i){n.prototype.updateLegendValue.call(this,e,i),e&&e.segment&&(this.tooltipColorSource=e.segment)},t.prototype.validate=function(){var e=this;n.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),Q(this.axisRanges.iterator(),function(i){e.openSegmentWrapper(e._adjustedStartIndex,i)}),Q(this._segmentsIterator.iterator(),function(i){i.__disabled=!0}))},t.prototype.sliceData=function(){for(var e=this.startIndex,i=this.endIndex,r=this.startIndex-1;r>=0;r--){var s=this.dataItems.getIndex(r);if(s&&s.hasValue(this._xValueFields)&&s.hasValue(this._yValueFields)){e=r;break}}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);for(var r=this.endIndex,a=this.dataItems.length;r<a;r++){var s=this.dataItems.getIndex(r);if(s&&s.hasValue(this._xValueFields)&&s.hasValue(this._yValueFields)){i=r+1;break}}this._workingStartIndex=e,this._workingEndIndex=i},t.prototype.findAdjustedIndex=function(e,i){var r=this,s=this.propertyFields,a=e;return ce(i,function(o){if(M(s[o]))for(var u=a;u>=0;u--){var c=r.dataItems.getIndex(u);if(c&&M(c.properties[o])){e>u&&(e=u);break}}}),e},t.prototype.openSegmentWrapper=function(e,i){var r={index:e,axisRange:i};do r=this.openSegment(r.index,r.axisRange);while(r)},t.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},t.prototype.openSegment=function(e,i){var r=!1,s=[];e=Math.min(e,this.dataItems.length);var a=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var o,u=!1,c=this.getSegment();c.strokeDasharray=void 0,c.__disabled=!1,i?(c.parent=i.contents,Qt(i.contents,c,Wt)):(Qt(this,c,Wt),c.filters.clear(),c.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var f=this.connect,p=!1,g=e;g<a;g++){var y=this.dataItems.getIndex(g);if(y.segment=c,y.hasProperties&&(g==e?this.updateSegmentProperties(y.properties,c):u=this.updateSegmentProperties(y.properties,c,!0)),y.hasValue(this._xValueFields)&&y.hasValue(this._yValueFields))this.addPoints(s,y,this.xField,this.yField),p=!0;else{if(g==e)continue;if(!f&&p){o=g;break}}if(o=g,this.baseAxis instanceof At){var b=this.dataItems.getIndex(g+1);if(b&&this.baseAxis.makeGap(b,y)){r=!0;break}}if(u)break}return this.closeSegment(c,s,e,o,i,r)},t.prototype.addPoints=function(e,i,r,s,a){var o=this.getPoint(i,r,s,i.workingLocations[r],i.workingLocations[s]);a||(i.point=o),e.push(o)},t.prototype.closeSegment=function(e,i,r,s,a,o){var u=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var c=s;c>=r;c--){var f=this.dataItems.getIndex(c);f.hasValue(this._xValueFields)&&f.hasValue(this._yValueFields)&&this.addPoints(u,f,this.xOpenField,this.yOpenField,!0)}else{var p=this.baseAxis,g=i.length,y=this.xAxis,b=this.yAxis;g>0&&(p==y?(u.push({x:i[g-1].x,y:b.basePoint.y}),u.push({x:i[0].x,y:b.basePoint.y})):(u.push({x:y.basePoint.x,y:i[g-1].y}),u.push({x:y.basePoint.x,y:i[0].y})))}return this.drawSegment(e,i,u),o&&s++,s<this._workingEndIndex-1?{index:s,axisRange:a}:null},t.prototype.drawSegment=function(e,i,r){e.drawSegment(i,r,this.tensionX,this.tensionY)},t.prototype.updateSegmentProperties=function(e,i,r){var s=!1;return Ve(e,function(a,o){if(M(o)){var u=i[a],c=void 0;u&&(u.toString?c=u.toString():c=u);var f=void 0;o&&(o.toString?f=o.toString():f=o),u==o||c!=null&&f!=null&&c==f||(r||(i[a]=o),s=!0)}}),s},Object.defineProperty(t.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=this,r=e.pixelWidth,s=e.pixelHeight;e.disposeChildren();var a=e.createChild(Gr);if(a.shouldClone=!1,Qt(this,a,Wt),a.x2=r,a.y=s/2,a.y2=1e-5,a.visible=!0,this.fillOpacity>0){var o=e.createChild(Ac);Qt(this,o,Wt),o.width=r,o.height=s,o.y=0,o.strokeOpacity=0,o.visible=!0,a.y=0}var u=e.dataItem;u.color=this.stroke,u.colorOrig=this.fill,yr(this.bullets.iterator(),function(c){if(c instanceof bn&&!c.copyToLegendMarker)return!1;var f=!1;if(c instanceof Se&&Q(c.children.iterator(),function(g){if(g instanceof Hi)return f=!0,!0}),!f){var p=c.clone();return p.parent=e,p.isMeasured=!0,p.tooltipText=void 0,p.x=r/2,i.fillOpacity>0?p.y=0:p.y=s/2,p.visible=!0,M(p.fill)||(p.fill=i.fill),M(p.stroke)||(p.stroke=i.stroke),!1}})},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(t.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0)},enumerable:!0,configurable:!0}),t}(ga);F.registeredClasses.LineSeries=Gm;F.registeredClasses.LineSeriesDataItem=Xc;var L1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RadarSeriesDataItem",e.setLocation("dateX",0,0),e.setLocation("dateY",0,0),e.setLocation("categoryX",0,0),e.setLocation("categoryY",0,0),e.applyTheme(),e}return t}(Xc),N1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RadarSeries",e.connectEnds=!0,e.applyTheme(),e}return t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},t.prototype.createDataItem=function(){return new L1},t.prototype.getPoint=function(e,i,r,s,a,o,u){o||(o="valueX"),u||(u="valueY");var c=this.yAxis.getX(e,r,a,u),f=this.yAxis.getY(e,r,a,u),p=gt({x:c,y:f});p==0&&(p=1e-5);var g=this.xAxis.getAngle(e,i,s,o),y=this.chart.startAngle,b=this.chart.endAngle;if(!(g<y||g>b))return{x:p*oe(g),y:p*ae(g)}},t.prototype.addPoints=function(e,i,r,s,a){var o=this.getPoint(i,r,s,i.locations[r],i.locations[s]);o&&e.push(o)},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return vo(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.drawSegment=function(e,i,r){var s=this.yAxis,a=s.renderer;this.connectEnds&&Math.abs(a.endAngle-a.startAngle)==360&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),r.length>0&&r.unshift(r[r.length-1])),n.prototype.drawSegment.call(this,e,i,r)},Object.defineProperty(t.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBulletReal=function(e,i,r){var s=this.xAxis,a=this.yAxis;(i<s.start||i>s.end||r<a.start||r>a.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,r))},t.prototype.setXAxis=function(e){n.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){n.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,i=this.yAxis.renderer;e.axisRendererY=i},t}(Gm);F.registeredClasses.RadarSeries=N1;F.registeredClasses.RadarSeriesDataItem=L1;var z1=function(n){N(t,n);function t(e){var i=n.call(this,e)||this;return i.className="AxisFillCircular",i.element=i.paper.add("path"),i.radius=te(100),i.applyTheme(),i}return t.prototype.draw=function(){if(n.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis){var e=this.axis.renderer;this.fillPath=e.getPositionRangePath(this.startPosition,this.endPosition,this.radius,M(this.innerRadius)?this.innerRadius:e.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(Wm);F.registeredClasses.AxisFillCircular=z1;var B1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t}(Ll);F.registeredClasses.GridCircular=B1;var $c=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.fdx=0,e.fdy=0,e.className="AxisLabelCircular",e.padding(0,0,0,0),e.location=.5,e.locationOnPath=.5,e.radius=0,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!M(e)){this.rotation=void 0;var i=this.dataItem;i&&i.component&&i.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),t.prototype.pixelRadius=function(e){var i=1;return this.inside&&(i=-1),Ft(this.radius,e)*i},t.prototype.pixelRadiusY=function(e,i){var r=1;this.inside&&(r=-1);var s=this.radius;return D(s)?(s*=i/e,Ft(s,e)*r):Ft(s,i)*r},t.prototype.fixPosition=function(e,i,r,s,a){D(r)||(r=i),D(s)||(s=0),D(a)||(a=0);var o={x:i*oe(e),y:r*ae(e)};this.invalid&&this.validate();var u=!1,c=this.radius;(c instanceof st&&c.value<0||c<0)&&(u=!0);var f=this.relativeRotation,p=this.pixelRadius(i);if(this.bent){var g={x:(i+p)*oe(e+180),y:(r+p*r/i)*ae(e+180)};this.path=pe(g)+oi(e+180,360,i+p,r+p*r/i),this.textPathElement&&this.textPathElement.attr({startOffset:this.locationOnPath*100+"%"});return}if(D(f)){this.horizontalCenter="none",this.verticalCenter="none",e=fn(e,-180,180);var y=this.bbox.width,b=this.bbox.height,x=this.pixelPaddingBottom,w=this.pixelPaddingTop,P=this.pixelPaddingLeft,S=this.pixelPaddingRight;e>90||e<-90?f==-90&&(f=90,y=0):(f==-90&&(b=-b),f==90&&(f=-90,y=-P-S,b=-b-w-x)),this.rotation=f+e+90;var k=ae(f)/2,T=oe(f)/2,j=this.rotation;this.dx=b*k*ae(j)-y*T*oe(j),this.dy=-b*k*oe(j)-y*T*ae(j),this.inside?e>90||e<-90?p-=(x+w)*oe(f)+(P+S)*ae(f):p+=(x+this.bbox.height+w)*oe(f)+(P+S+this.bbox.width)*ae(f):p+=(b+x+w)*oe(f)+(y+P+S)*ae(f),o.x+=oe(e)*p,o.y+=ae(e)*p*r/i}else this.horizontalCenter="middle",this.verticalCenter="middle",u?(this.dx=0,this.dy=0,o.x=(i+p)*oe(e),o.y=(r+p*r/i)*ae(e)):(this.dy=this._measuredHeight/2*ae(e),this.dx=this._measuredWidth/2*oe(e),o.x+=oe(e)*p,o.y+=ae(e)*p*r/i);o.x+=s,o.y+=a,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(o)},t}(Ym);F.registeredClasses.AxisLabelCircular=$c;var H1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=te(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return t.prototype.setAxis=function(e){var i=this;n.prototype.setAxis.call(this,e),e.isMeasured=!1;var r=e.tooltip;r.adapter.add("dx",function(s,a){var o=Jr({x:a.pixelX,y:a.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(o.y,o.x))-o.x}),r.adapter.add("dy",function(s,a){var o=Jr({x:a.pixelX,y:a.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(o.y,o.x))-o.y})},t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return di(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e){if(!M(i))i=e.innerRadius,i instanceof st&&e&&(i=te(i.value*e.innerRadiusModifyer*100));else if(i instanceof st&&e){var r=e.mr,s=i.value;s=Math.max(r*s,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r,i=te(s*100)}return i}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return di(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){D(i)||(i=1);var r=this.positionToCoordinate(e),s=this.startAngle+(this.endAngle-this.startAngle)*r/this.axisLength,a=this.pixelRadius,o=this.pixelInnerRadius;if(this.axisRendererY){var u=ge(this.axisRendererY.positionToCoordinate(i),0,1/0);u==0&&(u=1e-6);var c={x:u*oe(s),y:u*ae(s)};return c}return{x:oe(s)*o+(a-o)*oe(s)*i,y:ae(s)*o+(a-o)*ae(s)*i}},t.prototype.positionToAngle=function(e){var i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start),s;return i.renderer.inversed?s=this.startAngle+(i.end-e)*r:s=this.startAngle+(e-i.start)*r,ee(s,3)},t.prototype.angleToPosition=function(e){var i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start),s;return i.renderer.inversed?s=i.end-(e-this.startAngle)/r:s=(e-this.startAngle)/r+i.start,ee(s,5)},t.prototype.updateAxisLine=function(){var e=this.pixelRadius,i=this.startAngle,r=this.endAngle,s=ot(360,r-i);this.line.path=pe({x:e*oe(i),y:e*ae(i)})+oi(i,s,e,e)},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i);if(D(s.x)&&D(s.y)&&e.element){var a=xs*Math.atan2(s.y,s.x),o=di(M(e.radius)?e.radius:te(100),this.pixelRadius),u=di(e.innerRadius,this.pixelRadius);e.zIndex=0;var c=di(D(u)?u:this.innerRadius,this.pixelRadiusReal,!0);D(c)||(c=0),e.path=pe({x:c*oe(a),y:c*ae(a)})+K({x:o*oe(a),y:o*ae(a)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i);if(e.element){var a=this.pixelRadius,o=xs*Math.atan2(s.y,s.x),u=e.length;e.inside&&(u=-u),e.zIndex=1,e.path=pe({x:a*oe(o),y:a*ae(o)})+K({x:(a+u)*oe(o),y:(a+u)*ae(o)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,r){var s=.5;e instanceof Ql&&(s=e.location),i=i+(r-i)*s;var a=this.positionToPoint(i),o=this.pixelRadius,u=xs*Math.atan2(a.y,a.x);a={x:o*oe(u),y:o*ae(u)},this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,r,s){M(s)||(s=e.location),i=i+(r-i)*s,e.fixPosition(this.positionToAngle(i),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i,r,s,a){var o="";if(D(e)&&D(i)){M(r)||(r=this.radius),e=We(e,this.axis.start),i=ot(i,this.axis.end),i<e&&(i=e);var u=di(r,this.pixelRadius),c=di(s,this.pixelRadius,!0),f=this.positionToAngle(e),p=this.positionToAngle(i),g=p-f;o=vo(f,g,u,c,u,a)}return o},t.prototype.createGrid=function(){return new B1},t.prototype.createFill=function(e){return new z1(e)},t.prototype.createLabel=function(){return new $c},t.prototype.pointToPosition=function(e){var i=fn(Ci(e),this.startAngle,this.endAngle);return this.coordinateToPosition((i-this.startAngle)/360*this.axisLength)},t}(Wc);F.registeredClasses.AxisRendererCircular=H1;var W1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._chart=new li,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=te(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return di(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e){if(!M(i))i=e.innerRadius,i instanceof st&&e&&(i=te(i.value*e.innerRadiusModifyer*100));else if(i instanceof st&&e){var r=e.mr,s=i.value;s=Math.max(r*s,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r,i=te(s*100)}}return i},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return di(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var r=ge(this.positionToCoordinate(e),0,1/0);return{x:r*oe(this.axisAngle),y:r*ae(this.axisAngle)}},t.prototype.updateAxisLine=function(){this.line.path=pe({x:this.pixelInnerRadius*oe(this.axisAngle),y:this.pixelInnerRadius*ae(this.axisAngle)})+K({x:this.pixelRadius*oe(this.axisAngle),y:this.pixelRadius*ae(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var i=90;this.opposite?this.inside||(i=-90):this.inside&&(i=-90),e.rotation=i},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i),a,o=gt(s),u=this.startAngle,c=this.endAngle,f=this.chart;if(D(o)&&e.element&&f){var p=f.xAxes.getIndex(0),g=0,y=f.series.getIndex(0);if(y&&(g=y.dataItems.length),this.gridType=="polygons"&&g>0&&y&&p&&p instanceof Gt){var b=p.renderer.grid.template.location,x=p.getAngle(y.dataItems.getIndex(0),"categoryX",b);a=pe({x:o*oe(x),y:o*ae(x)});for(var w=1;w<g;w++)x=p.getAngle(y.dataItems.getIndex(w),"categoryX",b),a+=K({x:o*oe(x),y:o*ae(x)});x=p.getAngle(y.dataItems.getIndex(g-1),"categoryX",p.renderer.cellEndLocation),a+=K({x:o*oe(x),y:o*ae(x)})}else a=pe({x:o*oe(u),y:o*ae(u)})+oi(u,c-u,o,o);e.path=a}this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,r,s){M(s)||(s=e.location),i=i+(r-i)*s;var a=this.positionToPoint(i);this.positionItem(e,a),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBaseGridElement=function(){},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",ua(e)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridType",{get:function(){var e=this.chart.xAxes.getIndex(0);return e instanceof Gt?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0)},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i){var r=this.pixelInnerRadius,s=this.axisLength+r,a=ge(this.positionToCoordinate(e),r,s),o=ge(this.positionToCoordinate(i),r,s),u=this.startAngle,c=this.endAngle,f=c-u,p,g=this.chart,y=g.xAxes.getIndex(0),b=g.series.getIndex(0),x=0;if(b&&(x=b.dataItems.length),this.gridType=="polygons"&&x>0&&b&&y&&y instanceof Gt){var w=y.renderer.grid.template.location,P=y.getAngle(b.dataItems.getIndex(0),"categoryX",w);p=pe({x:o*oe(P),y:o*ae(P)});for(var S=1;S<x;S++)P=y.getAngle(b.dataItems.getIndex(S),"categoryX",w),p+=K({x:o*oe(P),y:o*ae(P)});P=y.getAngle(b.dataItems.getIndex(x-1),"categoryX",y.renderer.cellEndLocation),p+=K({x:o*oe(P),y:o*ae(P)}),p+=pe({x:a*oe(P),y:a*ae(P)});for(var S=x-1;S>=0;S--)P=y.getAngle(b.dataItems.getIndex(S),"categoryX",w),p+=K({x:a*oe(P),y:a*ae(P)})}else p=vo(u,f,o,a);return p},t.prototype.updateBreakElement=function(e){var i=e.startLine,r=e.endLine,s=e.fillShape,a=e.startPoint,o=e.endPoint;i.radius=Math.abs(a.y),r.radius=Math.abs(o.y),s.radius=Math.abs(o.y),s.innerRadius=Math.abs(a.y)},t.prototype.createBreakSprites=function(e){e.startLine=new Lh,e.endLine=new Lh,e.fillShape=new Lh},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=4e3,r=-4e3,s=-4e3,a=i*2,o=i*2,u=this.axisAngle;u<0&&(u+=360);var c="vertical";(u>45&&u<135||u>225&&u<315)&&(c="horizontal"),this.axis.updateTooltip(c,{x:r,y:s,width:a,height:o})}},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i);if(e.element){var a=ua(this.axisAngle+90);a/90!=Math.round(a/90)?e.pixelPerfect=!1:e.pixelPerfect=!0;var o=-e.length;e.inside&&(o*=-1),e.path=pe({x:0,y:0})+K({x:o*oe(a),y:o*ae(a)})}this.positionItem(e,s),this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,r){var s=.5;e instanceof Ql&&(s=e.location),i=i+(r-i)*s;var a=this.positionToPoint(i);this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,s=r.axisFullLength,a=this.pixelInnerRadius;return r.renderer.inversed?i=(r.end-e)*s+a:i=(e-r.start)*s+a,ee(i,1)},t.prototype.pointToPosition=function(e){var i=gt(e)-this.pixelInnerRadius;return this.coordinateToPosition(i)},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t}(en);F.registeredClasses.AxisRendererRadial=W1;var oM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RadarChartDataItem",e.applyTheme(),e}return t}(Xm),Y1=function(n){N(t,n);function t(){var e=n.call(this)||this;e._axisRendererX=H1,e._axisRendererY=W1,e.innerRadiusModifyer=1,e.mr=1,e.className="RadarChart",e.startAngle=-90,e.endAngle=270,e.radius=te(80),e.innerRadius=0;var i=e.plotContainer.createChild(Se);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",e.seriesContainer.parent=i,e.radarContainer=i,e.bulletsContainer.parent=i,e.axisBulletsContainer=i,e._cursorContainer=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e._bulletMask=i.createChild(ba),e._bulletMask.shouldClone=!1,e._bulletMask.element=e.paper.add("path"),e._bulletMask.opacity=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},t.prototype.processAxis=function(e){n.prototype.processAxis.call(this,e);var i=e.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,e.parent=this.radarContainer,i.toBack()},t.prototype.handleXAxisRangeChange=function(){n.prototype.handleXAxisRangeChange.call(this),Q(this.yAxes.iterator(),function(e){e.invalidate()})},t.prototype.handleYAxisRangeChange=function(){n.prototype.handleYAxisRangeChange.call(this),Q(this.xAxes.iterator(),function(e){e.invalidate()})},t.prototype.processConfig=function(e){if(e&&(M(e.cursor)&&!M(e.cursor.type)&&(e.cursor.type="RadarCursor"),M(e.series)&&fi(e.series)))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"RadarSeries";n.prototype.processConfig.call(this,e)},t.prototype.beforeDraw=function(){n.prototype.beforeDraw.call(this);var e=this.plotContainer,i=yn(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},s=e.innerWidth/i.width,a=e.innerHeight/i.height,o=this.innerRadius;if(o instanceof st){var u=o.value,c=Math.min(s,a);this.mr=c,u=Math.max(c*u,c-Math.min(e.innerHeight,e.innerWidth))/c,r=yn(this.startAngle,this.endAngle,u),this.innerRadiusModifyer=u/o.value,o=te(u*100)}i=Yl([i,r]);var f=Math.min(e.innerWidth/i.width,e.innerHeight/i.height),p=di(this.radius,f)*2||0,g=p/2,y=this.startAngle,b=this.endAngle;this._pixelInnerRadius=di(o,g),this._bulletMask.path=vo(y,b-y,g,this._pixelInnerRadius),Q(this.xAxes.iterator(),function(w){w.renderer.useChartAngles&&(w.renderer.startAngle=y,w.renderer.endAngle=b),w.width=p,w.height=p,w.renderer.pixelRadiusReal=g}),Q(this.yAxes.iterator(),function(w){w.renderer.startAngle=y,w.renderer.endAngle=b,w.width=p,w.height=p,w.renderer.pixelRadiusReal=g});var x=this.cursor;x&&(x.width=p,x.height=p,x.startAngle=y,x.endAngle=b),this.radarContainer.definedBBox={x:g*i.x,y:g*i.y,width:g*i.width,height:g*i.height},this.radarContainer.validatePosition()},t.prototype.createSeries=function(){return new N1},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.updateXAxis=function(e){e&&e.processRenderer()},t.prototype.updateYAxis=function(e){e&&e.processRenderer()},t}(Ts);F.registeredClasses.RadarChart=Y1;var U1=function(n){N(t,n);function t(){var e=n.call(this)||this;e._axis=new li,e.className="ClockHand";var i=new ft;e.fill=i.getFor("alternativeBackground"),e.stroke=e.fill;var r=new ba;r.radius=5,e.pin=r,e.isMeasured=!1,e.startWidth=5,e.endWidth=1,e.width=te(100),e.height=te(100),e.radius=te(100),e.innerRadius=te(0);var s=new x1;return e.hand=s,e._disposers.push(e._axis),e.applyTheme(),e}return t.prototype.validate=function(){n.prototype.validate.call(this);var e=this.hand;e.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(e.height=i,e.leftSide=te(this.startWidth/i*100),e.rightSide=te(this.endWidth/i*100),this.axis){var r=this.axis.renderer,s=di(this.innerRadius,r.pixelRadius),a=di(this.radius,r.pixelRadius);e.x=s,e.y=-i/2,e.width=a-s}},Object.defineProperty(t.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),t.prototype.showValue=function(e,i,r){if(this._value=e,e!=null&&(D(i)||(i=0),this.axis)){var s=this.axis.renderer,a=s.positionToAngle(this.axis.anyToPosition(e)),o=this.rotation;this.rotationDirection=="clockWise"&&a<o&&(this.rotation=o-360),this.rotationDirection=="counterClockWise"&&a>o&&(this.rotation=o+360),this.animate({property:"rotation",to:a},i,r)}},Object.defineProperty(t.prototype,"currentPosition",{get:function(){if(this.axis){var e=this.axis.renderer;return e.angleToPosition(this.rotation)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new Lt([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var i=e.chart;i&&(this.rotation=i.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.value=this.value},t.prototype.processConfig=function(e){e&&M(e.axis)&&at(e.axis)&&this.map.hasKey(e.axis)&&(e.axis=this.map.getKey(e.axis)),n.prototype.processConfig.call(this,e)},t}(Se);F.registeredClasses.ClockHand=U1;(function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="GaugeChartDataItem",e.applyTheme(),e}return t})(oM);var lM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="GaugeChart",e.startAngle=180,e.endAngle=360,e.hands=new zt(new U1),e.hands.events.on("inserted",e.processHand,e,!1),e._disposers.push(new Pt(e.hands)),e._disposers.push(e.hands.template),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},t.prototype.processHand=function(e){var i=e.newValue;i.axis||(i.axis=this.xAxes.getIndex(0))},t.prototype.configOrder=function(e,i){return e==i?0:e=="hands"?1:i=="hands"?-1:n.prototype.configOrder.call(this,e,i)},t}(Y1);F.registeredClasses.GaugeChart=lM;var Gc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PercentSeriesDataItem",e.applyTheme(),e}return t.prototype.uidAttr=function(){return this.slice.uidAttr()},t.prototype.hide=function(e,i,r,s){return s||(s=["value"]),n.prototype.hide.call(this,e,i,0,s)},t.prototype.setVisibility=function(e,i){i||(e?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),n.prototype.setVisibility.call(this,e,i)},t.prototype.show=function(e,i,r){return r||(r=["value"]),n.prototype.show.call(this,e,i,r)},Object.defineProperty(t.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){var e=this;if(!this._tick){var i=this.component.ticks.create();this._tick=i,this.addSprite(i),this._disposers.push(i),i.parent=this.component.ticksContainer,this._disposers.push(new vt(function(){e.component&&e.component.ticks.removeValue(i)})),i.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this.addSprite(i),this._label=i,this._disposers.push(i),i.parent=this.component.labelsContainer,this._disposers.push(new vt(function(){e.component&&e.component.labels.removeValue(i)})),i.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){var e=this;if(!this._slice){var i=this.component,r=i.slices.create();this.addSprite(r),this._slice=r,this._disposers.push(r),r.parent=i.slicesContainer,this._disposers.push(new vt(function(){i.slices.removeValue(r)})),r.visible=this.visible,i.itemsFocusable()?(M(this.component.role)||(this.component.role="menu"),M(r.role)||(r.role="menuitem"),r.focusable=!0):(M(this.component.role)||(this.component.role="list"),M(r.role)||(r.role="listitem"),r.focusable=!1),r.focusable&&(r.events.on("focus",function(s){r.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),r.events.on("blur",function(s){r.readerTitle=""},void 0,!1)),r.hoverable&&(r.events.on("over",function(s){r.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),r.events.on("out",function(s){r.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),t}(Nc),ql=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="PercentSeries",e._addAllDataItems=!1,e.colors=new Gl,e.colors.step=1,e.isMeasured=!0,e.calculatePercent=!0;var i=e.createChild(Se);i.shouldClone=!1,i.isMeasured=!1,e.slicesContainer=i;var r=e.createChild(Se);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",e.ticksContainer=r;var s=e.createChild(Se);s.shouldClone=!1,s.isMeasured=!1,s.layout="none",e.labelsContainer=s,e.alignLabels=!1,e.bulletsContainer.toFront(),e.skipFocusThreshold=50;var a=e.defaultState;return a.transitionEasing=r1,e.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",e.applyTheme(),e}return t.prototype.createSlice=function(){return new Ye},t.prototype.createTick=function(){return new Zl},t.prototype.createLabel=function(){return new Hi},Object.defineProperty(t.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new zt(e),this._disposers.push(new Pt(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new zt(e),this._disposers.push(new Pt(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new zt(e),this._disposers.push(new Pt(this._labels))}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new Gc},t.prototype.initSlice=function(e){},t.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0p')}",e.isMeasured=!1,e.padding(5,5,5,5)},t.prototype.initTick=function(e){},t.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),n.prototype.validateDataItems.call(this)},t.prototype.validateDataElement=function(e){var i=e.slice;i&&(i.fill==null?this.patterns?(M(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),M(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof ht&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next():this.colors.currentStep+=this.colors.step,i.stroke==null&&(i.stroke=i.fill)),n.prototype.validateDataElement.call(this,e),i&&e.bullets.each(function(r,s){s.fill==null&&(s.fill=i.fill),s.stroke==null&&(s.stroke=i.stroke)}),this.updateLegendValue(e)},t.prototype.validateData=function(){n.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},t.prototype.arrangeLabels=function(e){for(var i=0,r=e.length;i<r;i++){var s=e[i],a=s.label;if(a){a.invalid&&a.validate();var o=a.measuredHeight;a.visible||(o=0),a.pixelY-o/2<-this.maxHeight/2&&(a.y=-this.maxHeight/2+o/2);var u=this.getNextLabel(i+1,e),c=a.pixelY+o/2;if(u){u.invalid&&u.validate();var f=u.measuredHeight;u.visible||(f=0);var p=u.pixelY;p==null&&(p=0),p-f/2<c&&(u.y=c+f/2)}}}},t.prototype.arrangeLabels2=function(e){for(var i=this.maxHeight/2,r=e.length-1;r>=0;r--){var s=e[r],a=s.label;if(a){a.invalid&&a.validate();var o=a.measuredHeight;a.visible||(o=0),a.pixelY+o/2>i&&(a.y=i-o/2,i=a.y-o/2)}}},t.prototype.getNextLabel=function(e,i){if(i.length>=e){var r=i[e];if(r)return r.label?r.visible?r.label:this.getNextLabel(e+1,i):this.getNextLabel(e+1,i)}},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e,i){Q(e.children.iterator(),function(r){var s=i.slice;r.defaultState.properties.fill=s.fill,r.defaultState.properties.stroke=s.stroke,r.defaultState.properties.fillOpacity=s.fillOpacity,r.defaultState.properties.strokeOpacity=s.strokeOpacity,r.fill=s.fill,r.stroke=s.stroke,r.fillOpacity=s.fillOpacity,r.strokeOpacity=s.strokeOpacity,r.fill==null&&(r.__disabled=!0);var a=e.dataItem;a.color=s.fill,a.colorOrig=s.fill,r.addDisposer(s.events.on("propertychanged",function(o){o.property=="fill"&&(r.__disabled=!1,r.isActive||(r.fill=s.fill),r.defaultState.properties.fill=s.fill,a.color=s.fill,a.colorOrig=s.fill),o.property=="stroke"&&(r.isActive||(r.stroke=s.stroke),r.defaultState.properties.stroke=s.stroke),o.property=="strokeOpacity"&&(r.isActive||(r.strokeOpacity=s.strokeOpacity),r.defaultState.properties.strokeOpacity=s.strokeOpacity)},void 0,!1))})},t.prototype.handleSliceScale=function(e){var i=this,r=e.target,s=r.dataItem;s&&s.bullets&&Q(s.bullets.iterator(),function(a){var o=a[1];i.positionBullet(o)})},t.prototype.handleSliceMove=function(e){},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.slices.template.copyFrom(e.slices.template),this.labels.template.copyFrom(e.labels.template),this.ticks.template.copyFrom(e.ticks.template),this.colors=e.colors.clone()},Object.defineProperty(t.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),t.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(t.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e){if(e){var i=e.legendDataItem,r=e.legendSettings;i&&r&&r&&(r.labelText&&(i.label.text=r.labelText),r.itemLabelText&&(i.label.text=r.itemLabelText),r.valueText&&(i.valueLabel.text=r.valueText),r.itemValueText&&(i.valueLabel.text=r.itemValueText))}},t}(zc);F.registeredClasses.PercentSeries=ql;F.registeredClasses.PercentSeriesDataItem=Gc;yi.push({relevant:Mi.maybeXS,state:function(n,t){if(n instanceof ql){var e=n.states.create(t),i=n.labels.template.states.create(t);i.properties.disabled=!0;var r=n.ticks.template.states.create(t);return r.properties.disabled=!0,e}return null}});var Km=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PercentChartDataItem",e.applyTheme(),e}return t}(M1),Zm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PercentChart",e.align="none",e.valign="none",e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.applyTheme(),e}return t.prototype.validateData=function(){n.prototype.validateData.call(this),this.feedLegend()},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];Q(this.series.iterator(),function(r){r.hiddenInLegend||Q(r.dataItems.iterator(),function(s){s.hiddenInLegend||(i.push(s),s.legendSettings||(s.legendSettings=r.legendSettings))})}),e.data=i,e.dataFields.name="category"}},t.prototype.createSeries=function(){return new ql},t.prototype.setLegend=function(e){n.prototype.setLegend.call(this,e),e&&(e.labels.template.text="{category}",e.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",e.itemContainers.template.events.on("over",function(i){var r=i.target.dataItem.dataContext;if(r.visible&&!r.isHiding){var s=r.slice;s.dispatchImmediately("over"),s.isHover=!0,s.interactions.isRealHover=!0}}),e.itemContainers.template.events.on("out",function(i){var r=i.target.dataItem.dataContext,s=r.slice;s.dispatchImmediately("out"),s.isHover=!1}))},t}(Hm);F.registeredClasses.PercentChart=Zm;F.registeredClasses.PercentChartDataItem=Km;var X1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._label=new li,e._slice=new li,e.className="PieTick",e.element=e.paper.add("polyline"),e._disposers.push(e._label),e._disposers.push(e._slice),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.slice,i=this.label,r=e.dataItem.component;if(e&&e.radius>0&&i&&i.text){var s=e.dx+e.slice.dx+e.pixelX+e.ix*e.radius*e.scale,a=e.dy+e.slice.dy+e.pixelY+e.iy*e.radiusY*e.scale,o=void 0,u=void 0,c=void 0,f=void 0;if(r.alignLabels)o=i.pixelX-this.length,u=i.pixelY,c=i.pixelX,f=u,i.horizontalCenter=="right"&&(o+=2*this.length,c=o-this.length);else{var p=i.pixelRadius(e.radius);o=s+p*e.ix,u=a+p*e.iy,c=o,f=u}this.element.attr({points:[s,a,o,u,c,f]})}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Lt([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),t}(Zl);F.registeredClasses.PieTick=X1;var Qm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PieSeriesDataItem",e.values.radiusValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,s){return n.prototype.hide.call(this,e,i,0,["value","radiusValue"])},t.prototype.show=function(e,i,r){return n.prototype.show.call(this,e,i,["value","radiusValue"])},t}(Gc),xo=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PieSeries",e.alignLabels=!0,e.layout="none",e.labels.template.radius=te(5),e.addDisposer(e.labels.template.events.on("enabled",e.invalidate,e,!1)),e.applyTheme(),e}return t.prototype.createSlice=function(){return new ma},t.prototype.createTick=function(){return new X1},t.prototype.createLabel=function(){return new $c},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},t.prototype.createDataItem=function(){return new Qm},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var i=e.states.create("hover");i.properties.scale=1.05;var r=e.defaultState;r.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",function(a){a.target.hideTooltip(),a.target.interactions.lastHitPointer&&a.target.interactions.lastHitPointer.touch&&!a.target.isActive&&(a.target.isHover=!1)});var s=e.states.create("active");s.properties.shiftRadius=.1},t.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=yn(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var e=this.startIndex;e<this.endIndex;e++){var i=this.dataItems.getIndex(e),r=i.values.radiusValue.percent;r>this._maxRadiusPercent&&(this._maxRadiusPercent=r)}n.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(s,a){var o=(s.slice.middleAngle+360)%360,u=(a.slice.middleAngle+360)%360;return o>270&&(o-=360),u>270&&(u-=360),o<u?-1:o>u?1:0}),this._leftItems.sort(function(s,a){var o=(s.slice.middleAngle+360)%360,u=(a.slice.middleAngle+360)%360;return o<u?1:o>u?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},t.prototype.validateDataElement=function(e){if(this.pixelRadius>0){this.ignoreZeroValues&&(e.value==0||e.value==null)?e.__disabled=!0:e.__disabled=!1;var i=e.slice;if(i.radius=this.pixelRadius,D(e.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*e.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof st||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(e.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var r=e.label,s=e.tick;s.slice=i,s.label=r;var a=(i.middleAngle+360)%360,o=void 0;if(this.alignLabels){var u=r.pixelRadius(i.radius),c=s.length+u;r.dx=0,r.dy=0,r.verticalCenter="middle";var f=this._arcRect;a>270||a<=90?(c+=(f.width+f.x)*this.pixelRadius,r.horizontalCenter="left",this._rightItems.push(e)):(c-=f.x*this.pixelRadius,r.horizontalCenter="right",this._leftItems.push(e),c*=-1);var p=i.radius+s.length+u;o={x:c,y:i.iy*p},r.moveTo(o)}else{var g=i.depth;D(g)||(g=0),r.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-g)}}this._currentStartAngle+=i.arc,n.prototype.validateDataElement.call(this,e)}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return D(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",ua(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return D(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice,s=e.locationX;D(s)||(s=.5);var a=e.locationY;D(a)||(a=1);var o=r.startAngle+r.arc*s;e.x=a*r.radius*oe(o),e.y=a*r.radiusY*ae(o)},t.prototype.handleSliceMove=function(e){if(!this.alignLabels){var i=e.target,r=i.dataItem;if(r){var s=r.label;s&&(s.dx=s.fdx+i.dx+i.pixelX,s.dy=s.fdy+i.dy+i.pixelY)}}},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?yn(e.startAngle,e.endAngle,this.pixelRadius):yn(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),t}(ql);F.registeredClasses.PieSeries=xo;F.registeredClasses.PieSeriesDataItem=Qm;var $1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PieChartDataItem",e.applyTheme(),e}return t}(Km),Jl=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="PieChart",e.innerRadius=0,e.radius=te(80),e.align="none",e.valign="none",e.startAngle=-90,e.endAngle=270;var i=e.seriesContainer;return i.isMeasured=!0,i.valign="middle",i.align="center",i.layout="absolute",i.width=void 0,i.height=void 0,e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.chartContainer.events.on("maxsizechanged",e.updateRadius,e,!1),e._disposers.push(e.seriesContainer.events.on("positionchanged",function(){e.bulletsContainer.x=e.seriesContainer.x,e.bulletsContainer.y=e.seriesContainer.y})),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},t.prototype.validateLayout=function(){n.prototype.validateLayout.call(this),this.updateRadius()},t.prototype.handleSeriesAdded=function(e){n.prototype.handleSeriesAdded.call(this,e),this._chartPixelRadius=void 0,this.updateSeriesAngles()},t.prototype.updateSeriesAngles=function(){var e=this;this.series.each(function(i){i._startAngleInternal=e.startAngle,i._endAngleInternal=e.endAngle})},t.prototype.updateRadius=function(){var e=this.chartContainer,i=yn(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},s=this.innerRadius;s instanceof st&&(r=yn(this.startAngle,this.endAngle,s.value)),i=Yl([i,r]);var a=Math.min(e.innerWidth/i.width,e.innerHeight/i.height);D(a)||(a=0);var o=di(this.radius,a),u=di(this.innerRadius,a),c=(o-u)/this.series.length;(o!=this._chartPixelRadius||u!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=o,this._chartPixelInnerRadius=u,Q(ca(this.series.iterator()),function(f){var p=f[0],g=f[1],y=u+di(g.radius,o-u),b=u+di(g.innerRadius,o-u);D(y)||(y=u+c*(p+1)),D(b)||(b=u+c*p),g.pixelRadius=y,g.pixelInnerRadius=b}),this.seriesContainer.definedBBox={x:o*i.x,y:o*i.y,width:o*i.width,height:o*i.height},this.seriesContainer.invalidateLayout())},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new xo},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),t}(Zm);F.registeredClasses.PieChart=Jl;F.registeredClasses.PieChartDataItem=$1;var G1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PieSeries3DDataItem",e.values.depthValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),t}(Qm),K1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PieSeries3D",e.applyTheme(),e}return t.prototype.createDataItem=function(){return new G1},t.prototype.createSlice=function(){return new QT},t.prototype.validateDataElement=function(e){var i=e.slice,r=this.depth;D(r)||(r=this.chart.depth);var s=e.values.depthValue.percent;D(s)||(s=100),i.depth=s*r/100;var a=this.angle;D(a)||(a=this.chart.angle),i.angle=a,n.prototype.validateDataElement.call(this,e)},t.prototype.validate=function(){n.prototype.validate.call(this);for(var e=this._workingStartIndex;e<this._workingEndIndex;e++){var i=this.dataItems.getIndex(e),r=i.slice,s=r.startAngle;s>=-90&&s<90?r.toFront():s>=90&&r.toBack()}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice;e.y=e.pixelY-r.depth},t}(xo);F.registeredClasses.PieSeries3D=K1;F.registeredClasses.PieSeries3DDataItem=G1;(function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PieChart3DDataItem",e.applyTheme(),e}return t})($1);var uM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PieChart3D",e.depth=20,e.angle=10,e.applyTheme(),e}return Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=ge(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new K1},t}(Jl);F.registeredClasses.PieChart3D=uM;var hM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="SlicedChartDataItem",e.applyTheme(),e}return t}(Km),cM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="SlicedChart",e.seriesContainer.layout="horizontal",e.padding(15,15,15,15),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},t.prototype.validate=function(){n.prototype.validate.call(this)},t}(Zm);F.registeredClasses.SlicedChart=cM;F.registeredClasses.SlicedChartDataItem=hM;var Kc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.legendSettings=new T1,e.className="FlowDiagramNode",e.isMeasured=!1,new ft,e.draggable=!0,e.inert=!0,e.setStateOnChildren=!0,e.events.on("positionchanged",e.invalidateLinks,e,!1),e.events.on("sizechanged",e.invalidateLinks,e,!1),e}return t.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},t.prototype.show=function(e){var i=n.prototype.show.call(this,e);return this.outgoingDataItems.each(function(r){(!r.toNode||r.toNode&&!r.toNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),this.incomingDataItems.each(function(r){(!r.fromNode||r.fromNode&&!r.fromNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),i},t.prototype.hide=function(e){var i=n.prototype.hide.call(this,e);return this.outgoingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),this.incomingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),i},t.prototype.validate=function(){this.isDisposed()||(n.prototype.validate.call(this),this.invalidateLinks())},t.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each(function(i){var r=i.link;if(r.colorMode=="fromNode"&&(r.fill=r.dataItem.fromNode.color),r.colorMode=="gradient"){r.fill=r.gradient,r.stroke=r.gradient;var s=r.gradient.stops.getIndex(0);s&&(s.color=e.color,r.gradient.validate())}}),this.incomingDataItems.each(function(i){var r=i.link;if(r.colorMode=="toNode"&&(r.fill=r.dataItem.toNode.color),r.colorMode=="gradient"){r.fill=r.gradient,r.stroke=r.gradient;var s=r.gradient.stops.getIndex(1);s&&(s.color=e.color,r.gradient.validate())}})},Object.defineProperty(t.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var i=new ct;i.events.on("inserted",function(){e.chart.sortBy=="name"?e._incomingSorted=io(e._incomingDataItems.iterator(),function(r,s){return Vp(r.fromName,s.fromName)}):e.chart.sortBy=="value"?e._incomingSorted=io(e._incomingDataItems.iterator(),function(r,s){return Ap(vn(r.value,s.value))}):e._incomingSorted=e._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=i}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var i=new ct;i.events.on("inserted",function(){e.chart.sortBy=="name"?e._outgoingSorted=io(e._outgoingDataItems.iterator(),function(r,s){return Vp(r.fromName,s.fromName)}):e.chart.sortBy=="value"?e._outgoingSorted=io(e._outgoingDataItems.iterator(),function(r,s){return Ap(vn(r.value,s.value))}):e._outgoingSorted=e._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=i}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var s=e.createChild(_n);s.shouldClone=!1,Qt(this,s,Wt),s.stroke=this.fill,s.copyFrom(this),s.padding(0,0,0,0),s.width=i,s.height=r;var a=e.dataItem;a.color=s.fill,a.colorOrig=s.fill},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.FlowDiagramNode=Kc;var Zc=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="FlowDiagramLink";var i=new ft;return e.maskBullets=!1,e.colorMode="fromNode",e.layout="none",e.isMeasured=!1,e.startAngle=0,e.endAngle=0,e.strokeOpacity=0,e.verticalCenter="none",e.horizontalCenter="none",e.tooltipText="{fromName}→{toName}:{value.value}",e.tooltipLocation=.5,e.link=e.createChild(Ye),e.link.shouldClone=!1,e.link.setElement(e.paper.add("path")),e.link.isMeasured=!1,e.fillOpacity=.2,e.fill=i.getFor("alternativeBackground"),e.applyTheme(),e}return t.prototype.positionBullets=function(){var e=this;Q(this.bullets.iterator(),function(i){i.parent=e.bulletsContainer,i.maxWidth=e.maxWidth,i.maxHeight=e.maxHeight,e.positionBullet(i)})},Object.defineProperty(t.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(Se);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(Ye);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){var i=e.locationX;D(i)||(i=e.locationY),D(i)||(i=.5);var r=this.middleLine.positionToPoint(i);e.moveTo(r);var s=e.propertyFields.rotation,a;if(e.dataItem){var o=e.dataItem.dataContext;a=o[s]}D(a)||(a=r.angle),e.rotation=a},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if(e=="gradient"){var i=this.fill;this.gradient.stops.clear(),i instanceof ht&&(this.gradient.addColor(i),this.gradient.addColor(i)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){n.prototype.setFill.call(this,e);var i=this._gradient;i&&e instanceof ht&&(i.stops.clear(),i.addColor(e),i.addColor(e))},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new zt(new bn),this._disposers.push(new Pt(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(i){i.newValue.events.on("propertychanged",function(r){(r.property=="locationX"||r.property=="locationY")&&e.positionBullet(r.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.bullets.copyFrom(e.bullets);var i=this.middleLine;i&&(i instanceof Gr&&e.middleLine instanceof Gr&&i.copyFrom(e.middleLine),i instanceof Rl&&e.middleLine instanceof Rl&&i.copyFrom(e.middleLine)),this.link.copyFrom(e.link)},t.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},t.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new Er),this._gradient},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.FlowDiagramLink=Zc;var qm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="FlowDiagramDataItem",e.values.value={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",Or(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){var e=this;if(!this._link){var i=this.component.links.create();this._link=i,this.addSprite(i),this._disposers.push(new vt(function(){e.component&&e.component.links.removeValue(i)}))}return this._link},enumerable:!0,configurable:!0}),t}(O1),Jm=function(n){N(t,n);function t(){var e=n.call(this)||this;e.colors=new Gl,e.className="FlowDiagram",e.nodePadding=20,e.sortBy="none",e.sequencedInterpolation=!0,e.colors.step=2,e.minNodeSize=.02;var i=e.chartContainer.createChild(Se);i.shouldClone=!1,i.layout="none",i.isMeasured=!1,e.linksContainer=i;var r=e.chartContainer.createChild(Se);return r.shouldClone=!1,r.layout="none",r.isMeasured=!1,e.nodesContainer=r,e.dataItem=e.createDataItem(),e.dataItem.component=e,e.applyTheme(),e}return t.prototype.dispose=function(){n.prototype.dispose.call(this),this.dataItem.dispose()},t.prototype.validateData=function(){var e=this;this._parseDataFrom==0&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),n.prototype.validateData.call(this);var i=0,r=0,s,a;Q(this.dataItems.iterator(),function(u){var c=u.fromName;if(c){var f=e.nodes.getKey(c);f||(f=e.nodes.create(c),f.name=c,f.chart=e,f.dataItem=u),u.fromNode=f,u.fromNode.outgoingDataItems.push(u)}var p=u.toName;if(p){var f=e.nodes.getKey(p);f||(f=e.nodes.create(p),f.name=p,f.chart=e,f.dataItem=u),u.toNode=f,u.toNode.incomingDataItems.push(u)}if(!u.fromNode){var g=new pc;g.opacities=[0,1],u.link.strokeModifier=g}if(!u.toNode){var y=new pc;y.opacities=[1,0],u.link.strokeModifier=y}var b=u.value;D(b)&&(i+=b,r++,(s>b||!D(s))&&(s=b),(a<b||!D(a))&&(a=b))});var o="value";this.dataItem.setCalculatedValue(o,a,"high"),this.dataItem.setCalculatedValue(o,s,"low"),this.dataItem.setCalculatedValue(o,i,"sum"),this.dataItem.setCalculatedValue(o,i/r,"average"),this.dataItem.setCalculatedValue(o,r,"count"),Q(this.nodes.iterator(),function(u){var c=u[1];c.fill instanceof ht&&(c.color=c.fill),c.color==null&&(c.color=e.colors.next()),c.dataItem.color!=null&&(c.color=c.dataItem.color),c.dataItem.visible||c.hide(0),e.getNodeValue(c)}),this.sortNodes(),this.feedLegend()},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.invalidate()},t.prototype.sortNodes=function(){this.sortBy=="name"?this._sorted=this.nodes.sortedIterator():this.sortBy=="value"?this._sorted=io(this.nodes.iterator(),function(e,i){return Ap(vn(e[1].total,i[1].total))}):this._sorted=this.nodes.iterator()},t.prototype.getNodeValue=function(e){var i=0,r=0;Q(e.incomingDataItems.iterator(),function(s){var a=s.getWorkingValue("value");D(a)&&(i+=a)}),Q(e.outgoingDataItems.iterator(),function(s){var a=s.getWorkingValue("value");D(a)&&(r+=a)}),e.total=i+r,e.totalIncoming=i,e.totalOutgoing=r},t.prototype.changeSorting=function(){this.sortNodes()},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},t.prototype.createDataItem=function(){return new qm},Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",function(i){i.target.handleHit(i)}),this._nodes=new Fl(e),this._disposers.push(new da(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Kc;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"links",{get:function(){return this._links||(this._links=new zt(this.createLink()),this._disposers.push(new Pt(this._links))),this._links},enumerable:!0,configurable:!0}),t.prototype.createLink=function(){var e=new Zc;return this._disposers.push(e),e},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];this.nodes.each(function(r,s){i.push(s)}),e.data=i,e.dataFields.name="name"}},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this.nodes.clear()},t}(xa);F.registeredClasses.FlowDiagram=Jm;var em=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="LabelBullet";var i=e.createChild(Hi);return i.shouldClone=!1,i.verticalCenter="middle",i.horizontalCenter="middle",i.truncate=!0,i.hideOversized=!1,i.maxWidth=500,i.maxHeight=500,i.stroke=Oe(),i.strokeOpacity=0,i.fill=new ft().getFor("text"),e.events.on("maxsizechanged",e.handleMaxSize,e,!1),e.label=i,e.applyTheme(),e}return t.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label)},t}(bn);F.registeredClasses.LabelBullet=em;var Z1=function(n){N(t,n);function t(){var e=n.call(this)||this;e.nextInCoord=0,e.nextOutCoord=0,e.className="SankeyNode",e.width=10,e.height=10;var i=e.createChild(em);i.shouldClone=!1,i.locationX=1,i.locationY=.5,i.label.text="{name}",i.width=150,i.height=150,i.label.horizontalCenter="left",i.label.padding(0,5,0,5),e.nameLabel=i;var r=e.createChild(em);r.shouldClone=!1,r.label.hideOversized=!1,r.locationX=.5,r.locationY=.5,r.width=150,r.height=150,r.label.horizontalCenter="middle",e.valueLabel=r;var s=e.hiddenState;return s.properties.fill=new ft().getFor("disabledBackground"),s.properties.opacity=.5,s.properties.visible=!0,e.background.hiddenState.copyFrom(s),e}return t.prototype.invalidateLinks=function(){var e=this;n.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var i=this.chart;if(i){var r=i.orientation;this._incomingSorted&&Q(this._incomingSorted,function(s){var a=s.link,o=s.getWorkingValue("value");if(D(o)){a.parent=e.chart.linksContainer;var u=void 0,c=void 0,f=void 0;if(r=="horizontal"?(u=e.pixelX+e.dx,c=e.nextInCoord+e.pixelY+e.dy,f=0):(c=e.pixelY+e.dy,u=e.nextInCoord+e.pixelX+e.dx,f=90),a.endX=u,a.endY=c,a.startAngle=f,a.endAngle=f,a.gradient.rotation=f,a.linkWidth=o*i.valueHeight,!s.fromNode){r=="horizontal"?(a.maxWidth=200,a.startX=e.pixelX+e.dx-a.maxWidth,a.startY=a.endY):(a.maxHeight=200,a.startX=a.endX,a.startY=e.pixelY+e.dy-a.maxHeight),a.gradient,a.fill=s.toNode.color;var p=a.gradient.stops.getIndex(0);p&&(a.colorMode=="gradient"&&(p.color=e.color),p.opacity=0,a.fill=a.gradient,a.stroke=a.gradient,a.gradient.validate())}e.nextInCoord+=a.linkWidth}}),this._outgoingSorted&&Q(this._outgoingSorted,function(s){var a=s.link;a.parent=e.chart.linksContainer;var o=s.getWorkingValue("value");if(D(o)){var u=void 0,c=void 0,f=void 0;if(r=="horizontal"?(f=0,u=e.pixelX+e.pixelWidth+e.dx-1,c=e.nextOutCoord+e.pixelY+e.dy):(f=90,u=e.nextOutCoord+e.pixelX+e.dx,c=e.pixelY+e.pixelHeight+e.dy-1),a.startX=u,a.startY=c,a.startAngle=f,a.endAngle=f,a.gradient.rotation=f,a.linkWidth=o*e.chart.valueHeight,!s.toNode){r=="horizontal"?(a.maxWidth=200,a.endX=e.pixelX+a.maxWidth+e.dx,a.endY=a.startY):(a.maxHeight=200,a.endX=a.startX,a.endY=e.pixelY+a.maxHeight+e.dy),a.opacity=e.opacity;var p=a.gradient.stops.getIndex(1);p&&(a.colorMode=="gradient"&&(p.color=e.color),p.opacity=0,a.fill=a.gradient,a.stroke=a.gradient,a.gradient.validate())}e.nextOutCoord+=a.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},t.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(t.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.nameLabel.copyFrom(e.nameLabel),this.valueLabel.copyFrom(e.valueLabel)},t}(Kc);F.registeredClasses.SankeyNode=Z1;var Q1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="SankeyLink",new ft,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild(fc),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return t.prototype.makeBackwards=function(){this.states.getKey("backwards")!=null&&this.setState("backwards")},t.prototype.validate=function(){var e,i,r,s;if(n.prototype.validate.call(this),!this.isTemplate){var a=this.startX,o=this.startY,u=this.endX,c=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var f=this.dataItem.component;f&&(f.orientation=="horizontal"?u<a&&(e=to([u,a],2),a=e[0],u=e[1],i=to([c,o],2),o=i[0],c=i[1],this.makeBackwards()):c<o&&(r=to([c,o],2),o=r[0],c=r[1],s=to([u,a],2),a=s[0],u=s[1],this.makeBackwards()))}D(u)||(u=a),D(c)||(c=o);var p=this.startAngle,g=this.endAngle,y=this.linkWidth,b="",x=a,w=o,P=u,S=c,k=a+y*ae(p),T=u+y*ae(g),j=o+y*oe(p),V=c+y*oe(g),A=a+y/2*ae(p),I=u+y/2*ae(g),L=o+y/2*oe(p),J=c+y/2*oe(g);this.zIndex=this.zIndex||this.dataItem.index;var ie=this.tension+(1-this.tension)*ae(p),ne=this.tension+(1-this.tension)*oe(p);if(this.middleLine.tensionX=ie,this.middleLine.tensionY=ne,D(y)&&D(a)&&D(u)&&D(o)&&D(c)){ee(x,3)==ee(P,3)&&(P+=.01),ee(w,3)==ee(S,3)&&(S+=.01),ee(k,3)==ee(T,3)&&(T+=.01),ee(j,3)==ee(V,3)&&(V+=.01);var Fe=Math.min(k,T,x,P),ut=Math.min(j,V,w,S),ze=Math.max(k,T,x,P),be=Math.max(j,V,w,S);this._bbox={x:Fe,y:ut,width:ze-Fe,height:be-ut};var Ae=this.controlPointDistance,se=x+(P-x)*Ae*oe(p),ye=w+(S-w)*Ae*ae(p),fe=P-(P-x)*Ae*oe(g),H=S-(S-w)*Ae*ae(g),Y=A+(I-A)*Ae*oe(p),xe=L+(J-L)*Ae*ae(p),Pe=I-(I-A)*Ae*oe(g),He=J-(J-L)*Ae*ae(g),Ze=Ci({x:se,y:ye},{x:fe,y:H}),lt=(y/oe(Ze)-y)/tx(Ze)*oe(p),nt=(y/ae(Ze)-y)*tx(Ze)*ae(p),Ge=-lt/2+k+(T-k)*Ae*oe(p),jt=-nt/2+j+(V-j)*Ae*ae(p),Wi=-lt/2+T-(T-k)*Ae*oe(g),vr=-nt/2+V-(V-j)*Ae*ae(g);J==L&&(J+=.01),this.middleLine.segments=[[{x:A,y:L},{x:Y,y:xe},{x:Pe,y:He},{x:I,y:J}]],se+=lt/2,ye+=nt/2,fe+=lt/2,H+=nt/2,b+=pe({x,y:w}),b+=new Ds(ie,ne).smooth([{x,y:w},{x:se,y:ye},{x:fe,y:H},{x:P,y:S}]),b+=K({x:T,y:V}),b+=new Ds(ie,ne).smooth([{x:T,y:V},{x:Wi,y:vr},{x:Ge,y:jt},{x:k,y:j}]),b+=ti()}this.link.path=b,this.maskBullets&&(this.bulletsMask.path=b,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(t.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),t}(Zc);F.registeredClasses.SankeyLink=Q1;var dM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="SankeyDiagramDataItem",e.applyTheme(),e}return t}(qm),fM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="SankeyDiagram",e.orientation="horizontal",e.nodeAlign="middle",e.nodesContainer.width=te(100),e.nodesContainer.height=te(100),e.linksContainer.width=te(100),e.linksContainer.height=te(100),e.applyTheme(),e}return t.prototype.validateData=function(){var e=this;this._valueHeight=void 0,n.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(i,r){r.level=void 0}),this.nodes.each(function(i,r){r.level=e.getNodeLevel(r,0),e._levelCount=We(e._levelCount,r.level)})},t.prototype.getNodeLevel=function(e,i){var r=this,s=[i];return Q(e.incomingDataItems.iterator(),function(a){a.fromNode&&(D(a.fromNode.level)?s.push(a.fromNode.level+1):(r._counter=0,r.checkLoop(a.fromNode),r._counter<r.dataItems.length&&s.push(r.getNodeLevel(a.fromNode,i+1))))}),Math.max.apply(Math,so(s))},t.prototype.checkLoop=function(e){var i=this;this._counter++,!(this._counter>this.dataItems.length)&&Q(e.incomingDataItems.iterator(),function(r){i.checkLoop(r.fromNode)})},t.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var i=this.dataItem.values.value.sum;Q(this._sorted,function(p){var g=p[1];e.getNodeValue(g)}),this.nodes.each(function(p,g){var y=g.level,b=Math.max(g.totalIncoming,g.totalOutgoing);b/i<e.minNodeSize&&(b=i*e.minNodeSize),D(e._levelSum[y])?e._levelSum[y]+=b:e._levelSum[y]=b,D(e._levelNodesCount[y])?e._levelNodesCount[y]++:e._levelNodesCount[y]=1});var r;this.orientation=="horizontal"?r=this.chartContainer.maxHeight-1:r=this.chartContainer.maxWidth-1;var s,a;Ve(this._levelSum,function(p,g){var y=g,b=e._levelNodesCount[p],x=(r-(b-1)*e.nodePadding)/y;x==1/0&&(x=0),(a>x||!D(a))&&(a=x,e.maxSum=y,s=_t(p))}),this._maxSumLevel=s;var o=this._levelNodesCount[this._maxSumLevel],u=(r-(o-1)*this.nodePadding)/this.maxSum;if(u==1/0&&(u=0),!D(this.valueHeight))this.valueHeight=u;else{var c=void 0;try{c=this._heightAnimation.animationOptions[0].to}catch{}if(c!=u){var f=this.interpolationDuration;try{f=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new $r(this,{property:"valueHeight",from:this.valueHeight,to:u},f,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}},t.prototype.validate=function(){var e=this;n.prototype.validate.call(this),this.calculateValueHeight();var i=this.nodesContainer,r={},s=this._levelNodesCount[this._maxSumLevel],a=this.dataItem.values.value.sum,o;this.orientation=="horizontal"?o=this.chartContainer.maxHeight-1:o=this.chartContainer.maxWidth-1,Q(this._sorted,function(u){var c=u[1],f=c.level,p=0,g=e._levelNodesCount[f];switch(e.nodeAlign){case"bottom":p=(e.maxSum-e._levelSum[f])*e.valueHeight-(g-s)*e.nodePadding;break;case"middle":p=(e.maxSum-e._levelSum[f])*e.valueHeight/2-(g-s)*e.nodePadding/2;break}if(e.maxSum==0)switch(e.nodeAlign){case"bottom":p=o-g*(e.minNodeSize*o+e.nodePadding);break;case"middle":p=o/2-g/2*(e.minNodeSize*o+e.nodePadding);break}c.parent=i;var y,b,x,w=Math.max(c.totalIncoming,c.totalOutgoing);if(w/a<e.minNodeSize&&(w=a*e.minNodeSize),e.orientation=="horizontal"){y=(e.innerWidth-c.pixelWidth)/e._levelCount,b=y*c.level,x=r[f]||p;var P=w*e.valueHeight;a==0&&P==0&&(P=e.minNodeSize*o),c.height=P,c.minX=b,c.maxX=b,r[f]=x+P+e.nodePadding}else{y=(e.innerHeight-c.pixelHeight)/e._levelCount,b=r[f]||p,x=y*c.level;var S=w*e.valueHeight;a==0&&S==0&&(S=e.minNodeSize*o),c.width=S,c.minY=x,c.maxY=x,r[f]=b+S+e.nodePadding}c.x=b,c.y=x})},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var r=this.nodesContainer,s=0;Q(this.links.iterator(),function(a){a.hide(0)}),Q(this._sorted,function(a){var o=a[1],u;i.orientation=="horizontal"?(o.dx=-(r.pixelWidth-o.pixelWidth)/Math.max(i._levelCount,1),u="dx"):(o.dy=-(r.pixelHeight-o.pixelHeight)/Math.max(i._levelCount,1),u="dy");var c=0,f=i.interpolationDuration;i.sequencedInterpolation&&(c=i.sequencedInterpolationDelay*s+f*s/Bk(i.nodes.iterator())),o.opacity=0,o.invalidateLinks(),o.animate([{property:"opacity",from:0,to:1},{property:u,to:0}],i.interpolationDuration,i.interpolationEasing).delay(c),Q(o.outgoingDataItems.iterator(),function(p){var g=p.link.show(i.interpolationDuration);g&&!g.isFinished()&&g.delay(c)}),Q(o.incomingDataItems.iterator(),function(p){if(!p.fromNode){var g=p.link.show(i.interpolationDuration);g&&!g.isFinished()&&g.delay(c)}}),s++})}return n.prototype.showReal.call(this)}},t.prototype.changeSorting=function(){var e=this;this.sortNodes();var i={};Q(this._sorted,function(r){var s=r[1],a=s.level,o=(e.maxSum-e._levelSum[a])*e.valueHeight/2,u,c;e.orientation=="horizontal"?(u="y",c=s.pixelHeight):(u="x",c=s.pixelWidth),s.animate({property:u,to:i[a]||o},e.interpolationDuration,e.interpolationEasing),i[a]=(i[a]||o)+c+e.nodePadding,s.invalidateLinks()})},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},t.prototype.createDataItem=function(){return new dM},Object.defineProperty(t.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.nodes.template.nameLabel;e=="vertical"?(this.nodes.template.width=void 0,i.label.horizontalCenter="middle",i.locationX=.5):(this.nodes.template.height=void 0,i.label.horizontalCenter="left",i.locationX=1)},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Z1;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new Q1;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},t}(Jm);F.registeredClasses.SankeyDiagram=fM;var q1=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="ChordNode";var i=e.createChild($c);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,e.label=i,e.layout="none",e.events.on("positionchanged",e.updateRotation,e,!1),e.isMeasured=!1,e.slice=e.createChild(ma),e.slice.isMeasured=!1;var r=e.hiddenState;return r.properties.fill=new ft().getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,e.setStateOnChildren=!1,e.slice.hiddenState.properties.visible=!0,e.adapter.add("tooltipX",function(s,a){return a.slice.ix*(a.slice.radius-(a.slice.radius-a.slice.pixelInnerRadius)/2)}),e.adapter.add("tooltipY",function(s,a){return a.slice.iy*(a.slice.radius-(a.slice.radius-a.slice.pixelInnerRadius)/2)}),e}return t.prototype.invalidateLinks=function(){var e=this;n.prototype.invalidateLinks.call(this);var i=this.label,r=this.slice,s=this.chart;if(s&&r){var a=this.total,o=r.arc,u=r.startAngle;this.children.each(function(p){if(p instanceof bn){var g=p.locationX;D(g)||(g=.5);var y=p.locationY;D(y)||(y=1);var b=u+o*g,x=y*r.radius;p.x=x*oe(b),p.y=x*ae(b)}});var c=u+o*i.location,f=u+(1-a/this.adjustedTotal)*o*.5;Oi(f)&&(f=u),i.fixPosition(c,r.radius),this.nextAngle=f,this._outgoingSorted&&Q(this._outgoingSorted,function(p){var g=p.link;g.parent=e.chart.linksContainer;var y=p.getWorkingValue("value");if(D(y)){if(s.nonRibbon){var b=g.percentWidth;D(b)||(b=5),b=b/100,g.startAngle=u+o/2-o/2*b,g.arc=o*b}else g.arc=y*s.valueAngle,g.startAngle=e.nextAngle,e.nextAngle+=g.arc;p.toNode||(g.endAngle=g.startAngle),g.radius=r.pixelInnerRadius}}),this._incomingSorted&&Q(this._incomingSorted,function(p){var g=p.link;if(g.radius=r.pixelInnerRadius,s.nonRibbon){var y=g.percentWidth;D(y)||(y=5),y=y/100,g.endAngle=u+o/2-o/2*y,g.arc=o*y}else{g.endAngle=e.nextAngle;var b=p.getWorkingValue("value");D(b)&&(g.arc=b*s.valueAngle,e.nextAngle+=g.arc)}p.fromNode||(g.startAngle=g.endAngle)})}},t.prototype.updateRotation=function(){var e=this.slice,i=this.trueStartAngle+e.arc/2,r=e.radius,s=r*oe(i),a=r*ae(i),o=Ci({x:s+this.pixelX,y:a+this.pixelY});e.startAngle=this.trueStartAngle+(o-i),this.dx=-this.pixelX,this.dy=-this.pixelY},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),this.slice.copyFrom(e.slice)},t}(Kc);F.registeredClasses.ChordNode=q1;var pM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=Oe(),e.applyTheme(),e}return t.prototype.draw=function(){if(D(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2},r={x:this.cpx,y:this.cpy},s=pe(e)+ta(i,r);this.path=s}},Object.defineProperty(t.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},r={x:this.cpx,y:this.cpy},s={x:this.x2,y:this.y2},a=ix(i,s,r,e),o=ix(i,s,r,e+.001);return{x:a.x,y:a.y,angle:Ci(a,o)}},t}(Gr),J1=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ChordLink",e.middleLine=e.createChild(pM),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return t.prototype.validate=function(){if(n.prototype.validate.call(this),!this.isTemplate){var e=this.startAngle,i=this.endAngle,r=this.arc,s=this.radius,a=this.dataItem.fromNode,o=this.dataItem.toNode,u=0,c=0;a&&(u=a.pixelX+a.dx,c=a.pixelY+a.dy);var f=0,p=0;if(o&&(f=o.pixelX+o.dx,p=o.pixelY+o.dy),s>0){var g=s*oe(e)+u,y=s*ae(e)+c,b=s*oe(i)+f,x=s*ae(i)+p,w={x:0,y:0},P=pe({x:g,y});P+=oi(e,r,s),P+=ta({x:b,y:x},w),P+=oi(i,r,s),P+=ta({x:g,y},w),r>0?this.link.path=P:this.link.path="",this.maskBullets&&(this.bulletsMask.path=P,this.bulletsContainer.mask=this.bulletsMask);var S=e+r/2,k=i+r/2,T=this.middleLine;T.x1=s*oe(S)+u,T.y1=s*ae(S)+c,T.x2=s*oe(k)+f,T.y2=s*ae(k)+p,T.cpx=0,T.cpy=0,T.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),t}(Zc);F.registeredClasses.ChordLink=J1;var mM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ChordDiagramDataItem",e.applyTheme(),e}return t}(qm),gM=function(n){N(t,n);function t(){var e=n.call(this)||this;e.valueAngle=0,e.className="ChordDiagram",e.startAngle=-90,e.endAngle=270,e.radius=te(80),e.innerRadius=-15,e.nodePadding=5;var i=e.chartContainer.createChild(Se);return i.align="center",i.valign="middle",i.shouldClone=!1,i.layout="absolute",e.chordContainer=i,e.nodesContainer.parent=i,e.linksContainer.parent=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e.applyTheme(),e}return t.prototype.validate=function(){var e=this,i=this.chartContainer,r=this.endAngle,s=this.startAngle+this.nodePadding/2,a=yn(this.startAngle,this.endAngle,1),o={x:0,y:0,width:0,height:0};a=Yl([a,o]);var u=Math.min(i.innerWidth/a.width,i.innerHeight/a.height);D(u)||(u=0);var c=di(this.radius,u),f=di(this.innerRadius,c,!0),p=this.dataItem.values.value.sum,g=0,y=0;Q(this._sorted,function(b){var x=b[1];e.getNodeValue(x),g++;var w=x.total;x.total/p<e.minNodeSize&&(w=p*e.minNodeSize),y+=w}),this.valueAngle=(r-this.startAngle-this.nodePadding*g)/y,Q(this._sorted,function(b){var x=b[1],w=x.slice;w.radius=c,w.innerRadius=f;var P=x.total;x.total/p<e.minNodeSize&&(P=p*e.minNodeSize),x.adjustedTotal=P;var S;e.nonRibbon?S=(r-e.startAngle)/g-e.nodePadding:S=e.valueAngle*P,w.arc=S,w.startAngle=s,x.trueStartAngle=s,x.parent=e.nodesContainer,x.validate(),s+=S+e.nodePadding}),this.chordContainer.definedBBox={x:c*a.x,y:c*a.y,width:c*a.width,height:c*a.height},this.chordContainer.invalidateLayout(),n.prototype.validate.call(this)},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},t.prototype.createDataItem=function(){return new mM},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new q1;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new J1;return this._disposers.push(e),e},t}(Jm);F.registeredClasses.ChordDiagram=gM;var wa=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Column",e.width=te(80),e.height=te(80),e.events.disableType("transformed"),e.applyOnClones=!0,e.strokeOpacity=1,e.layout="none",e.createAssets(),e.events.on("childadded",e.handleKidAdded,e,!1),e}return t.prototype.handleKidAdded=function(){this.layout=="none"&&(this.layout="absolute")},t.prototype.createAssets=function(){this.column=this.createChild(_n),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},t.prototype.validate=function(){n.prototype.validate.call(this);var e=this.column;e&&(e.width=ot(this.pixelWidth,this.maxWidth),e.height=ot(this.pixelHeight,this.maxHeight),e.invalid&&e.validate())},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.column&&this.column.copyFrom(e.column)},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:ot(this.pixelWidth,this.maxWidth),height:ot(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.Column=wa;var Ms=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e)},enumerable:!0,configurable:!0}),t.prototype.setColumn=function(e){var i=this;if(this._column&&e!=this._column&&Le(this.sprites,this._column),this._column=e,e){var r=e.dataItem;r&&r!=this&&(r.column=void 0),this.addSprite(e),this._disposers.push(new vt(function(){i.component&&i.component.columns.removeValue(e)}))}},Object.defineProperty(t.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new St),this._rangesColumns},enumerable:!0,configurable:!0}),t}(Uc),_a=function(n){N(t,n);function t(){var e=n.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=te(100),e.height=te(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var i=e.mainContainer.createChild(Se);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e._columnsContainer=i,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return Object.defineProperty(t.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},t.prototype.createDataItem=function(){return new Ms},t.prototype.validate=function(){var e=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var i=this.chart.series,r=0,s=0,a=[];Q(i.iterator(),function(x){if(x instanceof t&&e.baseAxis==x.baseAxis){var w;e.baseAxis==e.xAxis?w=e.chart.yAxes.indexOf(x.yAxis):w=e.chart.xAxes.indexOf(x.xAxis),a.push({series:x,axis:w})}}),a.sort(function(x,w){return x.axis-w.axis});var o;ce(a,function(x){var w=x.series;w instanceof t&&((!w.stacked&&w.clustered||o!=x.axis&&w.clustered)&&r++,w==e&&(s=r-1)),o=x.axis}),this.clustered||(s=0,r=1);var u=this.baseAxis.renderer,c=u.cellStartLocation,f=u.cellEndLocation;this._startLocation=c+s/r*(f-c),this._endLocation=c+(s+1)/r*(f-c);var p=this.xAxis,g=this.yAxis;p instanceof Gt&&g instanceof Qe&&p.sortBySeries==this&&this.sortCategoryAxis(p,"valueY"),g instanceof Gt&&p instanceof Qe&&g.sortBySeries==this&&this.sortCategoryAxis(g,"valueX")}n.prototype.validate.call(this);for(var y=0;y<this.startIndex;y++){var b=this.dataItems.getIndex(y);this.disableUnusedColumns(b)}for(var y=this.dataItems.length-1;y>this.endIndex;y--){var b=this.dataItems.getIndex(y);this.disableUnusedColumns(b)}this._propertiesChanged=!1},t.prototype.sortCategoryAxis=function(e,i){var r=this;this.dataItems.values.sort(function(a,o){return o.values[i].workingValue-a.values[i].workingValue});var s=0;this.dataItems.each(function(a){a._index=s,s++}),e.dataItems.each(function(a){var o=a.component,u=o.categoryToPosition(a.category)-a.deltaPosition,c=o.getSeriesDataItemByCategory(a.category,r);if(c){var f=r.dataItems.indexOf(c);a._index=f;var p=ee((f+.5)/r.dataItems.length-u,3);a.deltaAnimation&&!a.deltaAnimation.isDisposed()&&a.deltaAnimation.animationOptions[0].to==p||p!=ee(a.deltaPosition,3)&&(a.deltaAnimation&&a.deltaAnimation.stop(),a.deltaAnimation=a.animate({property:"deltaPosition",from:-p,to:0},o.interpolationDuration,o.interpolationEasing),r._disposers.push(a.deltaAnimation))}}),e.dataItems.values.sort(function(a,o){return a.index-o.index})},t.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),n.prototype.validateDataElement.call(this,e))},t.prototype.getStartLocation=function(e){var i=this._startLocation;return this.baseAxis==this.xAxis?i+=e.locations[this.xOpenField]-.5:i+=e.locations[this.yOpenField]-.5,i},t.prototype.getEndLocation=function(e){var i=this._endLocation;return this.baseAxis==this.xAxis?i+=e.locations[this.xField]-.5:i+=e.locations[this.yField]-.5,i},t.prototype.validateDataElementReal=function(e){var i=this,r,s,a,o,u=this.getStartLocation(e),c=this.getEndLocation(e),f=this.xField,p=this.xOpenField,g=this.yField,y=this.yOpenField,b=this.columns.template,x=b.percentWidth,w=b.percentHeight,P=b.pixelWidth,S=b.pixelHeight,k=b.maxWidth,T=b.maxHeight,j=b.pixelPaddingLeft,V=b.pixelPaddingRight,A=b.pixelPaddingTop,I=b.pixelPaddingBottom,L=!1,J=e.width;M(J)&&(D(J)&&(P=J),J instanceof st&&(x=J.value*100));var ie=e.height;if(M(ie)&&(D(ie)&&(S=ie),ie instanceof st&&(w=ie.value*100)),this.xAxis instanceof Gt&&this.yAxis instanceof Gt){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;if(u=0,c=1,!Oi(x)){var ne=ee((c-u)*(1-x/100)/2,5);u+=ne,c-=ne}if(r=this.xAxis.getX(e,p,u),s=this.xAxis.getX(e,f,c),Oi(x)){var ne=(s-r-P)/2;r+=ne,s-=ne}if(!Oi(k)&&k<Math.abs(s-r)){var ne=(s-r-k)/2;r+=ne,s-=ne}if(u=0,c=1,!Oi(w)){var ne=ee((1-w/100)/2,5);u+=ne,c-=ne}if(a=this.yAxis.getY(e,y,u),o=this.yAxis.getY(e,g,c),Oi(w)){var ne=(o-a-S)/2;o+=ne,a-=ne}if(!Oi(T)&&T<Math.abs(o-a)){var ne=(o-a-T)/2;o+=ne,a-=ne}s=this.fixHorizontalCoordinate(s),r=this.fixHorizontalCoordinate(r),a=this.fixVerticalCoordinate(a),o=this.fixVerticalCoordinate(o)}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;if(!Oi(x)){var ne=ee((c-u)*(1-x/100)/2,5);u+=ne,c-=ne}if(r=this.xAxis.getX(e,p,u),s=this.xAxis.getX(e,f,c),Oi(x)){var ne=(s-r-P)/2;r+=ne,s-=ne}if(!Oi(k)&&k<Math.abs(s-r)){var ne=(s-r-k)/2;r+=ne,s-=ne}var Fe=e.locations[y],ut=e.locations[g];this.yAxis instanceof Qe&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(Fe=0,ut=0),o=this.yAxis.getY(e,y,Fe),a=this.yAxis.getY(e,g,ut);var ze=Math.ceil(this.yAxis.axisLength);(a<0&&o<0||a>ze&&o>ze)&&(L=!0),a=this.fixVerticalCoordinate(a),o=this.fixVerticalCoordinate(o),Math.abs(s-r)-j-V==0&&(L=!0)}else{if(!e.hasValue(this._xValueFields))return;if(!Oi(w)){var ne=ee((c-u)*(1-w/100)/2,5);u+=ne,c-=ne}if(a=this.yAxis.getY(e,y,u),o=this.yAxis.getY(e,g,c),Oi(w)){var ne=(o-a-S)/2;o-=ne,a+=ne}if(!Oi(T)&&T<Math.abs(o-a)){var ne=(o-a-T)/2;o-=ne,a+=ne}var be=e.locations[f],Ae=e.locations[p];this.xAxis instanceof Qe&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(be=0,Ae=0),s=this.xAxis.getX(e,f,be),r=this.xAxis.getX(e,p,Ae);var ze=Math.ceil(this.xAxis.axisLength);(s<0&&r<0||s>ze&&r>ze)&&(L=!0),s=this.fixHorizontalCoordinate(s),r=this.fixHorizontalCoordinate(r),Math.abs(a-o)-A-I==0&&(L=!0)}var se=Math.abs(s-r),ye=Math.abs(o-a),fe=Math.min(r,s),H=Math.min(a,o);if(L)this.disableUnusedColumns(e);else{var Y;e.column?(Y=e.column,this._propertiesChanged&&(Qt(this,Y,Wt),Qt(this.columns.template,Y,Wt),ce(Wt,function(xe){Y[xe]=Y[xe]}))):(Y=this.columns.create(),Qt(this,Y,Wt),Qt(this.columns.template,Y,Wt),e.addSprite(Y),e.column=Y,Y.paper=this.paper,this.itemsFocusable()?(M(this.role)||(this.role="menu"),M(Y.role)||(Y.role="menuitem"),Y.focusable=!0):(M(this.role)||(this.role="list"),M(Y.role)||(Y.role="listitem"),Y.focusable=!1),Y.focusable&&(Y.events.on("focus",function(xe){Y.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),Y.events.on("blur",function(xe){Y.readerTitle=""},void 0,!1)),Y.hoverable&&(Y.events.on("over",function(xe){Y.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),Y.events.on("out",function(xe){Y.readerTitle=""},void 0,!1)),Y.parent=this.columnsContainer,Y.virtualParent=this),Y.width=se,Y.height=ye,Y.x=fe,Y.y=H,Y.realX=r,Y.realY=a,Y.realWidth=s-r,Y.realHeight=o-a,this.setColumnStates(Y),Y.invalid&&Y.validate(),Y.__disabled=!1,Q(this.axisRanges.iterator(),function(xe){var Pe=e.rangesColumns.getKey(xe.uid);Pe||(Pe=i.columns.create(),Qt(xe.contents,Pe,Wt),e.addSprite(Pe),e.rangesColumns.setKey(xe.uid,Pe),Pe.paper=i.paper),Pe.parent=xe.contents,Pe.width=se,Pe.height=ye,Pe.x=fe,Pe.y=H,i.setColumnStates(Pe),Pe.invalid&&Pe.validate(),Pe.__disabled=!1})}e.itemWidth=se,e.itemHeight=ye},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),Q(this.axisRanges.iterator(),function(i){var r=e.rangesColumns.getKey(i.uid);r&&(r.width=0,r.height=0,r.__disabled=!0)}))},t.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var i=e.dataItem;if(this.xAxis instanceof Qe||this.yAxis instanceof Qe){var r,s=void 0,a=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof Qe&&(r=i.getValue(this.xOpenField),s=i.getValue(this.xField)),a=i.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof Qe&&(r=i.getValue(this.yOpenField),s=i.getValue(this.yField)),a=i.getValue(this.yAxis.axisFieldName+"Y","previousChange")),s<r?(i.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(i.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),a<0?(i.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(i.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||(this._columns=new zt(this.createColumnTemplate()),this._disposers.push(new Pt(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),t.prototype.createColumnTemplate=function(){return new wa},Object.defineProperty(t.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){var r=this;if(n.prototype.updateLegendValue.call(this,e,i),this.legendDataItem){var s=this.legendDataItem.marker,a,o;e&&(e.droppedFromOpen?a=this._dropFromOpenState:a=this._riseFromOpenState,e.droppedFromPrevious?o=this._dropFromPreviousState:o=this._riseFromPreviousState),Q(s.children.iterator(),function(u){e?(u.setState(o),u.setState(a)):(u.setState(r._riseFromPreviousState),u.setState(r._riseFromOpenState))})}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var s=e.createChild(_n);s.shouldClone=!1,Qt(this,s,Wt),s.copyFrom(this.columns.template),s.padding(0,0,0,0),s.width=i,s.height=r;var a=e.dataItem;a.color=this.fill,a.colorOrig=this.fill},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},t.prototype.getBulletLocationX=function(e,i){if(this.baseAxis==this.xAxis){var r=e.locationX;D(r)||(r=.5);var s=this.getEndLocation(e.dataItem),a=this.getStartLocation(e.dataItem);return s-(s-a)*r}else return n.prototype.getBulletLocationX.call(this,e,i)},t.prototype.getBulletLocationY=function(e,i){if(this.baseAxis==this.yAxis){var r=e.locationY;D(r)||(r=.5);var s=this.getEndLocation(e.dataItem),a=this.getStartLocation(e.dataItem);return s-(s-a)*r}else return n.prototype.getBulletLocationY.call(this,e,i)},t.prototype.getAdjustedXLocation=function(e,i,r){return D(r)||(e?r=e.locations[i]:r=.5),this._endLocation-(this._endLocation-this._startLocation)*(1-r)},t.prototype.getAdjustedYLocation=function(e,i,r){return D(r)||(e?r=e.locations[i]:r=.5),this._endLocation-(this._endLocation-this._startLocation)*r},t.prototype.fixVerticalCoordinate=function(e){var i=this.columns.template.pixelPaddingBottom,r=this.columns.template.pixelPaddingTop,s=-r,a=this.yAxis.axisLength+i;return ge(e,s,a)},t.prototype.fixHorizontalCoordinate=function(e){var i=this.columns.template.pixelPaddingLeft,r=this.columns.template.pixelPaddingRight,s=-i,a=this.xAxis.axisLength+r;return ge(e,s,a)},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this.columns.clear()},t}(ga);F.registeredClasses.ColumnSeries=_a;F.registeredClasses.ColumnSeriesDataItem=Ms;var ew=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="TreeMapSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,s){var a=this.treeMapDataItem;return a&&a.hide(e),n.prototype.hide.call(this,e,i,r,s)},t.prototype.show=function(e,i,r){var s=this.treeMapDataItem;return s&&s.show(e,i,r),n.prototype.show.call(this,e,i,r)},t}(Ms),tm=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="TreeMapSeries",e.applyTheme(),e.fillOpacity=1,e.strokeOpacity=1,e.minBulletDistance=0,e.columns.template.tooltipText="{parentName} {name}: {value}",e.columns.template.configField="config";var i=new ft;return e.stroke=i.getFor("background"),e.dataFields.openValueX="x0",e.dataFields.valueX="x1",e.dataFields.openValueY="y0",e.dataFields.valueY="y1",e.sequencedInterpolation=!1,e.showOnInit=!1,e.columns.template.pixelPerfect=!1,e}return t.prototype.processDataItem=function(e,i){i.seriesDataItem=e,n.prototype.processDataItem.call(this,e,i)},t.prototype.createDataItem=function(){return new ew},t.prototype.show=function(e){if(!this.preventShow){var i=this.defaultState.transitionDuration;return D(e)&&(i=e),this.dataItems.each(function(r){r.show(e)}),n.prototype.showReal.call(this,i)}},t.prototype.hide=function(e){var i=this.defaultState.transitionDuration;D(e)&&(i=e);var r=n.prototype.hideReal.call(this,i);return this.dataItems.each(function(s){s.hide(e)}),r},t.prototype.processValues=function(){},t.prototype.getStartLocation=function(e){return 0},t.prototype.getEndLocation=function(e){return 1},t.prototype.dataChangeUpdate=function(){},t.prototype.processConfig=function(e){e&&(!M(e.dataFields)||!Ot(e.dataFields))&&(e.dataFields={}),n.prototype.processConfig.call(this,e)},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var s=e.createChild(_n);s.shouldClone=!1,Qt(this,s,Wt),s.padding(0,0,0,0),s.width=i,s.height=r;var a=e.dataItem;a.color=s.fill,a.colorOrig=s.fill},t.prototype.disableUnusedColumns=function(e){n.prototype.disableUnusedColumns.call(this,e),e.column&&(e.column.__disabled=!1)},t}(_a);F.registeredClasses.TreeMapSeries=tm;F.registeredClasses.TreeMapSeriesDataItem=ew;var yM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.rows=[],e.className="TreeMapDataItem",e.values.value={workingValue:0},e.values.x0={},e.values.y0={},e.values.x1={},e.values.y1={},e.hasChildren.children=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),t.prototype.getDuration=function(){return 0},Object.defineProperty(t.prototype,"value",{get:function(){var e=0;return!this.children||this.children.length==0?e=this.values.value.workingValue:Q(this.children.iterator(),function(i){var r=i.value;D(r)&&(e+=r)}),e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){var e=this.properties.color;return e==null&&this.parent&&(e=this.parent.color),e==null&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,s){this.setWorkingValue("value",0),this.children&&this.children.each(function(o){o.hide(e,i,r,s)});var a=this.seriesDataItem;return a&&a.bullets.each(function(o,u){u.hide(),u.preventShow=!0}),n.prototype.hide.call(this,e,i,r,s)},t.prototype.show=function(e,i,r){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(a){a.show(e,i,r)});var s=this.seriesDataItem;return s&&s.bullets.each(function(a,o){o.preventShow=!1}),n.prototype.show.call(this,e,i,r)},t}(Xm),vM=function(n){N(t,n);function t(){var e=n.call(this)||this;e.layoutAlgorithm=e.squarify,e.zoomable=!0,e.className="TreeMap",e._usesData=!0,e.maxLevels=2,e.currentLevel=0,e.hideParentColumns=!1,e.colors=new Gl,e.sorting="descending";var i=e.xAxes.push(new Qe);i.title.disabled=!0,i.strictMinMax=!0;var r=i.renderer;r.inside=!0,r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.minGridDistance=100,r.line.disabled=!0,r.baseGrid.disabled=!0;var s=e.yAxes.push(new Qe);s.title.disabled=!0,s.strictMinMax=!0;var a=s.renderer;a.inside=!0,a.labels.template.disabled=!0,a.ticks.template.disabled=!0,a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.minGridDistance=100,a.line.disabled=!0,a.baseGrid.disabled=!0,a.inversed=!0,e.xAxis=i,e.yAxis=s;var o=new tm;return e.seriesTemplates=new Fl(o),o.virtualParent=e,e._disposers.push(new da(e.seriesTemplates)),e._disposers.push(o),e.zoomOutButton.events.on("hit",function(){e.zoomToChartDataItem(e._homeDataItem)},void 0,!1),e.seriesTemplates.events.on("insertKey",function(u){u.newValue.isTemplate=!0},void 0,!1),e.applyTheme(),e}return Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var i=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",function(r){var s=r.target.dataItem.dataContext;s.isDisposed()||(i.zoomToChartDataItem(s),i.createTreeSeries(s))},void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],n.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var e=this.dataItems.template.clone();this._homeDataItem=e,Q(this.dataItems.iterator(),function(s){s.parent=e}),e.children=this.dataItems,e.x0=0,e.y0=0,e.name=this._homeText;var i=1e3,r=Math.round(i*this.pixelHeight/this.pixelWidth/10)*10||1e3;e.x1=i,e.y1=r,this.xAxis.min=0,this.xAxis.max=i,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=r,this.yAxis.getMinMax(),this.layoutItems(e),this.createTreeSeries(e),this.feedLegend()},t.prototype.layoutItems=function(e,i){if(e){var r=e.children;i||(i=this.sorting),i=="ascending"&&r.values.sort(function(u,c){return u.value-c.value}),i=="descending"&&r.values.sort(function(u,c){return c.value-u.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var s=0,a=r.length;s<a;s++){var o=r.getIndex(s);o.children&&this.layoutItems(o)}}},t.prototype.createTreeSeries=function(e){var i=this;this._tempSeries=[];for(var r=[e],s=e.parent;s!=null;)this.initSeries(s),r.push(s),s=s.parent;r.reverse(),this.navigationBar&&(this.navigationBar.data=r),this.createTreeSeriesReal(e),ce(this._tempSeries,function(a){i.series.indexOf(a)==-1&&i.series.push(a),a.zIndex=a.level})},t.prototype.createTreeSeriesReal=function(e){if(e.children){var i=e.level;if(i<this.currentLevel+this.maxLevels){this.initSeries(e);for(var r=0;r<e.children.length;r++){var s=e.children.getIndex(r);s.children&&this.createTreeSeriesReal(s)}}}},t.prototype.setData=function(e){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,n.prototype.setData.call(this,e)},t.prototype.seriesAppeared=function(){return!0},t.prototype.initSeries=function(e){var i=this;if(!e.series){var r=void 0,s=this.seriesTemplates.getKey(e.level.toString());s?r=s.clone():r=this.series.create(),r.dataItem.dataContext=e,r.name=e.name,r.parentDataItem=e,e.series=r;var a=e.level;r.level=a;var o=e.dataContext;o&&(r.config=o.config),this.dataUsers.removeValue(r),r.data=e.children.values,r.fill=e.color,r.columnsContainer.hide(0),r.bulletsContainer.hide(0),r.columns.template.adapter.add("fill",function(u,c){var f=c.dataItem;if(f){var p=f.treeMapDataItem;if(p)return c.fill=p.color,c.adapter.remove("fill"),p.color}}),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(r.columns.template.cursorOverStyle=gi.pointer,this.zoomable&&r.columns.template.events.on("hit",function(u){var c=u.target.dataItem;e.level>i.currentLevel?i.zoomToChartDataItem(c.treeMapDataItem.parent):i.zoomToSeriesDataItem(c)},this,void 0))}this._tempSeries.push(e.series)},t.prototype.toggleBullets=function(e){var i=this;Q(this.series.iterator(),function(r){i._tempSeries.indexOf(r)==-1?(r.columnsContainer.hide(),r.bulletsContainer.hide(e)):(r.columnsContainer.show(),r.bulletsContainer.show(e),r.dataItems.each(function(s){s.bullets.each(function(a,o){o.show()})}),r.level<i.currentLevel?(i.hideParentColumns&&r.columnsContainer.hide(),r.bulletsContainer.hide(e)):r.level==i.currentLevel&&i.maxLevels>1&&r.dataItems.each(function(s){s.treeMapDataItem.children&&s.bullets.each(function(a,o){o.hide()})}))})},t.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},t.prototype.zoomToChartDataItem=function(e){var i=this;e||(e=this._homeDataItem);var r=this.zoomOutButton;if(r&&(e!=this._homeDataItem?r.show():r.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var s=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;s&&!s.isDisposed()&&!s.isFinished()?(this._dataDisposers.push(s),s.events.once("animationended",function(){i.toggleBullets()})):this.toggleBullets()}},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},t.prototype.createDataItem=function(){return new yM},Object.defineProperty(t.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new tm},Object.defineProperty(t.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e){if(M(e.layoutAlgorithm)&&at(e.layoutAlgorithm))switch(e.layoutAlgorithm){case"squarify":e.layoutAlgorithm=this.squarify;break;case"binaryTree":e.layoutAlgorithm=this.binaryTree;break;case"slice":e.layoutAlgorithm=this.slice;break;case"dice":e.layoutAlgorithm=this.dice;break;case"sliceDice":e.layoutAlgorithm=this.sliceDice;break;default:delete e.layoutAlgorithm;break}M(e.navigationBar)&&!M(e.navigationBar.type)&&(e.navigationBar.type="NavigationBar"),n.prototype.processConfig.call(this,e)}},t.prototype.validateLayout=function(){n.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},t.prototype.validateDataItems=function(){n.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),Q(this.series.iterator(),function(e){e.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},t.prototype.binaryTree=function(e){var i=e.children,r,s=i.length,a,o=new Array(s+1);for(o[0]=a=r=0;r<s;++r)o[r+1]=a+=i.getIndex(r).value;s>0&&u(0,s,e.value,e.x0,e.y0,e.x1,e.y1);function u(c,f,p,g,y,b,x){if(c>=f-1){var w=i.getIndex(c);w.x0=g,w.y0=y,w.x1=b,w.y1=x;return}for(var P=o[c],S=p/2+P,k=c+1,T=f-1;k<T;){var j=k+T>>>1;o[j]<S?k=j+1:T=j}S-o[k-1]<o[k]-S&&c+1<k&&--k;var V=o[k]-P,A=p-V;if(p==0){var w=i.getIndex(c);w.x0=g,w.y0=y,w.x1=b,w.y1=x;return}if(b-g>x-y){var I=(g*A+b*V)/p;u(c,k,V,g,y,I,x),u(k,f,A,I,y,b,x)}else{var L=(y*A+x*V)/p;u(c,k,V,g,y,b,L),u(k,f,A,g,L,b,x)}}},t.prototype.slice=function(e){for(var i=e.x0,r=e.x1,s=e.y0,a=e.y1,o=e.children,u,c=-1,f=o.length,p=e.value&&(a-s)/e.value;++c<f;)u=o.getIndex(c),u.x0=i,u.x1=r,u.y0=s,s+=u.value*p,u.y1=s},t.prototype.dice=function(e){for(var i=e.x0,r=e.x1,s=e.y0,a=e.y1,o=e.children,u,c=-1,f=o.length,p=e.value&&(r-i)/e.value;++c<f;)u=o.getIndex(c),u.y0=s,u.y1=a,u.x0=i,i+=u.value*p,u.x1=i},t.prototype.sliceDice=function(e){e.level&1?this.slice(e):this.dice(e)},t.prototype.squarify=function(e){for(var i=(1+Math.sqrt(5))/2,r=e.x0,s=e.x1,a=e.y0,o=e.y1,u=e.children,c,f=0,p=0,g=u.length,y,b,x=e.value,w,P,S,k,T,j,V;f<g;){y=s-r,b=o-a;do w=u.getIndex(p++).value;while(!w&&p<g);for(P=S=w,j=Math.max(b/y,y/b)/(x*i),V=w*w*j,T=Math.max(S/V,V/P);p<g;++p){if(w+=c=u.getIndex(p).value,c<P&&(P=c),c>S&&(S=c),V=w*w*j,k=Math.max(S/V,V/P),k>T){w-=c;break}T=k}var A=this.dataItems.template.clone();A.value=w,A.dice=y<b,A.children=u.slice(f,p),A.x0=r,A.y0=a,A.x1=s,A.y1=o,A.dice?(A.y1=x?a+=b*w/x:o,this.dice(A)):(A.x1=x?r+=y*w/x:s,this.slice(A)),x-=w,f=p}},t.prototype.handleSeriesAdded2=function(){},t.prototype.handleDataItemValueChange=function(e,i){i=="value"&&this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){i=="value"&&this.invalidateDataItems()},t.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(e.children.length==1){var i=e.children.getIndex(0);return i.children?this.getLegendLevel(i):e}else return e}},t.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(t.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),t.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var i=this.getLegendLevel(this._homeDataItem);if(i){var r=[];i.children.each(function(s){r.push(s)}),e.data=r}}},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},t.prototype.getExporting=function(){var e=this,i=n.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",function(r){return(r.format=="csv"||r.format=="xlsx")&&M(e.dataFields.children)&&delete r.dataFields[e.dataFields.children],r}),i},t}(Ts);F.registeredClasses.TreeMap=vM;var tw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._chart=new li,e.className="AxisRendererX3D",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i);if(e.element){var a=this.chart.dx3D||0,o=this.chart.dy3D||0,u=this.getHeight();e.path=pe({x:a,y:o})+K({x:a,y:u+o})+K({x:0,y:u})}this.positionItem(e,s),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.getHeight(),i=this.chart.dx3D||0,r=this.chart.dy3D||0;this.baseGrid.path=pe({x:i,y:r})+K({x:0,y:0})+K({x:0,y:e})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},t}(Hn);F.registeredClasses.AxisRendererX3D=tw;var bM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._chart=new li,e.className="AxisRendererY3D",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var s=this.positionToPoint(i);if(e.element){var a=this.chart.dx3D||0,o=this.chart.dy3D||0,u=this.getWidth();e.path=pe({x:0,y:0})+K({x:a,y:o})+K({x:u+a,y:o})}this.positionItem(e,s),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.chart.dx3D||0,i=this.chart.dy3D||0,r=this.getWidth();this.baseGrid.path=pe({x:0,y:0})+K({x:r,y:0})+K({x:r+e,y:i})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},t}(en),iw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Column3D",e}return t.prototype.createAssets=function(){this.column3D=this.createChild(ZT),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},t.prototype.validate=function(){n.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.column3D&&this.column3D.copyFrom(e.column3D)},t.prototype.setFill=function(e){n.prototype.setFill.call(this,e),this.column.fill=e},t}(wa);F.registeredClasses.Column3D=iw;var xM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ColumnSeries3DDataItem",e.applyTheme(),e}return t}(Ms),im=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ColumnSeries3D",e.columns.template.column3D.applyOnClones=!0,e.columns.template.hiddenState.properties.visible=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&e.leftAxesContainer.layout!="vertical"&&e.rightAxesContainer.layout!="vertical"&&e.bottomAxesContainer.layout!="horizontal"&&e.topAxesContainer.layout!="horizontal"?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.validateDataElementReal=function(e){n.prototype.validateDataElementReal.call(this,e),e.column&&(e.column.dx=this.dx,e.column.dy=this.dy,e.column.visible=this.visible)},t.prototype.validateDataElements=function(){n.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},t.prototype.createColumnTemplate=function(){return new iw},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0);var i=this.columns.template;i.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e);var i=this.columns.template;i.column3D.angle=e},enumerable:!0,configurable:!0}),t}(_a);F.registeredClasses.ColumnSeries3D=im;F.registeredClasses.ColumnSeries3DDataItem=xM;(function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="XYChart3DDataItem",e.applyTheme(),e}return t})(Xm);var wM=function(n){N(t,n);function t(){var e=n.call(this)||this;e._axisRendererX=tw,e._axisRendererY=bM,e.className="XYChart3D",e.depth=30,e.angle=30;var i=e.seriesContainer.createChild(Se);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e.columnsContainer=i,e.columnsContainer.mask=e.createChild(Ye),e.applyTheme(),e}return t.prototype.updateSeriesMasks=function(){if(n.prototype.updateSeriesMasks.call(this),El()){var e=this.columnsContainer,i=e.mask;e.mask=void 0,e.mask=i}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx3D",{get:function(){return oe(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy3D",{get:function(){return-ae(this.angle)*this.depth},enumerable:!0,configurable:!0}),t.prototype.validateLayout=function(){n.prototype.validateLayout.call(this),this.fixColumns()},t.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),n.prototype.fixLayout.call(this)},t.prototype.fixColumns=function(){var e=this,i=1,r=0;Q(this.series.iterator(),function(a){a instanceof im&&(!a.clustered&&r>0&&i++,a.depthIndex=i-1,r++)});var s=0;Q(this.series.iterator(),function(a){if(a instanceof im){a.depth=e.depth/i,a.angle=e.angle,a.columnsContainer==e.columnsContainer&&(a.dx=e.depth/i*oe(e.angle)*a.depthIndex,a.dy=-e.depth/i*ae(e.angle)*a.depthIndex);var o=!1;(a.baseAxis==a.xAxis&&a.xAxis.renderer.inversed||a.baseAxis==a.yAxis&&a.yAxis.renderer.inversed)&&(o=!0);var u=1;a.dataItems.each(function(c){var f=c.column;f&&(o?f.zIndex=1e3*(1e3-u)+s-a.depthIndex*100:f.zIndex=1e3*u+s-a.depthIndex*100),u++}),o?s--:s++}}),this.maskColumns()},t.prototype.processConfig=function(e){if(e&&M(e.series)&&fi(e.series))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"ColumnSeries3D";n.prototype.processConfig.call(this,e)},t.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,i=this.plotContainer.pixelHeight,r=this.dx3D,s=this.dy3D,a=pe({x:0,y:0})+K({x:r,y:s})+K({x:e+r,y:s})+K({x:e+r,y:i+s})+K({x:e,y:i})+K({x:e,y:i})+K({x:0,y:i})+ti(),o=this.columnsContainer;o&&o.mask&&(o.mask.path=a)},t}(Ts);F.registeredClasses.XYChart3D=wM;var _M=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(Se),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new _n;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new zt(i),e._disposers.push(new Pt(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return t.prototype.getMinFromRules=function(e){var i=this.series;if(i){var r;return yr(i.heatRules.iterator(),function(s){return s.property==e?(r=s.min,!1):!0}),r}},t.prototype.getMaxFromRules=function(e){var i=this.series;if(i){var r;return Q(i.heatRules.iterator(),function(s){return s.property==e?(r=s.max,!1):!0}),r}},t.prototype.validate=function(){n.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,r=this.maxColor;if(M(i)||(i=Or(this.getMinFromRules("fill"))),M(r)||(r=Or(this.getMaxFromRules("fill"))),e){var s=e.fill;!M(i)&&s instanceof ht&&(i=s),!M(r)&&s instanceof ht&&(r=s)}M(r)||(r=Or(this.getMaxFromRules("fill")));var a=_t(this.getMinFromRules("fillOpacity"));D(a)||(a=1);var o=_t(this.getMaxFromRules("fillOpacity"));D(o)||(o=1);var u=_t(this.getMinFromRules("strokeOpacity"));D(u)||(u=1);var c=_t(this.getMaxFromRules("strokeOpacity"));D(c)||(c=1);for(var f=Or(this.getMinFromRules("stroke")),p=Or(this.getMaxFromRules("stroke")),g=0;g<this.markerCount;g++){var y=this.markers.getIndex(g);if(y||(y=this.markers.create(),y.parent=this.markerContainer,y.height=te(100),y.width=te(100)),this.markerCount==1){var b=new Er;if(this.reverseOrder?(b.addColor(r,o),b.addColor(i,a)):(b.addColor(i,a),b.addColor(r,o)),this.orientation=="vertical"&&(b.rotation=-90),y.fill=b,M(f)&&M(p)){var x=new Er;this.reverseOrder?(x.addColor(p,c),x.addColor(f,u)):(x.addColor(f,u),x.addColor(p,c)),this.orientation=="vertical"&&(x.rotation=-90),y.stroke=x}}else{var w=g;this.reverseOrder&&(w=this.markerCount-g-1);var P=new ht(tc(i.rgb,r.rgb,w/this.markerCount));y.fill=P;var S=a+(o-a)*w/this.markerCount;if(y.fillOpacity=S,M(f)&&M(p)){var k=new ht(tc(f.rgb,p.rgb,w/this.markerCount));y.stroke=k;var T=u+(c-u)*w/this.markerCount;y.strokeOpacity=T}}}var j=this.valueAxis.renderer;this.markerCount>1&&(this.orientation=="horizontal"?j.minGridDistance=this.measuredWidth/this.markerCount:j.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();for(var g=this.markerCount,V=this.markers.length;g<V;g++)this.markers.getIndex(g).parent=void 0},Object.defineProperty(t.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof ht||(e=Or(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof ht||(e=Or(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.markerContainer,r=this.valueAxis;e=="horizontal"?(M(this.width)||(this.width=200),this.height=void 0,r.width=te(100),r.height=void 0,r.tooltip.pointerOrientation="vertical",this.layout="vertical",i.width=te(100),i.height=void 0,r.renderer instanceof Hn||(r.renderer=new Hn)):(M(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",i.width=void 0,i.height=te(100),r.height=te(100),r.width=void 0,r.tooltip.pointerOrientation="horizontal",r.renderer instanceof en||(r.renderer=new en),r.renderer.inside=!0,r.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var s=r.renderer;s.grid.template.disabled=!0,s.axisFills.template.disabled=!0,s.baseGrid.disabled=!0,s.labels.template.padding(2,3,2,3),s.minHeight=void 0,s.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(Qe),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var i=this;this._series=e;var r="value";try{var s=e.heatRules.getIndex(0).dataField;s&&(r=s)}catch{}this.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high),e.dataItem.events.on("calculatedvaluechanged",function(a){i.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high)},void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),t.prototype.updateMinMax=function(e,i){var r=this.valueAxis;D(this.minValue)||(r.min=e,r.invalidate()),D(this.maxValue)||(r.max=i,r.invalidate())},t.prototype.processConfig=function(e){if(e&&M(e.series)&&at(e.series)&&at(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,r=this.map.events.on("insertKey",function(s){s.key==i&&(this.series=s.newValue,r.dispose())},this);this._disposers.push(r),delete e.series}n.prototype.processConfig.call(this,e)},t}(Se);F.registeredClasses.HeatLegend=_M;var gc=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="Candlestick",e.layout="none",e}return t.prototype.createAssets=function(){n.prototype.createAssets.call(this),this.lowLine=this.createChild(Gr),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Gr),this.highLine.shouldClone=!1},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.lowLine&&this.lowLine.copyFrom(e.lowLine),this.highLine&&this.highLine.copyFrom(e.highLine)},t}(wa);F.registeredClasses.Candlestick=gc;var eg=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.values.lowValueX={},e.values.lowValueY={},e.values.highValueX={},e.values.highValueY={},e.className="CandlestickSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),t}(Ms),rw=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="CandlestickSeries",e.groupFields.lowValueX="low",e.groupFields.lowValueY="low",e.groupFields.highValueX="high",e.groupFields.highValueY="high",e.strokeOpacity=1;var i=new ft,r=i.getFor("positive"),s=i.getFor("negative");return e.dropFromOpenState.properties.fill=s,e.dropFromOpenState.properties.stroke=s,e.riseFromOpenState.properties.fill=r,e.riseFromOpenState.properties.stroke=r,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},t.prototype.createDataItem=function(){return new eg},t.prototype.validateDataElementReal=function(e){n.prototype.validateDataElementReal.call(this,e),this.validateCandlestick(e)},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var r=i.lowLine,s=i.highLine;if(this.baseAxis==this.xAxis){var a=i.pixelWidth/2;r.x=a,s.x=a;var o=e.getWorkingValue(this.yOpenField),u=e.getWorkingValue(this.yField),c=this.yAxis.getY(e,this.yOpenField),f=this.yAxis.getY(e,this.yField),p=this.yAxis.getY(e,this.yLowField),g=this.yAxis.getY(e,this.yHighField),y=i.pixelY;r.y1=p-y,s.y1=g-y,o<u?(r.y2=c-y,s.y2=f-y):(r.y2=f-y,s.y2=c-y)}if(this.baseAxis==this.yAxis){var b=i.pixelHeight/2;r.y=b,s.y=b;var x=e.getWorkingValue(this.xOpenField),w=e.getWorkingValue(this.xField),P=this.xAxis.getX(e,this.xOpenField),S=this.xAxis.getX(e,this.xField),k=this.xAxis.getX(e,this.xLowField),T=this.xAxis.getX(e,this.xHighField),j=i.pixelX;r.x1=k-j,s.x1=T-j,x<w?(r.x2=P-j,s.x2=S-j):(r.x2=S-j,s.x2=P-j)}Q(this.axisRanges.iterator(),function(V){var A=e.rangesColumns.getKey(V.uid);if(A){var I=A.lowLine;I.x=r.x,I.y=r.y,I.x1=r.x1,I.x2=r.x2,I.y1=r.y1,I.y2=r.y2;var L=A.highLine;L.x=s.x,L.y=s.y,L.x1=s.x1,L.x2=s.x2,L.y1=s.y1,L.y2=s.y2}})}},Object.defineProperty(t.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),t.prototype.defineFields=function(){n.prototype.defineFields.call(this);var e=this.xAxis,i=this.yAxis;if(e&&i){if(this.baseAxis==e){var r=rc(i.axisFieldName);this._yLowField="low"+r+"Y",this._yHighField="high"+r+"Y"}if(this.baseAxis==i){var s=rc(e.axisFieldName);this._xLowField="low"+s+"X",this._xHighField="high"+s+"X"}this.addValueField(e,this._xValueFields,this._xLowField),this.addValueField(e,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField)}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var s=e.createChild(gc);s.shouldClone=!1,s.copyFrom(this.columns.template);var a,o,u=s.lowLine,c=s.highLine;this.baseAxis==this.yAxis?(a=i/3,o=r,u.y=r/2,c.y=r/2,u.x2=i/3,c.x2=i/3,c.x=i/3*2,s.column.x=i/3):(a=i,o=r/3,u.x=i/2,c.x=i/2,u.y2=r/3,c.y2=r/3,c.y=r/3*2,s.column.y=r/3),s.width=a,s.height=o,Qt(this,e,Wt),Qt(this.columns.template,s,Wt),s.stroke=this.riseFromOpenState.properties.stroke,s.fill=s.stroke;var f=e.dataItem;f.color=s.fill,f.colorOrig=s.fill},t.prototype.createColumnTemplate=function(){return new gc},t}(_a);F.registeredClasses.CandlestickSeries=rw;F.registeredClasses.CandlestickSeriesDataItem=eg;var rm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="OHLC",e.layout="none",e}return t.prototype.createAssets=function(){this.openLine=this.createChild(Gr),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Gr),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Gr),this.closeLine.shouldClone=!1},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.openLine&&this.openLine.copyFrom(e.openLine),this.highLowLine&&this.highLowLine.copyFrom(e.highLowLine),this.closeLine&&this.closeLine.copyFrom(e.closeLine)},t}(gc);F.registeredClasses.OHLC=rm;var nw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="OHLCSeriesDataItem",e.applyTheme(),e}return t}(eg),PM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="OHLCSeries",e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},t.prototype.createDataItem=function(){return new nw},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var r=i.openLine,s=i.highLowLine,a=i.closeLine;if(this.baseAxis==this.xAxis){var o=i.pixelWidth/2;s.x=o,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var u=this.yAxis.getY(e,this.yOpenField),c=this.yAxis.getY(e,this.yField),f=this.yAxis.getY(e,this.yLowField),p=this.yAxis.getY(e,this.yHighField),g=i.pixelY;r.y1=u-g,r.y2=u-g,r.x1=0,r.x2=o,a.y1=c-g,a.y2=c-g,a.x1=o,a.x2=2*o,s.y1=p-g,s.y2=f-g}if(this.baseAxis==this.yAxis){var y=i.pixelHeight/2;s.y=y,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var b=this.xAxis.getX(e,this.xOpenField),x=this.xAxis.getX(e,this.xField),w=this.xAxis.getX(e,this.xLowField),P=this.xAxis.getX(e,this.xHighField),S=i.pixelX;r.x1=b-S,r.x2=b-S,r.y1=y,r.y2=2*y,a.x1=x-S,a.x2=x-S,a.y1=0,a.y2=y,s.x1=P-S,s.x2=w-S}Q(this.axisRanges.iterator(),function(k){var T=e.rangesColumns.getKey(k.uid);if(T){var j=T.openLine;j.x=r.x,j.y=r.y,j.x1=r.x1,j.x2=r.x2,j.y1=r.y1,j.y2=r.y2;var V=T.closeLine;V.x=a.x,V.y=a.y,V.x1=a.x1,V.x2=a.x2,V.y1=a.y1,V.y2=a.y2;var A=T.highLowLine;A.x=s.x,A.y=s.y,A.x1=s.x1,A.x2=s.x2,A.y1=s.y1,A.y2=s.y2}})}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var s=e.createChild(rm);s.shouldClone=!1,s.copyFrom(this.columns.template);var a,o,u=s.openLine,c=s.closeLine,f=s.highLowLine;this.baseAxis==this.yAxis?(a=i/3,o=r,f.y=r/2,f.x2=i,u.x=i/3*2,u.y2=r/2,c.x=i/3,c.y2=r,c.y1=r/2):(a=i,o=r/3,f.x=i/2,f.y2=r,u.y=r/3*2,u.x2=i/2,c.y=r/3,c.x2=i,c.x1=i/2),s.width=a,s.height=o,Qt(this,e,Wt),Qt(this.columns.template,s,Wt),s.stroke=this.riseFromOpenState.properties.stroke;var p=e.dataItem;p.color=s.stroke,p.colorOrig=s.stroke},t.prototype.createColumnTemplate=function(){return new rm},t}(rw);F.registeredClasses.OHLCSeries=PM;F.registeredClasses.OHLCSeriesDataItem=nw;var sw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="StepLineSeriesSegment",e}return t.prototype.drawSegment=function(e,i,r,s,a,o){if(e.length>0&&i.length>0)if(a){var u=pe(e[0]);if(e.length>0)for(var c=1;c<e.length;c++){var f=e[c];c/2==Math.round(c/2)?u+=pe(f):u+=K(f)}this.strokeSprite.path=u,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(u=pe(e[0])+gl(e),u+=K(i[0])+gl(i),u+=K(e[0]),u+=ti(),this.fillSprite.path=u)}else{var u=pe(e[0])+gl(e);this.strokeSprite.path=u,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(u+=K(i[0])+gl(i),u+=K(e[0]),u+=ti(),this.fillSprite.path=u)}else this.strokeSprite.path="",this.fillSprite.path=""},t}($m);F.registeredClasses.StepLineSeriesSegment=sw;var aw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="StepLineSeriesDataItem",e.applyTheme(),e}return t}(Xc),CM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="StepLineSeries",e.applyTheme(),e.startLocation=0,e.endLocation=1,e}return t.prototype.createDataItem=function(){return new aw},t.prototype.addPoints=function(e,i,r,s,a){var o,u,c,f;this.baseAxis==this.xAxis&&(o=this.startLocation,u=this.endLocation,c=this.getAdjustedXLocation(i,this.yOpenField),f=this.getAdjustedXLocation(i,this.yField)),this.baseAxis==this.yAxis&&(c=this.startLocation,f=this.endLocation,o=this.getAdjustedXLocation(i,this.xOpenField),u=this.getAdjustedXLocation(i,this.xField));var p=this.xAxis.getX(i,r,o),g=this.yAxis.getY(i,s,c),y=this.xAxis.getX(i,r,u),b=this.yAxis.getY(i,s,f);if(p=ge(p,-1e5,1e5),g=ge(g,-1e5,1e5),y=ge(y,-1e5,1e5),b=ge(b,-1e5,1e5),!this.noRisers&&e.length>1){var x=e[e.length-1];this.baseAxis==this.xAxis&&(a?e.push({x:x.x,y:b}):e.push({x:p,y:x.y})),this.baseAxis==this.yAxis&&(a?e.push({x:y,y:x.y}):e.push({x:x.x,y:g}))}var w={x:p,y:g},P={x:y,y:b};a?e.push(P,w):e.push(w,P)},t.prototype.drawSegment=function(e,i,r){var s=!1;this.yAxis==this.baseAxis&&(s=!0),e.drawSegment(i,r,this.tensionX,this.tensionY,this.noRisers,s)},t.prototype.createSegment=function(){return new sw},Object.defineProperty(t.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t}(Gm);F.registeredClasses.StepLineSeries=CM;F.registeredClasses.StepLineSeriesDataItem=aw;var ow=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RadarColumn",e}return t.prototype.createAssets=function(){this.radarColumn=this.createChild(ma),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.radarColumn&&this.radarColumn.copyFrom(e.radarColumn)},t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return D(e)?e:this.radarColumn.getTooltipX()},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return D(e)?e:this.radarColumn.getTooltipY()},t}(wa);F.registeredClasses.RadarColumn=ow;var SM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return t}(Ms),jM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RadarColumnSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new ow},t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),Q(this.axisRanges.iterator(),function(i){var r=e.rangesColumns.getKey(i.uid);r&&(r.__disabled=!0)}))},t.prototype.validateDataElementReal=function(e){var i=this,r=this.chart.startAngle,s=this.chart.endAngle,a=this.yField,o=this.yOpenField,u=this.xField,c=this.xOpenField,f,p,g,y,b=this.getStartLocation(e),x=this.getEndLocation(e),w=(s-r)/(this.dataItems.length*(this.end-this.start)),P=e.column;P||(P=this.columns.create(),e.column=P,Qt(this,P,Wt),Qt(this.columns.template,P,Wt),e.addSprite(P),P.paper=this.paper,this.setColumnStates(P));var S=P.width,k=100;S instanceof st&&(k=S.percent);var T=ee((x-b)*(1-k/100)/2,5);if(b+=T,x-=T,this.xAxis instanceof Gt&&this.yAxis instanceof Gt)g=gt({x:this.yAxis.getX(e,a,0,"valueY"),y:this.yAxis.getY(e,a,0,"valueY")}),y=gt({x:this.yAxis.getX(e,o,1,"valueY"),y:this.yAxis.getY(e,o,1,"valueY")}),f=this.xAxis.getAngle(e,c,0,"valueX"),p=this.xAxis.getAngle(e,u,1,"valueX"),r=r+b*w,s=s-(1-x)*w;else if(this.baseAxis==this.xAxis)g=gt({x:this.yAxis.getX(e,a,e.locations[a],"valueY"),y:this.yAxis.getY(e,a,e.locations[a],"valueY")}),y=gt({x:this.yAxis.getX(e,o,e.locations[o],"valueY"),y:this.yAxis.getY(e,o,e.locations[o],"valueY")}),f=this.xAxis.getAngle(e,c,b,"valueX"),p=this.xAxis.getAngle(e,u,x,"valueX"),r=r+b*w,s=s-(1-x)*w;else{if(g=gt({x:this.yAxis.getX(e,a,b,"valueY"),y:this.yAxis.getY(e,a,b,"valueY")}),y=gt({x:this.yAxis.getX(e,o,x,"valueY"),y:this.yAxis.getY(e,o,x,"valueY")}),D(S)){var j=Math.abs(g-y);if(j>S){var V=(j-S)/2;g+=V,y-=V}}f=this.xAxis.getAngle(e,u,e.locations[u],"valueX"),p=this.xAxis.getAngle(e,c,e.locations[c],"valueX")}if(p<f){var A=p;p=f,f=A}f=ge(f,r,s),p=ge(p,r,s);var I=P.radarColumn;I.startAngle=f;var L=p-f;L>0?(I.arc=L,I.radius=g,I.innerRadius=y,P.__disabled=!1,P.parent=this.columnsContainer,Q(this.axisRanges.iterator(),function(J){var ie=e.rangesColumns.getKey(J.uid);ie||(ie=i.columns.create(),zk(i.columns.template,ie,Wt),Qt(J.contents,ie,Wt),ie.dataItem&&Le(ie.dataItem.sprites,ie),e.addSprite(ie),ie.paper=i.paper,i.setColumnStates(ie),e.rangesColumns.setKey(J.uid,ie));var ne=ie.radarColumn;ne.startAngle=f,ne.arc=L,ne.radius=g,ne.innerRadius=y,ne.invalid&&(ne.paper=i.paper,ne.validate()),ie.__disabled=!1,ie.parent=J.contents})):this.disableUnusedColumns(e)},t.prototype.getPoint=function(e,i,r,s,a,o,u){o||(o="valueX"),u||(u="valueY");var c=this.yAxis.getX(e,r,a,u),f=this.yAxis.getY(e,r,a,u),p=gt({x:c,y:f});p==0&&(p=1e-5);var g=this.xAxis.getAngle(e,i,s,o);return{x:p*oe(g),y:p*ae(g)}},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return vo(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.positionBulletReal=function(e,i,r){var s=this.xAxis,a=this.yAxis;(i<s.start||i>s.end||r<a.start||r>a.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,r))},t.prototype.setXAxis=function(e){n.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){n.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,i=this.yAxis.renderer;e.axisRendererY=i},t}(_a);F.registeredClasses.RadarColumnSeries=jM;F.registeredClasses.RadarColumnSeriesDataItem=SM;var nm=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.slice=e.createChild(Ye),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=te(100),e.topWidth=te(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.pixelPaddingTop,i=this.pixelPaddingBottom,r=this.pixelPaddingRight,s=this.pixelPaddingLeft,a=this.pixelWidth-r-s,o=this.pixelHeight-e-i,u=this.expandDistance,c="";if(this.orientation=="vertical"){var f=Ft(this.topWidth,a),p=Ft(this.bottomWidth,a),g={x:(a-f)/2+s,y:e},y={x:(a+f)/2+s,y:e},b={x:(a+p)/2+s,y:e+o},x={x:(a-p)/2+s,y:e+o},w={x:y.x+(b.x-y.x)/2+u*o,y:y.y+.5*o},P={x:g.x+(x.x-g.x)/2-u*o,y:g.y+.5*o},S=K(b),k=K(g);u!=0&&(S=ta(b,w),k=ta(g,P)),c=pe(g)+K(y)+S+K(x)+k,this.tickPoint={x:y.x+(b.x-y.x)/2,y:y.y+(b.y-y.y)/2}}else{var f=Ft(this.topWidth,o),p=Ft(this.bottomWidth,o),T={x:s,y:(o-f)/2+e},j={x:s,y:(o+f)/2+e},V={x:s+a,y:(o-p)/2+e},A={x:s+a,y:(o+p)/2+e},w={y:T.y+(V.y-T.y)/2-u*a,x:T.x+.5*a},P={y:j.y+(A.y-j.y)/2+u*a,x:j.x+.5*a},S=K(V),k=K(j);u!=0&&(S=ta(V,w),k=ta(j,P)),c=pe(j)+K(T)+S+K(A)+k,this.tickPoint={y:j.y+(A.y-j.y)/2,x:j.x+(A.x-j.x)/2}}this.slice.path=c,this.invalidateLayout()},t.prototype.getPoint=function(e,i){var r=this.pixelPaddingTop,s=this.pixelPaddingBottom,a=this.pixelPaddingRight,o=this.pixelPaddingLeft,u=this.pixelWidth-a-o,c=this.pixelHeight-r-s;if(this.orientation=="vertical"){var f=Ft(this.topWidth,u),p=Ft(this.bottomWidth,u),g={x:(u-f)/2+o,y:r},y={x:(u+f)/2+o,y:r},b={x:(u+p)/2+o,y:r+c},x={x:(u-p)/2+o,y:r+c},w=g.x+(x.x-g.x)*i,P=y.x+(b.x-y.x)*i;return{x:w+(P-w)*e,y:y.y+(b.y-y.y)*i}}else{var f=Ft(this.topWidth,c),p=Ft(this.bottomWidth,c),S={x:o,y:(c-f)/2+r},k={x:o,y:(c+f)/2+r},T={x:o+u,y:(c-p)/2+r},j={x:o+u,y:(c+p)/2+r},V=S.y+(T.y-S.y)*e,A=k.y+(j.y-k.y)*e;return{y:V+(A-V)*i,x:S.x+(T.x-S.x)*e}}},Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},t}(Se);F.registeredClasses.FunnelSlice=nm;var lw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._label=new li,e._slice=new li,e.className="FunnelTick",e.element=e.paper.add("path"),e._disposers.push(e._label),e._disposers.push(e._slice),e.setPropertyValue("locationX",0),e.setPropertyValue("locationY",0),e.applyTheme(),e}return t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.slice,i=e.getPoint(this.locationX,this.locationY);if(i){var r=this.label,s=e.dataItem.component,a=void 0,o=void 0,u=void 0;if(s.orientation=="vertical"){var c=r.pixelX,f=r.pixelY;s.labelsOpposite||(c+=r.maxRight),a=$i(i,e,this.parent),u=$i({x:c,y:f},r.parent,this.parent),o={x:r.parent.pixelX-this.length,y:u.y},s.labelsOpposite||(o.x=r.parent.measuredWidth+this.length)}else{var c=r.pixelX,f=r.pixelY;s.labelsOpposite||(f+=r.maxBottom),a=$i(i,e,this.parent),u=$i({x:c,y:f},r.parent,this.parent),o={x:u.x,y:r.parent.pixelY-this.length},s.labelsOpposite||(o.y=r.parent.measuredHeight+this.length)}this.path=pe(a)+K(o)+K(u)}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Lt([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),t}(Zl);F.registeredClasses.FunnelTick=lw;var tg=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="FunnelSeriesDataItem",e.events.on("visibilitychanged",function(){e.component&&e.component.invalidateDataItems()},e,!1),e.applyTheme(),e}return Object.defineProperty(t.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var i=this.component.sliceLinks.create();this._sliceLink=i,this._disposers.push(i),i.parent=this.component.slicesContainer,this._disposers.push(new vt(function(){e.component&&e.component.sliceLinks.removeValue(i)})),this.addSprite(i),i.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),t}(Gc),uw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e._nextY=0,e.className="FunnelSeries",e.orientation="vertical",e.width=te(100),e.height=te(100),e.slicesContainer.width=te(100),e.slicesContainer.height=te(100),e._disposers.push(e.slicesContainer.events.on("maxsizechanged",e.invalidateDataItems,e,!1)),e.labelsOpposite=!0,e.labelsContainer.layout="absolute",e.bottomRatio=0,e.applyTheme(),e}return t.prototype.createSlice=function(){return new nm},t.prototype.createTick=function(){return new lw},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},t.prototype.createDataItem=function(){return new tg},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var i=e.states.create("hover");i.properties.expandDistance=.2},t.prototype.initLabel=function(e){n.prototype.initLabel.call(this,e),e.verticalCenter="middle",e.horizontalCenter="middle",e.isMeasured=!0,e.padding(5,5,5,5)},t.prototype.validate=function(){n.prototype.validate.call(this),this._nextY=0},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer,r=this.labelsContainer,s=this.labels.template;this.alignLabels?(s.interactionsEnabled=!0,i.isMeasured=!0,r.isMeasured=!0):(s.interactionsEnabled=!1,i.isMeasured=!1,r.isMeasured=!1);var a=0,o=0;this.dataItems.each(function(u){M(u.value)&&(o++,u.value>0?a+=Math.abs(u.getWorkingValue("value")/u.value):e.ignoreZeroValues||!u.visible||u.__disabled||u.isHiding?o--:a+=1)}),this._total=1/o*a,this._count=o,n.prototype.validateDataElements.call(this),this.arrangeLabels()},t.prototype.getNextValue=function(e){var i=e.index,r=e.getWorkingValue("value");if(i<this.dataItems.length-1){var s=this.dataItems.getIndex(i+1);if(r=s.getWorkingValue("value"),!s.visible||s.isHiding||s.__disabled||s.value==0&&this.ignoreZeroValues)return this.getNextValue(s)}return r},t.prototype.formDataElement=function(){},t.prototype.validateDataElement=function(e){var i=this,r=e.slice;r.orientation=this.orientation;var s=e.sliceLink;s.orientation=this.orientation;var a=e.tick,o=e.label;a.slice=r,a.label=o,M(e.value)?(this.decorateSlice(e),ce(e.sprites,function(u){e.value==0&&i.ignoreZeroValues?u.__disabled=!0:u.__disabled=!1})):ce(e.sprites,function(u){u.__disabled=!0}),e.index==this.dataItems.length-1&&(s.disabled=!0),n.prototype.validateDataElement.call(this,e),s.fill=r.fill},t.prototype.decorateSlice=function(e){var i=e.slice,r=e.sliceLink,s=e.label,a=e.tick,o=this.slicesContainer.innerWidth,u=this.slicesContainer.innerHeight,c=this.getNextValue(e),f=Math.abs(e.getWorkingValue("value")),p=this.bottomRatio,g=1;if(e.value!=0?g=f/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(g=1e-6),this.ignoreZeroValues&&e.value==0){e.__disabled=!0;return}else e.__disabled=!1;if(this._nextY==1/0&&(this._nextY=0),this.orientation=="vertical"){var y=r.pixelHeight*g;u=u+y,i.topWidth=f/this.dataItem.values.value.high*o,i.bottomWidth=(f-(f-c)*p)/this.dataItem.values.value.high*o,r.topWidth=i.bottomWidth,r.bottomWidth=(f-(f-c))/this.dataItem.values.value.high*o,i.y=this._nextY,i.height=Math.min(1e5,We(0,u/this._count*g/this._total-y)),i.x=o/2,this.alignLabels?s.x=void 0:s.x=i.x,s.y=i.pixelY+i.pixelHeight*a.locationY,this._nextY+=i.pixelHeight+y,r.y=this._nextY-y,r.x=i.x}else{var b=r.pixelWidth*g;o=o+b,i.topWidth=f/this.dataItem.values.value.high*u,i.bottomWidth=(f-(f-c)*p)/this.dataItem.values.value.high*u,r.topWidth=i.bottomWidth,r.bottomWidth=(f-(f-c))/this.dataItem.values.value.high*u,i.x=this._nextY,i.width=Math.min(1e5,o/this._count*g*1/this._total-b),i.y=u/2,this.alignLabels?s.y=this.labelsContainer.measuredHeight:s.y=i.y,s.x=i.pixelX+i.pixelWidth*a.locationX,this._nextY+=i.pixelWidth+b,r.x=this._nextY-b,r.y=i.y}},t.prototype.getLastLabel=function(e){if(e>0){var i=this.labels.getIndex(e);return i.__disabled||!i.visible?this.getLastLabel(e-1):i}},t.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var i=this.getLastLabel(e-1);if(i){var r=i.pixelY,s=i.pixelX;if(e>1){for(var a=e-2;a>=0;a--){var o=this.labels.getIndex(a);o.visible&&!o.__disabled&&(o.invalid&&o.validate(),this.orientation=="vertical"?o.pixelY+o.measuredHeight>r&&(o.y=Math.min(1e6,r-o.measuredHeight)):o.pixelX+o.measuredWidth>s&&(o.x=Math.min(1e6,s-o.measuredWidth)),r=o.pixelY,s=o.pixelX)}r=0,s=0;for(var a=0;a<e;a++){var o=this.labels.getIndex(a);o.visible&&!o.__disabled&&(o.invalid&&o.validate(),this.orientation=="vertical"?o.pixelY<r&&(o.y=Math.min(1e6,r)):o.pixelX<s&&(o.x=Math.min(1e6,s)),r+=o.measuredHeight,s+=o.measuredWidth)}}}}}},t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice,s=e.locationX;D(s)||(s=.5);var a=e.locationY;D(a)||(a=1),e.x=r.pixelX+r.measuredWidth*s,e.y=r.pixelY+r.measuredHeight*a},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),e=="vertical"?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new nm;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new zt(e),this._disposers.push(new Pt(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var i=this,r=this.startIndex,s=this.endIndex,a=this.defaultState.transitionDuration;D(e)&&(a=e);var o=0;Q(ca(this.dataItems.iterator()),function(c){var f=c[0],p=c[1];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*f+a*(f-r)/(s-r)),p.show(a,o,["value"])});var u=n.prototype.show.call(this,e);return u},t.prototype.hide=function(e){var i=this,r=["value"],s=0,a=this.startIndex,o=this.endIndex,u=0,c=this.hiddenState.transitionDuration;D(e)&&(c=e),Q(ca(this.dataItems.iterator()),function(p){var g=p[0],y=p[1];i.sequencedInterpolation&&(u=i.sequencedInterpolationDelay*g+c*(g-a)/(o-a)),y.hide(c,u,s,r)});var f=n.prototype.hide.call(this,e);return f&&!f.isFinished()&&f.delay(u),f},t.prototype.setAlignLabels=function(e){n.prototype.setAlignLabels.call(this,e),this.ticks.template.disabled=!e;var i=this.labelsContainer;i&&(e?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=te(100),i.height=te(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(t.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var i=this.labels.template,r="none",s="none";this.alignLabels?e?(this.labelsContainer.toFront(),this.orientation=="vertical"?(this.ticks.template.locationX=1,i.horizontalCenter="left",r="right"):(this.ticks.template.locationY=1,i.horizontalCenter="right",s="bottom")):(this.labelsContainer.toBack(),this.orientation=="vertical"?(this.ticks.template.locationX=0,r="left"):(s="top",this.ticks.template.locationY=0)):this.orientation=="vertical"?r="center":s="middle",i.align=r,i.valign=s,this.validateLayout(),this.ticks.each(function(a){a.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(ql);F.registeredClasses.FunnelSeries=uw;F.registeredClasses.FunnelSeriesDataItem=tg;var ig=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return t}(tg),hw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PyramidSeries",e.topWidth=te(0),e.bottomWidth=te(100),e.pyramidHeight=te(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new ig},t.prototype.validate=function(){n.prototype.validate.call(this),this._nextWidth=void 0},t.prototype.getNextValue=function(e){var i=e.index,r=e.getWorkingValue("value");if(i<this.dataItems.length-1){var s=this.dataItems.getIndex(i+1);r=s.getWorkingValue("value")}return r==0&&(r=1e-6),r},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer.innerWidth,r=this.slicesContainer.innerHeight;if(this.dataItems.each(function(o){if(o.value>0){var u=o.getWorkingValue("value")/o.value,c=o.sliceLink;e.orientation=="vertical"?r-=c.pixelHeight*u:i-=c.pixelWidth*u}}),this._pyramidHeight=Ft(this.pyramidHeight,r),this._pyramidWidth=Ft(this.pyramidHeight,i),this.orientation=="vertical"){var s=(r-this._pyramidHeight)/2;this.slicesContainer.y=s,this.labelsContainer.y=s,this.ticksContainer.y=s}else{var a=(i-this._pyramidWidth)/2;this.slicesContainer.x=a,this.labelsContainer.x=a,this.ticksContainer.x=a}n.prototype.validateDataElements.call(this)},t.prototype.decorateSlice=function(e){var i=this.dataItem.values.value.absoluteSum;if(i!=0){var r=e.slice,s=e.sliceLink,a=e.label,o=e.tick;this.getNextValue(e);var u=Math.abs(e.getWorkingValue("value")),c=this._pyramidWidth,f=this._pyramidHeight,p=this.slicesContainer.innerWidth,g=this.slicesContainer.innerHeight,y=s.pixelWidth,b=s.pixelHeight;if((e.value==0||e.value==null)&&this.ignoreZeroValues?e.__disabled=!0:e.__disabled=!1,this.orientation=="vertical"){var x=Ft(this.topWidth,p);D(this._nextWidth)||(this._nextWidth=x);var w=Ft(this.bottomWidth,p),P=this._nextWidth,S=Math.atan2(f,x-w),k=Math.tan(Math.PI/2-S);k==0&&(k=1e-8);var T=void 0,j=void 0;if(this.valueIs=="area"){var V=(x+w)/2*f,A=V*u/i,I=Math.abs(P*P-2*A*k);T=(P-Math.sqrt(I))/k,T>0?j=(2*A-T*P)/T:j=P}else T=f*u/i,j=P-T*k;r.height=T,r.width=p,r.bottomWidth=j,r.topWidth=P,s.topWidth=r.bottomWidth,s.bottomWidth=r.bottomWidth,r.y=this._nextY,this.alignLabels?a.x=0:a.x=p/2,a.y=r.pixelY+r.pixelHeight*o.locationY+r.dy,this._nextY+=r.pixelHeight+b*u/Math.max(Math.abs(e.value),1e-8),s.y=this._nextY-b,s.x=p/2}else{var x=Ft(this.topWidth,g);D(this._nextWidth)||(this._nextWidth=x);var w=Ft(this.bottomWidth,g),P=this._nextWidth,S=Math.atan2(c,x-w),k=Math.tan(Math.PI/2-S);k==0&&(k=1e-8);var L=void 0,j=void 0;if(this.valueIs=="area"){var V=(x+w)/2*c,A=V*u/i;L=(P-Math.sqrt(P*P-2*A*k))/k,j=(2*A-L*P)/L}else L=c*u/i,j=P-L*k;r.width=L,r.height=g,r.bottomWidth=j,r.topWidth=P,s.topWidth=r.bottomWidth,s.bottomWidth=r.bottomWidth,r.x=this._nextY,this.alignLabels?a.y=this.labelsContainer.measuredHeight:a.y=g/2,a.x=r.pixelX+r.pixelWidth*o.locationX+r.dx,this._nextY+=r.pixelWidth+y*u/Math.max(Math.abs(e.value),1e-8),s.x=this._nextY-y,s.y=g/2}this._nextWidth=r.bottomWidth}},Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t}(uw);F.registeredClasses.PyramidSeries=hw;F.registeredClasses.PyramidSeriesDataItem=ig;var cw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return t}(ig),DM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=te(100),e.bottomWidth=te(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(Ye),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return t.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,r=this._maskSprite,s=r.measuredWidth/r.scale,a=r.measuredHeight/r.scale,o=ot(i/a,e/s);o==1/0&&(o=1),o=We(.001,o);var u=this.startLocation,c=this.endLocation,f=ot(e,s*o),p=ot(i,a*o);r.scale=o,this.orientation=="vertical"?(this.topWidth=f+4,this.bottomWidth=f+4,this.pyramidHeight=p*(c-u),r.x=e/2,r.y=p/2):(this.topWidth=p+4,this.bottomWidth=p+4,this.pyramidHeight=f*(c-u),r.valign="middle",r.x=f/2,r.y=i/2),r.verticalCenter="middle",r.horizontalCenter="middle",n.prototype.validateDataElements.call(this);var g,y;this.orientation=="vertical"?(this.valign=="bottom"&&(g=i-p),this.valign=="middle"&&(g=(i-p)/2),this.valign=="top"&&(g=0),this.align=="left"&&(y=-(e-f)/2),this.align=="center"&&(y=0),this.align=="right"&&(y=(e-f)/2),this.slices.template.dy=u*p,this.alignLabels&&(this.slicesContainer.dx=y)):(this.valign=="bottom"&&(g=(i-p)/2),this.valign=="middle"&&(g=0),this.valign=="top"&&(g=-(i-p)/2),this.align=="left"&&(y=0),this.align=="center"&&(y=(e-f)/2),this.align=="right"&&(y=e-f),this.slices.template.dx=u*f,this.alignLabels&&(this.slicesContainer.dy=g)),this.slicesContainer.x=y,this.labelsContainer.x=y,this.ticksContainer.x=y,this.slicesContainer.y=g,this.labelsContainer.y=g,this.ticksContainer.y=g,f>0&&p>0&&(this.slicesContainer.mask=r)},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),M(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new cw},Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),t.prototype.initSlice=function(e){n.prototype.initSlice.call(this,e);var i=e.states.getKey("hover");i&&(i.properties.expandDistance=0)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(hw);F.registeredClasses.PictorialStackedSeries=DM;F.registeredClasses.PictorialStackedSeriesDataItem=cw;var dw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ConeColumn",e}return t.prototype.createAssets=function(){this.coneColumn=this.createChild(KT),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},t}(wa);F.registeredClasses.ConeColumn=dw;var kM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ConeSeriesDataItem",e.applyTheme(),e}return t}(Ms),OM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ConeSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new dw},t.prototype.getMaskPath=function(){var e=0,i=0,r=this.columns.getIndex(0);if(r)return this.baseAxis==this.xAxis?i=r.coneColumn.innerWidth/2+1:e=r.coneColumn.innerHeight/2+1,ws({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+i})},t.prototype.validateDataElementReal=function(e){n.prototype.validateDataElementReal.call(this,e);var i=e.column;if(i){var r=e.column.coneColumn;r.fill=e.column.fill,this.baseAxis==this.yAxis?r.orientation="horizontal":r.orientation="vertical"}},t}(_a);F.registeredClasses.ConeSeries=OM;F.registeredClasses.ConeSeriesDataItem=kM;var fw=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="CurvedColumn",e}return t.prototype.createAssets=function(){this.curvedColumn=this.createChild(Ye),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=te(120),this.height=te(120),this.column=this.curvedColumn},t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.realWidth,i=this.realHeight,r=this.realX-this.pixelX,s=this.realY-this.pixelY,a;this.width;var o=1,u=1;this.orientation=="vertical"?(o=this.tension,a=[{x:0,y:i+s},{x:e/2,y:s},{x:e,y:i+s}]):(u=this.tension,i=Math.abs(i),a=[{x:r,y:i},{x:r+e,y:i/2},{x:r,y:0}]);var c=pe(a[0])+new Ds(o,u).smooth(a);this.column.path=c},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.curvedColumn&&this.curvedColumn.copyFrom(e.curvedColumn)},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(wa);F.registeredClasses.CurvedColumn=fw;var TM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="CurvedColumnSeriesDataItem",e.applyTheme(),e}return t}(Ms),MM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="CurvedColumnSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new fw},t.prototype.validateDataElementReal=function(e){n.prototype.validateDataElementReal.call(this,e);var i=e.column;if(i=e.column,i){var r=e.column.curvedColumn;r.fill=e.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical"}},t}(_a);F.registeredClasses.CurvedColumnSeries=MM;F.registeredClasses.CurvedColumnSeriesDataItem=TM;var FM=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="CircleBullet";var i=e.createChild(ba);return i.shouldClone=!1,i.radius=5,i.isMeasured=!1,e.circle=i,e.applyTheme(),e}return t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.circle.copyFrom(e.circle)},t}(bn);F.registeredClasses.CircleBullet=FM;var EM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="ErrorBullet",e.errorLine=e.createChild(Ye),e.errorLine.shouldClone=!1,e.width=20,e.height=20,e.strokeOpacity=1,e.isDynamic=!0,e}return t.prototype.validatePosition=function(){n.prototype.validatePosition.call(this);var e=this.pixelWidth/2,i=this.pixelHeight/2;this.errorLine.path=pe({x:-e,y:-i})+K({x:e,y:-i})+pe({x:0,y:-i})+K({x:0,y:i})+pe({x:-e,y:i})+K({x:e,y:i})},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.errorLine.copyFrom(e.errorLine)},t}(bn);F.registeredClasses.ErrorBullet=EM;var VM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="NavigationBarDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),t}(pa),AM=function(n){N(t,n);function t(){var e=n.call(this)||this;e.className="NavigationBar";var i=new ft,r=new qp;r.valign="middle",r.paddingTop=8,r.paddingBottom=8,e.paddingBottom=2,e.links=new zt(r),e._disposers.push(new Pt(e.links)),e._disposers.push(r),e._linksIterator=new km(e.links,function(){return e.links.create()}),e._linksIterator.createNewItems=!0;var s=new Lm;s.direction="right",s.width=8,s.height=12,s.fill=i.getFor("alternativeBackground"),s.fillOpacity=.5,s.valign="middle",s.marginLeft=10,s.marginRight=10,e.separators=new zt(s),e._disposers.push(new Pt(e.separators)),e._disposers.push(s);var a=new qp;return e.activeLink=a,a.copyFrom(r),a.valign="middle",a.fontWeight="bold",e.width=te(100),e.layout="grid",e.dataFields.name="name",e.applyTheme(),e}return t.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),n.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){n.prototype.validateDataElement.call(this,e);var i;if(e.index<this.dataItems.length-1){i=this._linksIterator.getLast(),i.parent=this;var r=this.separators.create();r.parent=this,r.valign="middle"}else i=this.activeLink,i.events.copyFrom(this.links.template.events),i.hide(0),i.show(),i.parent=this;i.dataItem=e,i.text=e.name,i.validate()},t}(yo);F.registeredClasses.NavigationBar=AM;F.registeredClasses.NavigationBarDataItem=VM;var pw=function(n){N(t,n);function t(){var e=n.call(this)||this;e.point={x:0,y:0},e._stick="none",e.className="Cursor",e.width=te(100),e.height=te(100),e.shouldClone=!1,e.hide(0),e.trackable=!0,e.clickable=!0,e.isMeasured=!1;var i=Ne();return e._disposers.push(i.body.events.on("down",e.handleCursorDown,e)),e._disposers.push(i.body.events.on("up",e.handleCursorUp,e)),e._disposers.push(i.body.events.on("track",e.handleCursorMove,e)),e.applyTheme(),e}return t.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if((this._generalBehavior!="zoom"&&this._generalBehavior!="pan"||!this.downPoint)&&!Ne().isLocalElement(e.pointer,this.paper.svg,this.uid)){(!this.isHidden||!this.isHiding)&&this.hide();return}var i=ao(e.pointer.point,this);return this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._stick=="soft"&&this._stickPoint&&(this.fitsToBounds(i)||(i=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.triggerMove(i),i}},t.prototype.hideReal=function(e){if(!((this._stick=="hard"||this._stick=="soft")&&this._stickPoint))return n.prototype.hideReal.call(this,e)},t.prototype.triggerMove=function(e,i,r){e.x=ee(e.x,1),e.y=ee(e.y,1),i&&(this._stick=i),(i=="hard"||i=="soft")&&(this._stickPoint=e),this.triggerMoveReal(e,r)},t.prototype.triggerMoveReal=function(e,i){(this.point.x!=e.x||this.point.y!=e.y||i)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},t.prototype.triggerDown=function(e){this.triggerDownReal(e)},t.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),Ne().setGlobalStyle(gi.grabbing);break}},t.prototype.triggerUp=function(e){this.triggerUpReal(e)},t.prototype.triggerUpReal=function(e){it.requestFrame(),this.updatePoint(this.upPoint);var i=Ne();if(gt(this._upPointOrig,this._downPointOrig)>i.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),i.setGlobalStyle(gi.default);break}this.downPoint=void 0,this.updateSelection()}},t.prototype.updateSelection=function(){},t.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},t.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch||!Ne().isLocalElement(e.pointer,this.paper.svg,this.uid))){Ah();var i=ao(e.pointer.point,this);this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.fitsToBounds(i)&&(this._downPointOrig={x:i.x,y:i.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(i)&&e.event.preventDefault(),this.triggerMove(i),this.triggerDown(i))}},t.prototype.shouldPreventGestures=function(e){return!0},t.prototype.updatePoint=function(e){},t.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&!(!this.downPoint&&!Ne().isLocalElement(e.pointer,this.paper.svg,this.uid))){var i=ao(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",i),!(!this.downPoint||!this.fitsToBounds(this.downPoint))&&(this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._upPointOrig={x:i.x,y:i.y},this.triggerMove(i),this.triggerUp(i))}},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,M(this._chart.plotContainer)&&Ne().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),t}(Se);F.registeredClasses.Cursor=pw;var mw=function(n){N(t,n);function t(){var e=n.call(this)||this;e._lineX=new li,e._lineY=new li,e._xAxis=new li,e._yAxis=new li,e._snapToDisposers=[],e.className="XYCursor",e.behavior="zoomX",e.maxPanOut=.1;var i=new ft;e.snapOnPan=!0;var r=e.createChild(Ye);r.shouldClone=!1,r.fillOpacity=.2,r.fill=i.getFor("alternativeBackground"),r.isMeasured=!1,r.visible=!1,r.interactionsEnabled=!1,e.selection=r,e._disposers.push(e.selection);var s=e.createChild(Ye);s.shouldClone=!1,s.stroke=i.getFor("grid"),s.fill=Oe(),s.strokeDasharray="3,3",s.isMeasured=!1,s.strokeOpacity=.4,s.interactionsEnabled=!1,s.y=0,e.lineX=s,e._disposers.push(e.lineX);var a=e.createChild(Ye);return a.shouldClone=!1,a.stroke=i.getFor("grid"),a.fill=Oe(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.x=0,e.lineY=a,e._disposers.push(e.lineY),e.events.on("sizechanged",e.updateSize,e,!1),e._disposers.push(e._lineX),e._disposers.push(e._lineY),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.mask=e,e.hideSeriesTooltipsOnSelection=!0,e.applyTheme(),e}return t.prototype.updateSize=function(){this.lineX&&(this.lineX.path=pe({x:0,y:0})+K({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=pe({x:0,y:0})+K({x:this.innerWidth,y:0}))},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,i=this.behavior;if(e){var r=this.point;this.lineX&&(r.x=this.lineX.pixelX),this.lineY&&(r.y=this.lineY.pixelY);var s=this.selection,a=Math.min(r.x,e.x),o=Math.min(r.y,e.y),u=ee(Math.abs(e.x-r.x),this._positionPrecision),c=ee(Math.abs(e.y-r.y),this._positionPrecision);switch(i){case"zoomX":o=0,c=this.pixelHeight;break;case"zoomY":a=0,u=this.pixelWidth;break;case"selectX":o=0,c=this.pixelHeight;break;case"selectY":a=0,u=this.pixelWidth;break}s.x=a,s.y=o,s.path=vp(u,c),s.validatePosition()}else this._generalBehavior!="select"&&this.selection.hide()}},t.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},t.prototype.triggerMoveReal=function(e,i){n.prototype.triggerMoveReal.call(this,e,i);var r=this.snapToSeries;if(r&&!this.downPoint)if(r instanceof ga)r.isHidden&&this.updateLinePositions(e);else{var s=!0;ce(r,function(a){a.isHidden||(s=!1)}),s&&this.updateLinePositions(e)}else this.updateLinePositions(e);this.downPoint&&gt(this.downPoint,e)>3&&this._generalBehavior=="pan"&&(this.getPanningRanges(),this.dispatch("panning"))},t.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection()},t.prototype.triggerDownReal=function(e){if(this.visible&&!this.isHiding)if(this._generalBehavior=="select"&&(this.selection.parent=this.parent),this.fitsToBounds(e)){this.downPoint={x:e.x,y:e.y},this.updatePoint(e),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var i=this.selection,r=this.downPoint.x,s=this.downPoint.y;this._usesSelection&&(i.x=r,i.y=s,i.path="",i.show()),n.prototype.triggerDownReal.call(this,e)}else this.downPoint=void 0;else this.downPoint=void 0},t.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY)},t.prototype.triggerUpReal=function(e){if(this.hasMoved())this.downPoint&&(this.upPoint=e,this.updatePoint(this.upPoint),this._generalBehavior!="pan"&&this.getRanges(),this._generalBehavior!="select"&&this.selection.hide(),n.prototype.triggerUpReal.call(this,e));else{if(this._generalBehavior!="select"?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),this._generalBehavior=="pan"){var i=Ne();i.setGlobalStyle(gi.default)}this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},t.prototype.hasMoved=function(){var e;return this.behavior=="zoomX"||this.behavior=="panX"?e=Sk(this._upPointOrig,this._downPointOrig):this.behavior=="zoomY"||this.behavior=="panY"?e=jk(this._upPointOrig,this._downPointOrig):e=gt(this._upPointOrig,this._downPointOrig),e>Ne().getHitOption(this.interactions,"hitTolerance")},t.prototype.getPanningRanges=function(){var e=ee(this.downPoint.x/this.innerWidth,5),i=1-ee(this.downPoint.y/this.innerHeight,5),r=ee(this.point.x/this.innerWidth,5),s=1-ee(this.point.y/this.innerHeight,5),a=e-r,o=i-s;this.xRange={start:a,end:1+a},this.yRange={start:o,end:1+o},this.behavior=="panX"&&(this.yRange.start=0,this.yRange.end=1),this.behavior=="panY"&&(this.xRange.start=0,this.xRange.end=1)},t.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var e=ee(this.downPoint.x/this.innerWidth,5),i=ee(this.upPoint.x/this.innerWidth,5),r=1-ee(this.downPoint.y/this.innerHeight,5),s=1-ee(this.upPoint.y/this.innerHeight,5);this.xRange={start:ot(e,i),end:We(e,i)},this.yRange={start:ot(r,s),end:We(r,s)}},Object.defineProperty(t.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,e.indexOf("zoom")!=-1&&(this._generalBehavior="zoom",this._usesSelection=!0),e.indexOf("select")!=-1&&(this._generalBehavior="select",this._usesSelection=!0),e.indexOf("pan")!=-1&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),t.prototype.shouldPreventGestures=function(e){return(!this.interactions.isTouchProtected||!e)&&this.behavior!="none"},Object.defineProperty(t.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var i=this;this._xAxis.get()!=e&&this._xAxis.set(e,new Lt([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){i.hide(0),i.preventShow=!0},void 0,!1),e.events.on("rangechangeended",function(r){i.preventShow=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var i=this;this._yAxis.get()!=e&&this._yAxis.set(e,new Lt([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){i.hide(0),i.__disabled=!0},void 0,!1),e.events.on("rangechangeended",function(r){i.__disabled=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),t.prototype.handleXTooltipPosition=function(e){var i=this.xAxis.tooltip,r=Jr({x:i.pixelX,y:i.pixelY},this),s=r.x;if(r.y=1,this.lineX&&(this.lineX.x=s,this.fitsToBounds(r)||this.hide()),this.xAxis&&this.fullWidthLineX){var a=this.xAxis.currentItemStartPoint,o=this.xAxis.currentItemEndPoint;if(a&&o){this.lineX.x=s;var u=o.x-a.x;this.lineX.path=vp(u,this.innerHeight,-u/2)}}},t.prototype.handleYTooltipPosition=function(e){var i=this.yAxis.tooltip,r=Jr({x:i.pixelX,y:i.pixelY},this),s=r.y;if(r.x=1,this.lineY&&(this.lineY.y=s,this.fitsToBounds(r)||this.hide()),this.yAxis&&this.fullWidthLineY){var a=this.yAxis.currentItemStartPoint,o=this.yAxis.currentItemEndPoint;if(a&&o){this.lineY.y=s;var u=o.y-a.y;this.lineY.path=vp(this.innerWidth,u,0,-u/2)}}},Object.defineProperty(t.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i=this;if(e&&(M(e.xAxis)&&at(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.xAxis+'" found for `xAxis`'),delete e.xAxis)),M(e.yAxis)&&at(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.yAxis+'" found for `yAxis`'),delete e.yAxis)),M(e.snapToSeries))){var r=fi(e.snapToSeries)?e.snapToSeries:[e.snapToSeries],s=!1;ce(r,function(a,o){at(a)&&(i.map.hasKey(a)?r[o]=i.map.getKey(a):(i.processingErrors.push('[XYCursor] No series with id "'+a+'" found for `series`'),s=!0))}),s?delete e.snapToSeries:e.snapToSeries=r}n.prototype.processConfig.call(this,e)},Object.defineProperty(t.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var i=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof ga&&(e=[e]),this._snapToDisposers&&ce(this._snapToDisposers,function(r){r.dispose()}),this._snapToDisposers=[],e&&ce(e,function(r){i._snapToDisposers.push(r.events.on("tooltipshownat",function(){i.handleSnap(r)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(e){this.setPropertyValue("snapOnPan",e)},enumerable:!0,configurable:!0}),t.prototype.handleSnap=function(e){if(!this.downPoint){var i=e.getTooltipX()+e.xAxis.pixelX,r=e.getTooltipY()+e.yAxis.pixelY,s=e.xAxis,a=e.yAxis;s&&s.renderer.opposite&&(r-=this.pixelHeight),this.point={x:i,y:r},this.getPositions();var o=i,u=r;i-=this.pixelWidth,a&&a.renderer.opposite&&(i+=this.pixelWidth);var c=e.tooltip,f=c.animationDuration,p=c.animationEasing;s instanceof Qe&&!(s instanceof At)&&a instanceof Qe&&!(a instanceof At)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=i,this.lineX.y=r,this.xAxis||this.lineX.animate([{property:"x",to:o}],f,p),this.yAxis||this.lineY.animate([{property:"y",to:u}],f,p)}},t.prototype.dispose=function(){this.hide(0),n.prototype.dispose.call(this)},t}(pw);F.registeredClasses.XYCursor=mw;var IM=function(n){N(t,n);function t(){var e=n.call(this)||this;return e.className="RadarCursor",e.radius=te(100),e.innerRadius=te(0),e.applyTheme(),e.mask=void 0,e}return t.prototype.fitsToBounds=function(e){var i=gt(e);return i<this.truePixelRadius+1&&i>this.pixelInnerRadius-1},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.triggerMoveReal=function(e,i){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),n.prototype.triggerMoveReal.call(this,e,i)},t.prototype.updateLineX=function(e){var i=this.pixelRadius,r=this.startAngle,s=this.endAngle,a=this.pixelInnerRadius;if(i>0&&D(r)&&D(s)&&D(a)){var o=fn(Ci(e),r,s),u=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var c=this.xAxis.currentItemStartPoint,f=this.xAxis.currentItemEndPoint;if(c&&f){var p=fn(Ci(c),r,s),g=fn(Ci(f),r,s),y=g-p;r<s?y<0&&(y+=360):y>0&&(y-=360),o-=y/2,u=pe({x:a*oe(o),y:a*ae(o)})+K({x:i*oe(o),y:i*ae(o)})+oi(o,y,i)+K({x:a*oe(o+y),y:a*ae(o+y)})+oi(o+y,-y,a)}}u||(u=pe({x:a*oe(o),y:a*ae(o)})+K({x:i*oe(o),y:i*ae(o)})),this.lineX.path=u}}},t.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var i=this.startAngle,r=this.endAngle,s=this.truePixelRadius,a=ge(gt(e),0,this.truePixelRadius);if(D(a)&&D(i)){this.lineY.moveTo({x:0,y:0});var o=void 0,u=r-i;if(this.yAxis&&this.fullWidthLineY){var c=this.yAxis.currentItemStartPoint,f=this.yAxis.currentItemEndPoint;if(c&&f){var p=ge(gt(c),0,s);a=ge(gt(f),0,s),o=pe({x:a*oe(i),y:a*ae(i)})+oi(i,u,a),o+=pe({x:p*oe(r),y:p*ae(r)})+oi(r,-u,p)}}o||(o=pe({x:a*oe(i),y:a*ae(i)})+oi(i,r-i,a)),this.lineY.path=o}}},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var i=this.point,r=this.pixelRadius,s=this.truePixelRadius,a=this.pixelInnerRadius,o=Math.min(this.startAngle,this.endAngle),u=Math.max(this.startAngle,this.endAngle),c=fn(Ci(e),o,u),f=fn(Ci(i),o,u),p=gt(e);if(p<s){var g=ge(gt(i),0,s);this._prevAngle=f;var y=pe({x:0,y:0}),b=ae(c),x=oe(c),w=ae(f),P=oe(f),S=this.behavior;S=="zoomX"||S=="selectX"?y+=K({x:r*x,y:r*b})+oi(c,f-c,r)+K({x:a*P,y:a*w})+oi(f,c-f,a):S=="zoomY"||S=="selectY"?y=pe({x:g*oe(o),y:g*ae(o)})+oi(o,u-o,g)+K({x:p*oe(u),y:p*ae(u)})+oi(u,o-u,p)+ti():S=="zoomXY"&&(y=pe({x:g*oe(c),y:g*ae(c)})+oi(c,f-c,g)+K({x:p*oe(f),y:p*ae(f)})+oi(f,c-f,p)+ti()),this.selection.path=y}this.selection.moveTo({x:0,y:0})}}},t.prototype.getPositions=function(){var e=this.chart;if(e){var i=this.pixelInnerRadius,r=this.truePixelRadius-i,s=this.startAngle,a=this.endAngle,o=fn(Ci(this.point),s,a),u=(o-s)/(a-s);this.xPosition=u,this.yPosition=ge((gt(this.point)-i)/r,0,1)}},t.prototype.updatePoint=function(e){},t.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var i=this.xAxis.tooltip;this.updateLineX(Jr({x:i.pixelX,y:i.pixelY},this))}},t.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var i=this.yAxis.tooltip;this.updateLineY(Jr({x:i.pixelX,y:i.pixelY},this))}},t.prototype.updateLinePositions=function(e){},t.prototype.getRanges=function(){var e=this.downPoint;if(e){var i=this.upPoint,r=this.chart;if(r){var s=this.pixelRadius,a=this.startAngle,o=this.endAngle,u=fn(Ci(e),this.startAngle,this.endAngle),c=fn(Ci(i),this.startAngle,this.endAngle),f=ge(gt(e),0,s),p=ge(gt(i),0,s),g=0,y=1,b=0,x=1,w=this.behavior;if(w=="zoomX"||w=="selectX"||w=="zoomXY"||w=="selectXY"){var P=o-a;g=ee((u-a)/P,5),y=ee((c-a)/P,5)}(w=="zoomY"||w=="selectY"||w=="zoomXY"||w=="selectXY")&&(b=ee(f/s,5),x=ee(p/s,5)),this.xRange={start:Math.min(g,y),end:Math.max(g,y)},this.yRange={start:Math.min(b,x),end:Math.max(b,x)},this.behavior=="selectX"||this.behavior=="selectY"||this.behavior=="selectXY"||this.selection.hide()}}},t.prototype.updateSize=function(){},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return di(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truePixelRadius",{get:function(){return Ft(te(100),ot(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof st&&(e=te(100*e.value*this.chart.innerRadiusModifyer)),di(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),t.prototype.fixPoint=function(e){return e},t}(mw);F.registeredClasses.RadarCursor=IM;const fo=({path:n,reload:t})=>{const[e,i]=E.useState(""),[r,s]=E.useState([]),[a,o]=E.useState(!0),u=E.useRef(null);return E.useLayoutEffect(()=>{if(!u.current)return;let c=Bm(u.current,Jl);c.innerRadius=te(50),c.startAngle=180,c.endAngle=360,c.data=r;let f=c.series.push(new xo);return f.dataFields.value="value",f.dataFields.category="category",f.labels.template.disabled=!0,f.slices.template.cornerRadius=10,f.slices.template.innerCornerRadius=7,()=>{c.dispose()}},[r]),E.useEffect(()=>{(async()=>{o(!0);const c=`${Ke}/graphic/${n}`,p=await(await fetch(c,{headers:{token:`${qe()}`}})).json();s(p.category),i(p.title),o(!1)})()},[t]),d.jsx(d.Fragment,{children:a?d.jsx("div",{className:"flex justify-center items-center w-full h-full",children:d.jsx("span",{className:"loading loading-spinner"})}):d.jsxs("div",{className:"rounded bg-base-300 p-5",children:[d.jsx(bt,{text:e,customClass:"text-lg font-bold text-center"}),d.jsx("div",{ref:u,style:{width:"100%",height:"100%"}})]})})},RM=({})=>{const[n,t]=E.useState(!0),e=()=>t(!n);return d.jsxs("div",{children:[d.jsx(bt,{text:"Pagos",size:"3xl",customClass:"font-black"}),d.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[d.jsx(xk,{reloadVl:n,reloadFn:e}),d.jsx("div",{className:"rounded bg-base-300 p-3 flex-1",children:d.jsx(Qr,{count:3,object:"user/payment"})}),d.jsx("div",{className:"rounded bg-base-300 p-3 w-full",children:d.jsx(Qr,{reloadVl:n,object:"user/payment/register"})}),d.jsxs("div",{className:"mt-5 w-full grid grid-cols-2 gap-4",children:[d.jsx(fo,{path:"payment/user",reload:n}),d.jsx(fo,{path:"payment/user/status",reload:n})]})]})]})},LM=qe(),gw=async({object:n,id:t,query:e})=>{let r=await NM({object:n,id:t,query:e});return{actionsRow:r.actions,graphic:[],label:r.label?r.label:"Ficha",object:"user",internalListPath:r.internalList}},yw=async({id:n,object:t,query:e})=>{try{const i=`${Ke}/${t}/${n}/unique/${e?`?${e}`:""}`,r=await fetch(i,{headers:{token:`${qe()}`}});return r.ok?await r.json():{statusMessage:"error",message:"Error temporal.",status:400}}catch{return{statusMessage:"error",message:"Error temporal.",status:400}}},vw=async({object:n})=>{const t=`${Ke}/${n}/gui/ficha/extract`,e=await fetch(t,{headers:{token:`${qe()}`}});if(!e.ok)return[];const i=await e.json();return i||[]},NM=async({object:n,query:t})=>{try{const e=`${Ke}/${n}/gui/permit/ficha/screen/${t?`?${t}`:""}`;return await(await fetch(e,{headers:{token:`${LM}`}})).json()}catch{return{actions:[]}}},zM=({})=>{const{object:n,id:t}=xn(),{init:e,close:i}=Bt(),r=nr(),[s,a]=E.useState(null),[o,u]=E.useState(null),[c,f]=E.useState(null),[p,g]=E.useState(!0),[y,b]=E.useState(!0);E.useEffect(()=>{(async()=>{g(!0);const w=await gw({object:n,id:t}),P=await vw({object:n,id:t}),S=await yw({id:t,object:n});f(S.body),a(w),u(P),g(!1)})()},[y]);const x=(w,P)=>{if(P==="delete")return e(d.jsx(Dl,{reload:()=>r(`/dashboard/${n}`,{viewTransition:!0}),close:i,id:t,object:n}));if(P==="list")return r(`/dashboard/${n}`,{viewTransition:!0});if(P==="update")return w==="modal"?e(d.jsx(Tc,{action:"update",object:n,reload:()=>b(!y),use:"modal",id:t})):r(`/dashboard/${n}`,{viewTransition:!0});if(P==="create")return w==="modal"?e(d.jsx(Dl,{reload:()=>{},close:i,id:t,object:n})):r(`/dashboard/${n}`,{viewTransition:!0})};return p?d.jsx(Wl,{}):s&&c&&o?d.jsxs("div",{className:"grid lg:grid-cols-2 gap-3",children:[d.jsxs("div",{className:"w-full col-span-2 flex justify-between items-center",children:[d.jsx(bt,{text:`${s.label}`,size:"3xl",customClass:"col-span-2"}),d.jsx("ul",{className:"flex gap-3",children:s.actionsRow&&s.actionsRow.map(w=>d.jsx($e,{ico:w.ico?d.jsx(_e,{ico:w.ico}):d.jsx(d.Fragment,{}),size:"sm",text:w.label,click:()=>x(w.use,w.ico),color:w.ico==="create"?"success":w.ico==="update"?"info":w.ico==="delete"||w.ico==="delete-row"?"error":w.ico==="list"?"primary":"info"}))})]}),d.jsx("table",{className:"table table-zebra-zebra border border-base-200",children:d.jsx("tbody",{children:o.map(w=>d.jsx("tr",{children:d.jsxs("td",{className:"py-1",children:[d.jsx("i",{children:w.label}),": ",d.jsx("b",{children:d.jsx(wm,{extractBy:w,item:c})})]})}))})}),s&&s.internalListPath&&s.internalListPath&&d.jsx("div",{className:"lg:col-span-2",children:d.jsx(Qr,{object:s.internalListPath,id:t})})]}):d.jsx("div",{className:"grid gap-3",children:d.jsx("div",{className:"grid grid-cols-[.75fr_.25fr] gap-3",children:d.jsx("div",{className:"p-5 w-full rounded-lg bg-base-300",children:"No se obtuvieron resultados. intente más tarde."})})})},Ja=({description:n,image:t,name:e,starts:i})=>d.jsxs("div",{className:"",children:[d.jsx(Sl,{alt:e,h:20,w:20,customClass:"w-full h-[150px] object-cover rounded-t-xl",src:t}),d.jsxs("div",{className:"border border-base-content rounded-b-lg px-3 py-1",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("strong",{className:"text-white",children:e}),d.jsxs("strong",{className:"text-white flex items-center gap-1",children:[i," ",d.jsx("i",{className:"text-warning",children:d.jsx(XS,{})})]})]}),d.jsx(mo,{text:n,customClass:"text-xs"}),d.jsx("div",{className:"flex justify-end items-center",children:d.jsx($e,{color:"info",customClass:"",ico:d.jsx(jS,{}),text:"adquirir"})})]})]}),BM=({})=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx(bt,{text:"Tienda",size:"3xl",customClass:"font-black"}),d.jsx("ul",{children:d.jsx("li",{children:d.jsxs("select",{className:"select select-sm focus:outline-none border-base-content",children:[d.jsx("option",{value:"",className:"bg-base-100 text-white font-light",children:"Categorías"}),d.jsx("option",{className:"bg-base-100 text-white font-light",children:"Plantillas"}),d.jsx("option",{className:"bg-base-100 text-white font-light",children:"Prendas"}),d.jsx("option",{className:"bg-base-100 text-white font-light",children:"Oficina"}),d.jsx("option",{className:"bg-base-100 text-white font-light",children:"Artículos"}),d.jsx("option",{className:"bg-base-100 text-white font-light",children:"Objetos"})]})})})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsx(Ja,{description:"camisa de seda",image:"/n1.webp",name:"Camisa",price:24,starts:3}),d.jsx(Ja,{description:"camisa de seda",image:"/n2.webp",name:"Camisa",price:24,starts:3}),d.jsx(Ja,{description:"camisa de seda",image:"/n3.webp",name:"Camisa",price:24,starts:3}),d.jsx(Ja,{description:"camisa de seda",image:"/n1.webp",name:"Camisa",price:24,starts:3}),d.jsx(Ja,{description:"camisa de seda",image:"/n2.webp",name:"Camisa",price:24,starts:3}),d.jsx(Ja,{description:"camisa de seda",image:"/n3.webp",name:"Camisa",price:24,starts:3})]})]}),HM=({})=>d.jsxs("div",{children:[d.jsxs("div",{className:"mb-5 w-full grid grid-cols-2 gap-4",children:[d.jsx(fo,{path:"payment/all",reload:!0}),d.jsx(fo,{path:"payment/all/status",reload:!0})]}),d.jsx(Qr,{object:"finanzas"}),d.jsx("div",{className:"mt-4",children:d.jsx(bm,{reload:!0,path:"finanzas"})})]}),WM=({count:n,title:t,ico:e})=>d.jsx("div",{className:"card bg-gradient-to-b from-base-100 to-base-300 shadow-xl",children:d.jsx("div",{className:"card-body",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-base-content/60",children:t}),d.jsx("h3",{className:"text-2xl font-bold text-base-content",children:n})]}),d.jsx("div",{className:"bg-primary/10 p-3 rounded-full text-primary",children:d.jsx(_e,{ico:e})})]})})}),bw=({path:n})=>{const[t,e]=E.useState(),[i,r]=E.useState(!0);return E.useEffect(()=>{(async()=>{const s=await ek({path:n});s&&(e(s),r(!1))})()},[]),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:i?d.jsx("div",{className:"w-full flex justify-center items-center py-2",children:d.jsx("span",{className:"loading loading-spinner m-auto"})}):t&&t.map(s=>d.jsx(WM,{ico:s.ico,title:s.title,count:s.count}))})},YM=({})=>d.jsxs("div",{children:[d.jsx(bw,{path:"/subscription/gui/dashboard"}),d.jsx("div",{className:"w-full rounded-[20px] bg-base-200 p-4 mt-4 ",children:d.jsx(Qr,{object:"user/subscription"})}),d.jsx("div",{className:"w-full rounded-[20px] bg-base-200 p-4 mt-4 ",children:d.jsx(Qr,{object:"subscription"})})]}),_s=({id:n,object:t,userId:e})=>{const{init:i,close:r}=Bt(),s=nr(),[a,o]=E.useState(null),[u,c]=E.useState(null),[f,p]=E.useState(null),[g,y]=E.useState(!0),[b,x]=E.useState(!0);E.useEffect(()=>{(async()=>{y(!0);const P=await gw({object:t,id:n,query:`userId=${e}`}),S=await vw({object:t,id:n}),k=await yw({id:n,object:t,query:`userId=${e}`});p(k.body),o(P),c(S),y(!1)})()},[b]);const w=(P,S)=>{if(S==="delete")return i(d.jsx(Dl,{reload:()=>s(`/dashboard/${t}`,{viewTransition:!0}),close:r,id:n,object:t}));if(S==="list")return s(`/dashboard/${t}`,{viewTransition:!0});if(S==="update")return P==="modal"?i(d.jsx(Tc,{action:"update",object:t,reload:()=>x(!b),use:"modal",id:n})):s(`/dashboard/${t}`,{viewTransition:!0});if(S==="create")return P==="modal"?i(d.jsx(Dl,{reload:()=>{},close:r,id:n,object:t})):s(`/dashboard/${t}`,{viewTransition:!0})};return g?d.jsx(Wl,{}):a&&f&&u?d.jsxs("div",{className:"grid lg:grid-cols-2 gap-3",children:[d.jsxs("div",{className:"w-full col-span-2 flex justify-between items-center",children:[d.jsx(bt,{text:`${a.label}`,size:"3xl",customClass:"col-span-2"}),d.jsx("ul",{className:"flex gap-3",children:a.actionsRow&&a.actionsRow.map(P=>d.jsx($e,{ico:P.ico?d.jsx(_e,{ico:P.ico}):d.jsx(d.Fragment,{}),size:"sm",text:P.label,click:()=>w(P.use,P.ico),color:P.ico==="create"?"success":P.ico==="update"?"info":P.ico==="delete"||P.ico==="delete-row"?"error":P.ico==="list"?"primary":"info"}))})]}),d.jsx("table",{className:"table table-zebra-zebra border border-base-200",children:d.jsx("tbody",{children:u.map(P=>d.jsx("tr",{children:d.jsxs("td",{className:"py-1",children:[d.jsx("i",{children:P.label}),": ",d.jsx("b",{children:d.jsx(wm,{extractBy:P,item:f})})]})}))})}),a&&a.internalListPath&&a.internalListPath&&d.jsx("div",{className:"lg:col-span-2",children:d.jsx(Qr,{object:a.internalListPath,id:n})})]}):d.jsx("div",{className:"grid gap-3",children:d.jsx("div",{className:"grid grid-cols-[.75fr_.25fr] gap-3",children:d.jsx("div",{className:"p-5 w-full rounded-lg bg-base-300",children:"No se obtuvieron resultados. intente más tarde."})})})},UM=({})=>{const{id:n}=xn();return d.jsx("div",{children:d.jsx(_s,{object:"user/subscription",id:n})})},XM=()=>{const{id:n}=xn();return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"tabs tabs-lift",children:[d.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"Ficha"}),d.jsx("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:d.jsx(_s,{id:n,object:"user"})}),d.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"Wallet",defaultChecked:!0}),d.jsx("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:d.jsx(_s,{id:n,object:"user/wallet"})}),d.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"Pagos"}),d.jsx("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:d.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[d.jsx("div",{}),d.jsx("div",{className:"rounded bg-base-300 p-3 flex-1",children:d.jsx(Qr,{userId:n,query:`id=${n}`,count:3,object:"user/payment"})}),d.jsx("div",{className:"rounded bg-base-300 p-3 w-full",children:d.jsx(Qr,{userId:n,query:`id=${n}`,object:"user/payment/register"})}),d.jsxs("div",{className:"mt-5 w-full grid grid-cols-2 gap-4",children:[d.jsx(fo,{userId:n,query:`id=${n}`,path:`payment/user/?userId=${n}`,reload:!0}),d.jsx(fo,{userId:n,query:`id=${n}`,path:`payment/user/?userId=${n}`,reload:!0})]}),d.jsx("div",{className:"rounded bg-base-300 p-3 w-full",children:d.jsx(bm,{userId:n,reload:!0,path:"register/payment"})})]})}),d.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"Subscripción"}),d.jsx("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:d.jsx(_s,{object:"user/subscription/ficha",id:n,userId:n})})]})})},$M=()=>{const{id:n}=xn();return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"tabs tabs-lift",children:[d.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"Ficha"}),d.jsx("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:d.jsx(_s,{id:n,object:"pharmacy"})}),d.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"Suplementos",defaultChecked:!0}),d.jsx("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:d.jsx(Qr,{id:n,object:"pharmacy/presentation"})})]})})},GM=({})=>{const{object:n}=xn(),t=Ar(),e=qt(),[i,r]=E.useState(null),[s,a]=E.useState(!0);return E.useEffect(()=>{(async()=>{a(!0);const o=await xm({object:n}),u=o;if(u.message&&u.status&&u.statusMessage)return e.init("Error temporal","error");r(o),a(!1)})()},[t]),s?d.jsx(Wl,{}):i?d.jsx("div",{className:"grid gap-3",children:"create"}):d.jsx("div",{className:"grid gap-3",children:d.jsx("div",{className:"grid grid-cols-[.75fr_.25fr] gap-3",children:d.jsx("div",{className:"p-5 w-full rounded-lg bg-base-300",children:"No se obtuvieron resultados. intente más tarde."})})})},xw=({foods:n,screen:t})=>{const{close:e,status:i}=Bt(),[r,s]=E.useState(null),a="PIE",o=u=>{const c=u.target.value;s(c)};return E.useEffect(()=>{if(r===null)return;const u=Bm("chartdiv",Jl);u.data=n.map(f=>({category:f.name,value:f[r]})),console.log(u.data);const c=u.series.push(new xo);return c.dataFields.value="value",c.dataFields.category="category",c.slices.template.tooltipText="{category}: {value}",c.slices.template.stroke=Oe("#fff"),c.slices.template.strokeWidth=2,c.slices.template.strokeOpacity=1,c.labels.template.fill=Oe("#ffffff"),c.labels.template.background.fill=Oe("#000000"),c.labels.template.padding(5,10,5,10),c.labels.template.fontSize=14,c.labels.template.radius=5,()=>{u.dispose()}},[r,a]),d.jsxs("div",{className:t?"":"w-[60%] bg-base-300 py-3 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between px-5",children:[d.jsx(bt,{text:"Gráfica De Distribución",customClass:"text-xl font-black"}),d.jsxs("ul",{className:"flex gap-3",children:[d.jsx("li",{children:d.jsxs("select",{onChange:o,className:"select select-sm focus:outline-none",children:[d.jsx("option",{value:"",children:"seleccionar"}),d.jsx("option",{value:"calorias",children:"calorias"}),d.jsx("option",{value:"humed",children:"humed"}),d.jsx("option",{value:"proteina",children:"proteina"}),d.jsx("option",{value:"fosforo",children:"fosforo"}),d.jsx("option",{value:"potasio",children:"potasio"}),d.jsx("option",{value:"grasas",children:"grasas"}),d.jsx("option",{value:"cenizas",children:"cenizas"}),d.jsx("option",{value:"calcio",children:"calcio"}),d.jsx("option",{value:"hierro",children:"hierro"}),d.jsx("option",{value:"magnesio",children:"magnesio"}),d.jsx("option",{value:"zinc",children:"zinc"}),d.jsx("option",{value:"cobre",children:"cobre"}),d.jsx("option",{value:"sodio",children:"sodio"}),d.jsx("option",{value:"tiamina",children:"tiamina"}),d.jsx("option",{value:"riboflavina",children:"riboflavina"}),d.jsx("option",{value:"niacina",children:"niacina"}),d.jsx("option",{value:"vitaminaA",children:"vitaminaA"}),d.jsx("option",{value:"vitaminaB6",children:"vitaminaB6"})]})}),i&&d.jsx("li",{children:d.jsx(Be,{color:"error",text:"cerrar",click:e,ico:d.jsx(_e,{ico:"x"})})})]})]}),d.jsx("div",{className:"py-10 flex justify-center items-center",children:d.jsx("div",{id:"chartdiv",style:{width:"100%",height:"200px"}})})]})},KM=({})=>{const{init:n}=Bt(),t=nr(),e=qt(),[i,r]=E.useState([]),[s,a]=E.useState({}),[o,u]=E.useState(""),[c,f]=E.useState(0),[p,g]=E.useState(!1),[y]=E.useState(10),b=()=>g(!p),x=()=>{(async()=>{if(s.name===0)return e.init("Debes agregar el nombre.","warning");if(s.type===0)return e.init("Debes agregar el tipo.","warning");if(s.preparation===0)return e.init("Debes describir la preparación.","warning");if(i.length===0)return e.init("Debes seleccionar almenos un alimento.","warning");const T={name:s.name,preparation:s.preparation,type:s.type,foods:i};console.log(T),alert("continue...");const V=await(await fetch(`${Ke}/menu/create`,{method:"POST",headers:{"Content-Type":"application/json",token:`${qe()}`},body:JSON.stringify(T)})).json();if(V.statusMessage==="error"){e.init(V.message,"error");return}t(-1),e.init(V.message,"success")})()},w=T=>{r(j=>j.find(I=>I.code===T.code)?(e.init(`${T.name}, ya seleccionado`,"info"),[...j]):[...j?[...j]:[],T])},P=T=>{r(j=>{const V=j?[...j]:[];return V.splice(T,1),[...V]})},S=(T,j)=>{r(V=>{const A=V?[...V]:[];return A[T].unity=j,[...A]})},k=T=>{a(j=>({...j,[T.target.name]:T.target.value}))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(bt,{text:"Crear Menú",customClass:"text-xl font-black"}),d.jsxs("ul",{className:"flex gap-3",children:[d.jsx("li",{children:d.jsx($e,{color:"primary",ico:d.jsx(_e,{ico:"distribucion"}),text:"distibución",click:()=>n(d.jsx(xw,{foods:i}))})}),d.jsx("li",{children:d.jsx($e,{color:"success",ico:d.jsx(_e,{ico:"create"}),text:"Crear",click:()=>x()})}),d.jsx("li",{children:d.jsx($e,{color:"info",click:()=>t("/dashboard/menu"),text:"lista"})})]})]}),d.jsxs("form",{onSubmit:T=>T.preventDefault(),className:"grid grid-cols-2 gap-4",children:[d.jsx(re,{color:"default",label:"Nombre",children:d.jsx(q,{change:k,name:"name",customClass:"border border-base-300"})}),d.jsx(re,{color:"default",label:"Tipo",children:d.jsxs("select",{onChange:k,name:"type",className:"select select-sm border-base-300 focus:outline-none w-full",children:[d.jsx("option",{value:""}),d.jsx("option",{children:"DESAYUNO"}),d.jsx("option",{children:"ALMUERZO"}),d.jsx("option",{children:"MERIENDA"}),d.jsx("option",{children:"CENA"})]})}),d.jsx(re,{customClass:"col-span-2",color:"default",label:"Preparación",children:d.jsx("textarea",{onChange:k,name:"preparation",className:"input border-base-300 focus:outline-none w-full min-h-20 max-h-32"})}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center justify-end gap-3 px-3",children:[d.jsx("span",{className:"font-black text-sm",children:"Buscar"}),d.jsx(q,{change:T=>u(T.target.value),customClass:"border border-primary"})]}),d.jsx(Wn,{actionButton:[{click:w,color:"primary",ico:"add",variant:"border",customClass:"btn-xs",size:"xs"}],filter:o,nextFn:()=>f(c+y),object:"food",prevFn:()=>f(c-y),reload:p,reloadFn:b,skip:c,take:y})]}),d.jsx("div",{className:"",children:i&&d.jsxs("table",{className:"table table-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:"Código"}),d.jsx("td",{children:"Nombre"}),d.jsx("td",{children:"Medida"})]})}),d.jsx("tbody",{children:i.map((T,j)=>d.jsxs("tr",{className:"py-1 top-0 relative h-auto",children:[d.jsx("td",{children:d.jsx(Be,{size:"xs",click:()=>P(j),ico:d.jsx(_e,{ico:"x"}),variant:"border",color:"error"})}),d.jsx("td",{children:T.code}),d.jsx("td",{children:T.name}),d.jsx("td",{children:d.jsx(q,{size:"sm",value:T.unity,change:V=>S(j,V.target.value),customClass:"w-full border border-neutral",placeholder:"Describe la unidad de medida"})})]}))})]})})]})]})},ZM=({foods:n,reloadParent:t,id:e})=>{const i=qt(),[r,s]=E.useState(!0),[a,o]=E.useState(""),[u,c]=E.useState(0),[f]=E.useState(10),[p,g]=E.useState(n.map(T=>({...T.foodReference,unity:T.unity}))),[y,b]=E.useState([]);E.useEffect(()=>g(n.map(T=>({...T.foodReference,unity:T.unity}))),[n]);const x=T=>{g(j=>j.find(I=>I.code===T.code)?(i.init(`${T.name}, ya seleccionado`,"info"),[...j]):[...j?[...j]:[],T])},w=(T,j)=>{g(V=>{const A=V?[...V]:[];return A[T].unity=j,[...A]})},P=T=>{g(j=>{const V=j?[...j]:[];return n.find(I=>I.foodReference.id===j[T].id)&&b(I=>[...I,j[T]]),V.splice(T,1),[...V]})},S=()=>(s(!r),t()),k=()=>{(async()=>{const T={add:p,delete:y},j=`${Ke}/menu/detail/${e}/manage`;alert(j);const A=await(await fetch(j,{method:"PUT",headers:{"Content-Type":"application/json",token:`${qe()}`},body:JSON.stringify(T)})).json();console.log(A)})()};return d.jsxs("div",{className:"grid grid-cols-2 p-3 rounded bg-base-200",children:[d.jsxs("div",{className:"col-span-2 flex justify-between",children:[d.jsx(bt,{customClass:"col-span-2 text-center text-xl mb-3 font-bold",text:"Modificar Alimentos"}),d.jsx(Be,{click:k,ico:d.jsx(_e,{ico:"create"}),text:"Guardar",color:"info"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center justify-end gap-3 px-3",children:[d.jsx("span",{className:"font-black text-sm",children:"Buscar"}),d.jsx(q,{change:T=>o(T.target.value),customClass:"border border-primary"})]}),d.jsx(Wn,{actionButton:[{click:x,color:"primary",ico:"add",variant:"border",customClass:"btn-xs",size:"xs"}],filter:a,nextFn:()=>c(u+f),object:"food",prevFn:()=>c(u-f),reload:r,reloadFn:S,skip:u,take:f})]}),d.jsx("div",{className:"",children:p&&p.length>0&&d.jsxs("table",{className:"table table-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:"Código"}),d.jsx("td",{children:"Nombre"}),d.jsx("td",{children:"Medida"})]})}),d.jsx("tbody",{children:p.map((T,j)=>d.jsxs("tr",{className:"py-1 top-0 relative h-auto",children:[d.jsx("td",{children:d.jsx(Be,{size:"xs",click:()=>{P(j)},ico:d.jsx(_e,{ico:"x"}),variant:"border",color:"error"})}),d.jsx("td",{children:T.code}),d.jsx("td",{children:T.name}),d.jsx("td",{children:d.jsx(q,{size:"sm",value:T.unity,change:V=>w(j,V.target.value),customClass:"w-full border border-neutral",placeholder:"Describe la unidad de medida"})})]}))})]})})]})},QM=({})=>{const{id:n}=xn(),[t,e]=E.useState(!0),[i,r]=E.useState([]),[s,a]=E.useState(!0);return E.useEffect(()=>{(async()=>{e(!0);const o=`${Ke}/menu/${n}/foods`,c=await(await fetch(o,{headers:{token:`${qe()}`}})).json();r(()=>c.body),e(!1)})()},[s]),d.jsxs("div",{className:"",children:[d.jsx(_s,{id:n,object:"menu"}),t?d.jsx("div",{className:"py-3 flex justify-center items-center w-full",children:d.jsx("span",{className:"loading loading-spinner"})}):d.jsx(d.Fragment,{children:i&&i.length>0&&d.jsxs("div",{className:"grid grid-cols-2 my-5 p-3 rounded bg-base-200",children:[d.jsxs("table",{className:"table table-xs",children:[d.jsx("thead",{className:"bg-base-200 text-base-content",children:d.jsxs("tr",{children:[d.jsx("th",{children:"Código"}),d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Medida"})]})}),d.jsx("tbody",{children:i.map(o=>d.jsxs("tr",{className:"py-0",children:[d.jsx("td",{children:o.foodReference.code}),d.jsx("td",{children:o.foodReference.name}),d.jsx("td",{children:o.unity})]},o.foodReference.id))})]}),d.jsx(xw,{foods:i.map(o=>o.foodReference),screen:!0})]})}),d.jsx(ZM,{id:n,foods:i,reloadParent:()=>a(!s)})]})},ww=({foods:n,screen:t})=>{const{close:e,status:i}=Bt();return E.useEffect(()=>{const r=Bm("chartdiv",Jl);r.data=n.map(a=>({category:a.name,value:a.caloria?Number(a.caloria):0}));const s=r.series.push(new xo);return s.dataFields.value="value",s.dataFields.category="category",s.slices.template.tooltipText="{category}: {value}",s.slices.template.stroke=Oe("#fff"),s.slices.template.strokeWidth=2,s.slices.template.strokeOpacity=1,s.labels.template.fill=Oe("#ffffff"),s.labels.template.background.fill=Oe("#000000"),s.labels.template.padding(5,10,5,10),s.labels.template.fontSize=14,s.labels.template.radius=5,()=>{r.dispose()}},[]),d.jsxs("div",{className:t?"":"w-[60%] bg-base-300 py-3 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between px-5",children:[d.jsx(bt,{text:"Gráfica De Distribución",customClass:"text-xl font-black"}),d.jsx("ul",{className:"flex gap-3",children:i&&d.jsx("li",{children:d.jsx(Be,{color:"error",text:"cerrar",click:e,ico:d.jsx(_e,{ico:"x"})})})})]}),d.jsx("div",{className:"py-10 flex justify-center items-center",children:d.jsx("div",{id:"chartdiv",style:{width:"100%",height:"200px"}})})]})},qM=({foods:n,reloadParent:t,id:e})=>{const i=qt(),[r,s]=E.useState(!0),[a,o]=E.useState(""),[u,c]=E.useState(0),[f]=E.useState(10),[p,g]=E.useState(n.map(k=>({...k.foodReference}))),[y,b]=E.useState([]);E.useEffect(()=>g(n.map(k=>({...k.foodReference}))),[n]);const x=k=>{g(T=>T.find(A=>A.id===k.id)?(i.init(`${k.name}, ya seleccionado`,"info"),[...T]):[...T?[...T]:[],k])},w=k=>{g(T=>{const j=T?[...T]:[];return n.find(A=>A.foodReference.id===T[k].id)&&b(A=>[...A,T[k]]),j.splice(k,1),[...j]})},P=()=>(s(!r),t()),S=()=>{(async()=>{const k={add:p,delete:y},T=`${Ke}/exchange/detail/${e}/manage`;alert(T);const V=await(await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json",token:`${qe()}`},body:JSON.stringify(k)})).json();console.log(V)})()};return d.jsxs("div",{className:"grid grid-cols-2 p-3 rounded bg-base-200",children:[d.jsxs("div",{className:"col-span-2 flex justify-between",children:[d.jsx(bt,{customClass:"col-span-2 text-center text-xl mb-3 font-bold",text:"Modificar Alimentos"}),d.jsx(Be,{click:S,ico:d.jsx(_e,{ico:"create"}),text:"Guardar",color:"info"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center justify-end gap-3 px-3",children:[d.jsx("span",{className:"font-black text-sm",children:"Buscar"}),d.jsx(q,{change:k=>o(k.target.value),customClass:"border border-primary"})]}),d.jsx(Wn,{actionButton:[{click:x,color:"primary",ico:"add",variant:"border",customClass:"btn-xs",size:"xs"}],filter:a,nextFn:()=>c(u+f),object:"efood",prevFn:()=>c(u-f),reload:r,reloadFn:P,skip:u,take:f})]}),d.jsx("div",{className:"",children:p&&p.length>0&&d.jsxs("table",{className:"table table-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:"Nombre"}),d.jsx("td",{children:"Categoría"})]})}),d.jsx("tbody",{children:p.map((k,T)=>d.jsxs("tr",{className:"py-1 top-0 relative h-auto",children:[d.jsx("td",{children:d.jsx(Be,{size:"xs",click:()=>{w(T)},ico:d.jsx(_e,{ico:"x"}),variant:"border",color:"error"})}),d.jsx("td",{children:k.name}),d.jsx("td",{children:k.category})]}))})]})})]})},JM=({})=>{const{id:n}=xn(),[t,e]=E.useState(!0),[i,r]=E.useState([]),[s,a]=E.useState(!0);return E.useEffect(()=>{(async()=>{e(!0);const o=`${Ke}/exchange/${n}/foods`,c=await(await fetch(o,{headers:{token:`${qe()}`}})).json();r(()=>c.body),e(!1)})()},[s]),d.jsxs("div",{className:"",children:[d.jsx(_s,{id:n,object:"exchange"}),d.jsx("div",{className:"mt-5"}),t?d.jsx("div",{className:"py-3 flex justify-center items-center w-full",children:d.jsx("span",{className:"loading loading-spinner"})}):d.jsx(d.Fragment,{children:i&&i.length>0&&d.jsxs("div",{className:"grid grid-cols-2 my-5 p-3 rounded bg-base-200",children:[d.jsxs("table",{className:"table table-xs",children:[d.jsx("thead",{className:"bg-base-200 text-base-content",children:d.jsxs("tr",{children:[d.jsx("td",{children:"Alimento"}),d.jsx("td",{children:"Caloria"}),d.jsx("td",{children:"Categoría"})]})}),d.jsx("tbody",{children:i.map(o=>d.jsxs("tr",{className:"py-0",children:[d.jsx("td",{children:o.foodReference.name}),d.jsx("td",{children:o.foodReference.caloria}),d.jsx("td",{children:o.foodReference.category})]},o.foodReference.id))})]}),d.jsx(ww,{foods:i.map(o=>o.foodReference),screen:!0})]})}),d.jsx(qM,{id:n,foods:i,reloadParent:()=>a(!s)})]})},eF=({})=>{const{init:n}=Bt(),t=nr(),e=qt(),[i,r]=E.useState([]),[s,a]=E.useState({}),[o,u]=E.useState(""),[c,f]=E.useState(0),[p,g]=E.useState(!1),[y]=E.useState(7),b=()=>g(!p),x=()=>{(async()=>{if(s.name===0)return e.init("Debes agregar el nombre.","warning");if(i.length===0)return e.init("Debes seleccionar almenos un alimento.","warning");const k={name:s.name,preparation:s.preparation,type:s.type,foods:i},j=await(await fetch(`${Ke}/exchange/create`,{method:"POST",headers:{"Content-Type":"application/json",token:`${qe()}`},body:JSON.stringify(k)})).json();if(j.statusMessage==="error"){e.init(j.message,"error");return}t(-1),e.init(j.message,"success")})()},w=k=>{r(T=>T.find(A=>A.id===k.id)?(e.init(`${k.name}, ya seleccionado`,"info"),[...T]):[...T?[...T]:[],k])},P=k=>{r(T=>{const j=T?[...T]:[];return j.splice(k,1),[...j]})},S=k=>{a(T=>({...T,[k.target.name]:k.target.value}))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(bt,{text:"Crear Menú",customClass:"text-xl font-black"}),d.jsxs("ul",{className:"flex gap-3",children:[d.jsx("li",{children:d.jsx($e,{color:"primary",ico:d.jsx(_e,{ico:"distribucion"}),text:"distibución",click:()=>n(d.jsx(ww,{foods:i}))})}),d.jsx("li",{children:d.jsx($e,{color:"success",ico:d.jsx(_e,{ico:"create"}),text:"Crear",click:()=>x()})}),d.jsx("li",{children:d.jsx($e,{color:"info",click:()=>t("/dashboard/exchange"),text:"lista"})})]})]}),d.jsxs("form",{onSubmit:k=>k.preventDefault(),className:"grid grid-cols-2 gap-4",children:[d.jsx(re,{color:"default",label:"Nombre",customClass:"col-span-2 my-3",children:d.jsx(q,{change:S,name:"name",customClass:"border border-base-300"})}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center justify-end gap-3 px-3",children:[d.jsx("span",{className:"font-black text-sm",children:"Buscar"}),d.jsx(q,{change:k=>u(k.target.value),customClass:"border border-primary"})]}),d.jsx(Wn,{actionButton:[{click:w,color:"primary",ico:"add",variant:"border",customClass:"btn-xs",size:"xs"}],filter:o,nextFn:()=>f(c+y),object:"efood",prevFn:()=>f(c-y),reload:p,reloadFn:b,skip:c,take:y})]}),d.jsx("div",{className:"",children:i&&d.jsxs("table",{className:"table table-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:"Alimento"}),d.jsx("td",{children:"Caloría"}),d.jsx("td",{children:"Categoría"})]})}),d.jsx("tbody",{children:i.map((k,T)=>d.jsxs("tr",{className:"py-1 top-0 relative h-auto",children:[d.jsx("td",{children:d.jsx(Be,{size:"xs",click:()=>P(T),ico:d.jsx(_e,{ico:"x"}),variant:"border",color:"error"})}),d.jsx("td",{children:k.name}),d.jsx("td",{children:k.caloria}),d.jsx("td",{children:k.category})]}))})]})})]})]})},Ch=({changeDat:n,description:t,label:e,name:i,value:r})=>{const[s,a]=E.useState(r),o=u=>{const c=!!u.target.checked;a(c),n(i,c)};return d.jsxs("label",{className:"grid grid-cols-[10%_25%_1fr] border-b border-primary p-1 ",children:[d.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:s,onChange:o}),d.jsx(mr,{text:e}),d.jsx(mo,{text:t})]})},tF=({})=>{const n=nr(),t=qt(),[e,i]=E.useState({agend:!1,estatictics:!1,exchange:!1,log:!1,menus:!1,patientData:!1,recommendations:!1}),r=a=>{a.preventDefault(),(async()=>{const o={...e},u=`${Ke}/consult/create`;alert(u);const f=await(await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",token:`${qe()}`},body:JSON.stringify(o)})).json();if(f.statusMessage==="error"){t.init(f.message,"error");return}n(`/dashboard/consult/${f.body.id}`),t.init(f.message,"success")})()},s=(a,o)=>{i(u=>({...u,[a]:o}))};return d.jsxs("form",{onSubmit:r,children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(bt,{text:"Crear Consulta",customClass:"text-xl font-black"}),d.jsxs("ul",{className:"flex gap-3",children:[d.jsx("li",{children:d.jsx($e,{type:"submit",color:"success",ico:d.jsx(_e,{ico:"create"}),text:"Crear",click:()=>{}})}),d.jsx("li",{children:d.jsx($e,{color:"info",click:()=>n("/dashboard/consult"),text:"lista"})})]})]}),d.jsxs("div",{className:"grid gap-4",children:[d.jsx(Ch,{description:"Registro de toda la data referente al paciente.",label:"Ficha Paciente",name:"patientData",value:e.patientData,changeDat:s}),d.jsx(Ch,{description:"Asignación de menús.",label:"Menús",name:"menus",value:e.menus,changeDat:s}),d.jsx(Ch,{description:"Asignación de listas de intercambio.",label:"Listas",name:"exchange",value:e.exchange,changeDat:s}),d.jsx(Ch,{description:"Registro de recomendaciones, y sugerencias a tu paciente.",label:"Recomendaciones",name:"recommendations",value:e.recommendations,changeDat:s})]})]})},rn=({children:n,customClass:t,title:e})=>{const{close:i}=Bt();return d.jsxs("div",{className:t,children:[d.jsxs("header",{className:"flex justify-between w-full col-span-3",children:[d.jsx(bt,{text:e,customClass:"text-lg font-black"}),d.jsx(Be,{click:i,color:"error",type:"button",variant:"border",ico:d.jsx(_e,{ico:"x"})})]}),n]})},iF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Antecedentes Heredofamiliares",o="heredofamiliares",[u,c]=E.useState({anemia:n&&n.anemia?n.anemia:"",cancer:n&&n.cancer?n.cancer:"",diabetes:n&&n.diabetes?n.diabetes:"",dislipidemia:n&&n.dislipidemia?n.dislipidemia:"",hipertensionArterial:n&&n.hipertensionArterial?n.hipertensionArterial:"",enfermedadesRenales:n&&n.enfermedadesRenales?n.enfermedadesRenales:"",otros:n&&n.otros?n.otros:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.diabetes)return s.init("Debes completar el campo Diabetes","error");if(!u.cancer)return s.init("Debes completar el campo Cancer","error");if(!u.dislipidemia)return s.init("Debes completar el campo Dislipidemia","error");if(!u.anemia)return s.init("Debes completar el campo Anemia","error");if(!u.hipertensionArterial)return s.init("Debes completar el campo Hipertension Arterial","error");if(!u.enfermedadesRenales)return s.init("Debes completar el campo EnfermedadesRenales","error");if(!u.otros)return s.init("Debes completar el campo Otros","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-2 gap-3",children:[d.jsx(re,{color:"default",label:"Diabetes",customClass:"mt-4",children:d.jsx(q,{name:"diabetes",value:u.diabetes,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Cancer",customClass:"mt-4",children:d.jsx(q,{name:"cancer",value:u.cancer,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Dislipidemia",customClass:"mt-4",children:d.jsx(q,{name:"dislipidemia",value:u.dislipidemia,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Anemia",customClass:"mt-4",children:d.jsx(q,{name:"anemia",value:u.anemia,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Hipertensión Arterial",customClass:"mt-4",children:d.jsx(q,{name:"hipertensionArterial",value:u.hipertensionArterial,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Enfermedades Renales",customClass:"mt-4",children:d.jsx(q,{name:"enfermedadesRenales",value:u.enfermedadesRenales,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Otros",customClass:"mt-4 col-span-2",children:d.jsx(q,{name:"otros",value:u.otros,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-2 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},rF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Personales Patológicos",o="personalespatologicos",[u,c]=E.useState({anemia:n&&n.anemia?n.anemia:"",cancer:n&&n.cancer?n.cancer:"",diabetes:n&&n.diabetes?n.diabetes:"",dislipidemia:n&&n.dislipidemia?n.dislipidemia:"",hipertensionArterial:n&&n.hipertensionArterial?n.hipertensionArterial:"",enfermedadesRenales:n&&n.enfermedadesRenales?n.enfermedadesRenales:"",otros:n&&n.otros?n.otros:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.diabetes)return s.init("Debes completar el campo Diabetes","error");if(!u.cancer)return s.init("Debes completar el campo Cancer","error");if(!u.dislipidemia)return s.init("Debes completar el campo Dislipidemia","error");if(!u.anemia)return s.init("Debes completar el campo Anemia","error");if(!u.hipertensionArterial)return s.init("Debes completar el campo Hipertension Arterial","error");if(!u.enfermedadesRenales)return s.init("Debes completar el campo EnfermedadesRenales","error");if(!u.otros)return s.init("Debes completar el campo Otros","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-2 gap-3",children:[d.jsx(re,{color:"default",label:"Diabetes",customClass:"mt-4",children:d.jsx(q,{name:"diabetes",value:u.diabetes,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Cancer",customClass:"mt-4",children:d.jsx(q,{name:"cancer",value:u.cancer,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Dislipidemia",customClass:"mt-4",children:d.jsx(q,{name:"dislipidemia",value:u.dislipidemia,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Anemia",customClass:"mt-4",children:d.jsx(q,{name:"anemia",value:u.anemia,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Hipertensión Arterial",customClass:"mt-4",children:d.jsx(q,{name:"hipertensionArterial",value:u.hipertensionArterial,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Enfermedades Renales",customClass:"mt-4",children:d.jsx(q,{name:"enfermedadesRenales",value:u.enfermedadesRenales,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Otros",customClass:"mt-4 col-span-2",children:d.jsx(q,{name:"otros",value:u.otros,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-2 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},nF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Personales No Patológicos",o="personalesnopatologicos",[u,c]=E.useState({alcohol:n&&n.alcohol?n.alcohol:"",cafe:n&&n.cafe?n.cafe:"",ejercicio:n&&n.ejercicio?n.ejercicio:"",fuma:n&&n.fuma?n.fuma:"",horasSueno:n&&n.horasSueno?n.horasSueno:"",sustanciaIlisitas:n&&n.sustanciaIlisitas?n.sustanciaIlisitas:"",toxitosinas:n&&n.toxitosinas?n.toxitosinas:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.ejercicio)return s.init("Debes completar el campo ejercicio","error");if(!u.cafe)return s.init("Debes completar el campo cafe","error");if(!u.fuma)return s.init("Debes completar el campo fuma","error");if(!u.alcohol)return s.init("Debes completar el campo alcohol","error");if(!u.horasSueno)return s.init("Debes completar el campo Hipertension Arterial","error");if(!u.sustanciaIlisitas)return s.init("Debes completar el campo sustanciaIlisitas","error");if(!u.toxitosinas)return s.init("Debes completar el campo toxitosinas","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-2 gap-3",children:[d.jsx(re,{color:"default",label:"Ejercicio",customClass:"mt-4",children:d.jsx(q,{name:"ejercicio",value:u.ejercicio,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Cafe",customClass:"mt-4",children:d.jsx(q,{name:"cafe",value:u.cafe,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Fuma",customClass:"mt-4",children:d.jsx(q,{name:"fuma",value:u.fuma,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Alcohol",customClass:"mt-4",children:d.jsx(q,{name:"alcohol",value:u.alcohol,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Horas de Sueño",customClass:"mt-4",children:d.jsx(q,{name:"horasSueno",value:u.horasSueno,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Sistancias Ilísitas",customClass:"mt-4",children:d.jsx(q,{name:"sustanciaIlisitas",value:u.sustanciaIlisitas,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Toxitosinas",customClass:"mt-4 col-span-2",children:d.jsx(q,{name:"toxitosinas",value:u.toxitosinas,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-2 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},sF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Trastornos Gatrointestinales",o="trastornosgatrointestinales",[u,c]=E.useState({vomito:n&&n.vomito?n.vomito:"",estrenimiento:n&&n.estrenimiento?n.estrenimiento:"",gastritis:n&&n.gastritis?n.gastritis:"",nauseas:n&&n.nauseas?n.nauseas:"",disfagia:n&&n.disfagia?n.disfagia:"",distencion:n&&n.distencion?n.distencion:"",diarrea:n&&n.diarrea?n.diarrea:"",colitis:n&&n.colitis?n.colitis:"",colitritis:n&&n.colitritis?n.colitritis:"",reflujo:n&&n.reflujo?n.reflujo:"",flatulencias:n&&n.flatulencias?n.flatulencias:"",piriosis:n&&n.piriosis?n.piriosis:"",otros:n&&n.otros?n.otros:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.gastritis)return s.init("Debes completar el campo Gastritis","error");if(!u.estrenimiento)return s.init("Debes completar el campo Estrenimiento","error");if(!u.nauseas)return s.init("Debes completar el campo Nauseas","error");if(!u.vomito)return s.init("Debes completar el campo Vómito","error");if(!u.disfagia)return s.init("Debes completar el campo Hipertension Arterial","error");if(!u.distencion)return s.init("Debes completar el campo Distencion","error");if(!u.diarrea)return s.init("Debes completar el campo diarrea","error");if(!u.colitis)return s.init("Debes completar el campo Colitis","error");if(!u.colitritis)return s.init("Debes completar el campo Colitritis","error");if(!u.reflujo)return s.init("Debes completar el campo Reflujo","error");if(!u.flatulencias)return s.init("Debes completar el campo Flatulencias","error");if(!u.piriosis)return s.init("Debes completar el campo Piriosis","error");if(!u.otros)return s.init("Debes completar el campo Otros","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-4 gap-3",children:[d.jsx(re,{color:"default",label:"Gastritis",customClass:"mt-4 ",children:d.jsx(q,{name:"gastritis",value:u.gastritis,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Estreñimiento",customClass:"mt-4",children:d.jsx(q,{name:"estrenimiento",value:u.estrenimiento,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Nauseas",customClass:"mt-4",children:d.jsx(q,{name:"nauseas",value:u.nauseas,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Vómito",customClass:"mt-4",children:d.jsx(q,{name:"vomito",value:u.vomito,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Disfagia",customClass:"mt-4",children:d.jsx(q,{name:"disfagia",value:u.disfagia,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Distencion",customClass:"mt-4",children:d.jsx(q,{name:"distencion",value:u.distencion,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Diarrea",customClass:"mt-4",children:d.jsx(q,{name:"diarrea",value:u.diarrea,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Colitis",customClass:"mt-4",children:d.jsx(q,{name:"colitis",value:u.colitis,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Colitritis",customClass:"mt-4",children:d.jsx(q,{name:"colitritis",value:u.colitritis,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Reflujo",customClass:"mt-4",children:d.jsx(q,{name:"reflujo",value:u.reflujo,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Flatulencias",customClass:"mt-4",children:d.jsx(q,{name:"flatulencias",value:u.flatulencias,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Piriosis",customClass:"mt-4",children:d.jsx(q,{name:"piriosis",value:u.piriosis,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Otros",customClass:"mt-4 col-span-4",children:d.jsx(q,{name:"otros",value:u.otros,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-4 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},aF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Gineco Obstetricos",o="ginecoobstetricos",[u,c]=E.useState({g:n&&n.g?n.g:"",p:n&&n.p?n.p:"",c:n&&n.c?n.c:"",fum:n&&n.fum?n.fum:"",fup_c:n&&n.fup_c?n.fup_c:"",ppg:n&&n.ppg?n.ppg:"",anticonceptivos:n&&n.anticonceptivos?n.anticonceptivos:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.c)return s.init("Debes completar el campo C","error");if(!u.p)return s.init("Debes completar el campo P","error");if(!u.fum)return s.init("Debes completar el campo FUM","error");if(!u.g)return s.init("Debes completar el campo G","error");if(!u.fup_c)return s.init("Debes completar el campo FUP/C","error");if(!u.ppg)return s.init("Debes completar el campo PPG","error");if(!u.anticonceptivos)return s.init("Debes completar el campo Anticonceptivos","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-4 gap-3",children:[d.jsx(re,{color:"default",label:"C",customClass:"mt-4 ",children:d.jsx(q,{name:"c",value:u.c,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"P",customClass:"mt-4",children:d.jsx(q,{name:"p",value:u.p,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"FUM",customClass:"mt-4",children:d.jsx(q,{name:"fum",value:u.fum,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"G",customClass:"mt-4",children:d.jsx(q,{name:"g",value:u.g,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"FUP/C",customClass:"mt-4",children:d.jsx(q,{name:"fup_c",value:u.fup_c,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"PPG",customClass:"mt-4",children:d.jsx(q,{name:"ppg",value:u.ppg,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Anticonceptivos",customClass:"mt-4",children:d.jsx(q,{name:"anticonceptivos",value:u.anticonceptivos,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-4 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},oF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Habito De Alimentacion",o="habitodealimentacion",[u,c]=E.useState({conQuienCome:n&&n.conQuienCome?n.conQuienCome:"",quienPreparaAlimentos:n&&n.quienPreparaAlimentos?n.quienPreparaAlimentos:"",comidasAlDia:n&&n.comidasAlDia?n.comidasAlDia:"",haceMeriendas:n&&n.haceMeriendas?n.haceMeriendas:"",horarioComida:n&&n.horarioComida?n.horarioComida:"",comidasEnCasa:n&&n.comidasEnCasa?n.comidasEnCasa:"",comidasFueraDeCasa:n&&n.comidasFueraDeCasa?n.comidasFueraDeCasa:"",comidasFueraDeCasaFinDeSemana:n&&n.comidasFueraDeCasaFinDeSemana?n.comidasFueraDeCasaFinDeSemana:"",horaDeMayorApetito:n&&n.horaDeMayorApetito?n.horaDeMayorApetito:"",comoConsideraSuApetito:n&&n.comoConsideraSuApetito?n.comoConsideraSuApetito:"",suplementos:n&&n.suplementos?n.suplementos:"",agua:n&&n.agua?n.agua:"",alergias:n&&n.alergias?n.alergias:"",intolerancias:n&&n.intolerancias?n.intolerancias:"",dietasAnteriores:n&&n.dietasAnteriores?n.dietasAnteriores:"",medicamentoParaBajarDePeso:n&&n.medicamentoParaBajarDePeso?n.medicamentoParaBajarDePeso:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.comidasAlDia)return s.init("Debes completar el campo comidasAlDia","error");if(!u.quienPreparaAlimentos)return s.init("Debes completar el campo quienPreparaAlimentos","error");if(!u.haceMeriendas)return s.init("Debes completar el campo haceMeriendas","error");if(!u.conQuienCome)return s.init("Debes completar el campo Vómito","error");if(!u.horarioComida)return s.init("Debes completar el campo Hipertension Arterial","error");if(!u.comidasEnCasa)return s.init("Debes completar el campo comidasEnCasa","error");if(!u.comidasFueraDeCasa)return s.init("Debes completar el campo comidasFueraDeCasa","error");if(!u.comidasFueraDeCasaFinDeSemana)return s.init("Debes completar el campo comidasFueraDeCasaFinDeSemana","error");if(!u.horaDeMayorApetito)return s.init("Debes completar el campo horaDeMayorApetito","error");if(!u.comoConsideraSuApetito)return s.init("Debes completar el campo comoConsideraSuApetito","error");if(!u.suplementos)return s.init("Debes completar el campo suplementos","error");if(!u.agua)return s.init("Debes completar el campo agua","error");if(!u.alergias)return s.init("Debes completar el campo alergias","error");if(!u.intolerancias)return s.init("Debes completar el campo Intolerancias","error");if(!u.dietasAnteriores)return s.init("Debes completar el campo Dietas Anteriores","error");if(!u.medicamentoParaBajarDePeso)return s.init("Debes completar el campo Medicamentos Para Bajar De Peso","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-4 gap-3",children:[d.jsx(re,{color:"default",label:"Comidas Al Dia",customClass:"mt-4 ",children:d.jsx(q,{name:"comidasAlDia",value:u.comidasAlDia,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Quien Prepara los Alimentos",customClass:"mt-4",children:d.jsx(q,{name:"quienPreparaAlimentos",value:u.quienPreparaAlimentos,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Hace Meriendas",customClass:"mt-4",children:d.jsx(q,{name:"haceMeriendas",value:u.haceMeriendas,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Con quien Come",customClass:"mt-4",children:d.jsx(q,{name:"conQuienCome",value:u.conQuienCome,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Horario Comida",customClass:"mt-4",children:d.jsx(q,{name:"horarioComida",value:u.horarioComida,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Comidas En Casa",customClass:"mt-4",children:d.jsx(q,{name:"comidasEnCasa",value:u.comidasEnCasa,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Comidas Fuera De Casa",customClass:"mt-4",children:d.jsx(q,{name:"comidasFueraDeCasa",value:u.comidasFueraDeCasa,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Comidas Fuera De Casa Fin De Semana",customClass:"mt-4",children:d.jsx(q,{name:"comidasFueraDeCasaFinDeSemana",value:u.comidasFueraDeCasaFinDeSemana,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Hora De Mayor Apetito",customClass:"mt-4",children:d.jsx(q,{name:"horaDeMayorApetito",value:u.horaDeMayorApetito,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Como Considera Su Apetito",customClass:"mt-4",children:d.jsx(q,{name:"comoConsideraSuApetito",value:u.comoConsideraSuApetito,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Suplementos",customClass:"mt-4",children:d.jsx(q,{name:"suplementos",value:u.suplementos,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Agua",customClass:"mt-4",children:d.jsx(q,{name:"agua",value:u.agua,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Intolerancias",customClass:"mt-4",children:d.jsx(q,{name:"intolerancias",value:u.intolerancias,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Alergias",customClass:"mt-4",children:d.jsx(q,{name:"alergias",value:u.alergias,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Dietas Anteriores",customClass:"mt-4",children:d.jsx(q,{name:"dietasAnteriores",value:u.dietasAnteriores,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Medicamento Para Bajar De Peso",customClass:"mt-4",children:d.jsx(q,{name:"medicamentoParaBajarDePeso",value:u.medicamentoParaBajarDePeso,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-4 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},lF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Recordatorio 24h",o="recordatorio24h",[u,c]=E.useState({desayuno:n&&n.desayuno?n.desayuno:"",meriendaMatutina:n&&n.meriendaMatutina?n.meriendaMatutina:"",comida:n&&n.comida?n.comida:"",merida:n&&n.merida?n.merida:"",cena:n&&n.cena?n.cena:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.comida)return s.init("Debes completar el campo comida","error");if(!u.meriendaMatutina)return s.init("Debes completar el campo meriendaMatutina","error");if(!u.merida)return s.init("Debes completar el campo merida","error");if(!u.desayuno)return s.init("Debes completar el campo Vómito","error");if(!u.cena)return s.init("Debes completar el campo Hipertension Arterial","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-1",children:[d.jsx(re,{color:"default",label:"Desayuno",customClass:"mt-4 w-full",children:d.jsx(q,{name:"desayuno",value:u.desayuno,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Merienda Matutina",customClass:"mt-4 w-full",children:d.jsx(q,{name:"meriendaMatutina",value:u.meriendaMatutina,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Comida",customClass:"mt-4 w-full",children:d.jsx(q,{name:"comida",value:u.comida,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Merienda",customClass:"mt-4 w-full",children:d.jsx(q,{name:"merida",value:u.merida,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Cena",customClass:"mt-4 w-full",children:d.jsx(q,{name:"cena",value:u.cena,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-1 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},uF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Examenes Laboratorio",o="exameneslaboratorio",[u,c]=E.useState({colesterolHDL:n&&n.colesterolHDL?n.colesterolHDL:"",colesterolLDL:n&&n.colesterolLDL?n.colesterolLDL:"",trigiceridos:n&&n.trigiceridos?n.trigiceridos:"",glucemiaEnAyuna:n&&n.glucemiaEnAyuna?n.glucemiaEnAyuna:"",hemoglobina:n&&n.hemoglobina?n.hemoglobina:"",hemoglobinaGlicosilada:n&&n.hemoglobinaGlicosilada?n.hemoglobinaGlicosilada:"",acidoUrico:n&&n.acidoUrico?n.acidoUrico:"",creatina:n&&n.creatina?n.creatina:"",proteinaCReactiva:n&&n.proteinaCReactiva?n.proteinaCReactiva:"",ferritina:n&&n.ferritina?n.ferritina:"",vitaminaD:n&&n.vitaminaD?n.vitaminaD:"",vitaminaB12:n&&n.vitaminaB12?n.vitaminaB12:"",folato:n&&n.folato?n.folato:"",hierro:n&&n.hierro?n.hierro:"",zinc:n&&n.zinc?n.zinc:"",sodio:n&&n.sodio?n.sodio:"",potasio:n&&n.potasio?n.potasio:"",otros:n&&n.otros?n.otros:""}),f=g=>{g.preventDefault(),(async()=>{if(!u.trigiceridos)return s.init("Debes completar el campo Trigiceridos","error");if(!u.colesterolLDL)return s.init("Debes completar el campo Colesterol LDL","error");if(!u.glucemiaEnAyuna)return s.init("Debes completar el campo Glucemia En Ayuna","error");if(!u.colesterolHDL)return s.init("Debes completar el campo Colesterol HDL","error");if(!u.hemoglobina)return s.init("Debes completar el campo Hemoglobina","error");if(!u.hemoglobinaGlicosilada)return s.init("Debes completar el campo Hemoglobina Glicosilada","error");if(!u.acidoUrico)return s.init("Debes completar el campo Acido Urico","error");if(!u.creatina)return s.init("Debes completar el campo Creatina","error");if(!u.proteinaCReactiva)return s.init("Debes completar el campo Proteina C Reactiva","error");if(!u.ferritina)return s.init("Debes completar el campo Ferritina","error");if(!u.vitaminaD)return s.init("Debes completar el campo VitaminaD","error");if(!u.vitaminaB12)return s.init("Debes completar el campo VitaminaB12","error");if(!u.folato)return s.init("Debes completar el campo Folato","error");if(!u.hierro)return s.init("Debes completar el campo Hierro","error");if(!u.zinc)return s.init("Debes completar el campo Zinc","error");if(!u.sodio)return s.init("Debes completar el campo Sodio","error");if(!u.potasio)return s.init("Debes completar el campo Potasio","error");if(!u.otros)return s.init("Debes completar el campo Otros","error");const y=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,b={...u};(await(await fetch(y,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(b)})).json()).status,i()})()},p=g=>{c(y=>({...y,[g.target.name]:g.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:f,className:"grid grid-cols-4 gap-3",children:[d.jsx(re,{color:"default",label:"Colesterol HDL",customClass:"mt-4",children:d.jsx(q,{name:"colesterolHDL",value:u.colesterolHDL,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Colesterol LDL",customClass:"mt-4",children:d.jsx(q,{name:"colesterolLDL",value:u.colesterolLDL,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Trigiceridos",customClass:"mt-4 ",children:d.jsx(q,{name:"trigiceridos",value:u.trigiceridos,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Glucemia En Ayuna",customClass:"mt-4",children:d.jsx(q,{name:"glucemiaEnAyuna",value:u.glucemiaEnAyuna,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Hemoglobina",customClass:"mt-4",children:d.jsx(q,{name:"hemoglobina",value:u.hemoglobina,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Hemoglobina Glicosilada",customClass:"mt-4",children:d.jsx(q,{name:"hemoglobinaGlicosilada",value:u.hemoglobinaGlicosilada,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Acido Urico",customClass:"mt-4",children:d.jsx(q,{name:"acidoUrico",value:u.acidoUrico,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"creatina",customClass:"mt-4",children:d.jsx(q,{name:"creatina",value:u.creatina,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Proteina C Reactiva",customClass:"mt-4",children:d.jsx(q,{name:"proteinaCReactiva",value:u.proteinaCReactiva,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Ferritina",customClass:"mt-4",children:d.jsx(q,{name:"ferritina",value:u.ferritina,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Vitamina D",customClass:"mt-4",children:d.jsx(q,{name:"vitaminaD",value:u.vitaminaD,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Vitamina B12",customClass:"mt-4",children:d.jsx(q,{name:"vitaminaB12",value:u.vitaminaB12,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Folato",customClass:"mt-4",children:d.jsx(q,{name:"folato",value:u.folato,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Hierro",customClass:"mt-4",children:d.jsx(q,{name:"hierro",value:u.hierro,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Zinc",customClass:"mt-4",children:d.jsx(q,{name:"zinc",value:u.zinc,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Sodio",customClass:"mt-4",children:d.jsx(q,{name:"sodio",value:u.sodio,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Potasio",customClass:"mt-4",children:d.jsx(q,{name:"potasio",value:u.potasio,change:p,customClass:"border-base-content"})}),d.jsx(re,{color:"default",label:"Otros",customClass:"mt-4 col-span-4",children:d.jsx(q,{name:"otros",value:u.otros,change:p,customClass:"border-base-content"})}),d.jsxs("div",{className:"col-span-4 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},hF=({data:n,id:t,patientId:e,reload:i})=>{const r=E.useRef(null),s=a=>{a.preventDefault(),(async()=>{if(!r.current)return;const o=`${Ke}/consult/patient/diagnostic/${t}/?patientId=${e}`,u={diagnostic:r.current.value};(await(await fetch(o,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(u)})).json()).status,i()})()};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:"DiagnosticoNutricional",children:d.jsxs("form",{onSubmit:s,className:"grid",children:[d.jsx(re,{color:"default",label:"",customClass:"mt-4",children:d.jsx("textarea",{ref:r,className:"w-full bg-base-200 rounded p-2 max-h-32 min-h-24",children:n})}),d.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:close,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},cF=({data:n,id:t,patientId:e,reload:i})=>{const{close:r}=Bt(),s=qt(),a="Distribucion Calórica",o="distribucioncalorica",[u,c]=E.useState(n?n.proteina:{gramos:0,kiloCaloria:0,percentage:0,raciones:0}),[f,p]=E.useState(n?n.lipidos:{gramos:0,kiloCaloria:0,percentage:0,raciones:0}),[g,y]=E.useState(n?n.carbohidratos:{gramos:0,kiloCaloria:0,percentage:0,raciones:0}),b=S=>{S.preventDefault(),(async()=>{if(!u.percentage)return s.init("Debes agregar el Porcentaje de Proteina","error");if(!u.gramos)return s.init("Debes agregar el Gramos de Proteina","error");if(!u.kiloCaloria)return s.init("Debes agregar el KiloCalorias de Proteina","error");if(!u.raciones)return s.init("Debes agregar el Raciones de Proteina","error");if(!f.percentage)return s.init("Debes agregar el Porcentaje de Lípidos","error");if(!f.gramos)return s.init("Debes agregar el Gramos de Lípidos","error");if(!f.kiloCaloria)return s.init("Debes agregar el KiloCalorias de Lípidos","error");if(!f.raciones)return s.init("Debes agregar el Raciones de Lípidos","error");if(!g.percentage)return s.init("Debes agregar el Porcentaje de Carbohidratos","error");if(!g.gramos)return s.init("Debes agregar el Gramos de Carbohidratos","error");if(!g.kiloCaloria)return s.init("Debes agregar el KiloCalorias de Carbohidratos","error");if(!g.raciones)return s.init("Debes agregar el Raciones de Carbohidratos","error");const k=`${Ke}/consult/patient/${o}/${t}/?patientId=${e}`,T={carbohidratos:g,lipidos:f,proteina:u};console.log(T),alert(k),(await(await fetch(k,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(T)})).json()).status,i()})()},x=S=>{c(k=>({...k,[S.target.name]:S.target.value}))},w=S=>{p(k=>({...k,[S.target.name]:S.target.value}))},P=S=>{y(k=>({...k,[S.target.name]:S.target.value}))};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:a,children:d.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 gap-3",children:[d.jsxs("table",{className:"table table-sm table-zebra",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{}),d.jsx("th",{children:"%"}),d.jsx("th",{children:"Kilo Calorias"}),d.jsx("th",{children:"Gramos"}),d.jsx("th",{children:"Raciones"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:"Proteínas"}),d.jsx("td",{children:d.jsx(q,{change:x,name:"percentage",value:u.percentage.toString()})}),d.jsx("td",{children:d.jsx(q,{change:x,name:"kiloCaloria",value:u.kiloCaloria.toString()})}),d.jsx("td",{children:d.jsx(q,{change:x,name:"gramos",value:u.gramos.toString()})}),d.jsx("td",{children:d.jsx(q,{change:x,name:"raciones",value:u.raciones.toString()})})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"Lípidos"}),d.jsx("td",{children:d.jsx(q,{change:w,name:"percentage",value:f.percentage.toString()})}),d.jsx("td",{children:d.jsx(q,{change:w,name:"kiloCaloria",value:f.kiloCaloria.toString()})}),d.jsx("td",{children:d.jsx(q,{change:w,name:"gramos",value:f.gramos.toString()})}),d.jsx("td",{children:d.jsx(q,{change:w,name:"raciones",value:f.raciones.toString()})})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"Carbohidratos"}),d.jsx("td",{children:d.jsx(q,{change:P,name:"percentage",value:g.percentage.toString()})}),d.jsx("td",{children:d.jsx(q,{change:P,name:"kiloCaloria",value:g.kiloCaloria.toString()})}),d.jsx("td",{children:d.jsx(q,{change:P,name:"gramos",value:g.gramos.toString()})}),d.jsx("td",{children:d.jsx(q,{change:P,name:"raciones",value:g.raciones.toString()})})]})]})]}),d.jsxs("div",{className:"col-span-4 flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:r,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},dF=({data:n,id:t,patientId:e,reload:i})=>{const r=E.useRef(null),s=a=>{a.preventDefault(),(async()=>{if(!r.current)return;const o=`${Ke}/consult/patient/extra/${t}/?patientId=${e}`,u={extraData:r.current.value};(await(await fetch(o,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(u)})).json()).status,i()})()};return d.jsx(rn,{customClass:"w-[70%] bg-base-100 p-3 rounded",title:"Datos Extras",children:d.jsxs("form",{onSubmit:s,className:"grid",children:[d.jsx(re,{color:"default",label:"",customClass:"mt-4",children:d.jsx("textarea",{ref:r,className:"w-full bg-base-200 rounded p-2 max-h-32 min-h-24",children:n})}),d.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[d.jsx(Be,{click:close,color:"error",text:"cerrar",ico:d.jsx(_e,{ico:"x"})}),d.jsx(Be,{type:"submit",color:"success",text:"guardar",ico:d.jsx(_e,{ico:"create"})})]})]})})},fF=({id:n})=>{const{init:t,close:e}=Bt(),[i,r]=E.useState(null),[s,a]=E.useState(null),[o,u]=E.useState(!1),c=()=>{u(!o),e()};E.useEffect(()=>{(async()=>{const y=`${Ke}/consult/${n}/patient/`,x=await(await fetch(y,{headers:{token:`${qe()}`}})).json();console.log(x),a(x.body.patient.patientReference),x.body.patient.patientReference.userReference&&r(x.body.patient.patientReference.userReference)})()},[o]);const f=y=>{y.preventDefault(),(async()=>{const b=`${Ke}/consult/patient/data/${n}/?patientId=${i&&i.id?i.id:""}`,w=await(await fetch(b,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(i)})).json();w.body&&r(w.body)})()},p=y=>{r(b=>({...b,[y.target.name]:y.target.value}))},g=y=>t(y);return d.jsx("div",{className:"px-4 py-3 Ficha Paciente",children:d.jsxs("div",{children:[d.jsxs("form",{onSubmit:f,className:"grid grid-cols-12 gap-3",children:[d.jsx("div",{className:"col-span-12 flex justify-end",children:d.jsx(Be,{text:"enviar",ico:d.jsx(_e,{ico:i&&i.id?"update":"create"}),color:i&&i.id?"info":"success",type:"submit"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Nombre",children:d.jsx(q,{value:i&&i.name?i.name:"",change:p,name:"name",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Segundo nombre",children:d.jsx(q,{value:i&&i.name2?i.name2:"",change:p,name:"name2",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Apellido",children:d.jsx(q,{value:i&&i.lastname?i.lastname:"",change:p,name:"lastname",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Segundo apellido",children:d.jsx(q,{value:i&&i.lastname2?i.lastname2:"",change:p,name:"lastname2",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-2",color:"accent",label:"F/N",children:d.jsx(q,{value:i&&i.fn?i.fn:"",change:p,type:"date",name:"fn",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-1",color:"accent",label:"Edad",children:d.jsx(q,{value:i&&i.age?i.age:"",change:p,name:"age",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-2",color:"accent",label:"Genero",children:d.jsxs("select",{onChange:p,name:"genero",className:"select select-sm w-full border-base-300",children:[d.jsx("option",{value:"",children:"seleccionar"}),d.jsx("option",{selected:!!(i&&i.genero==="MASCULINO"),value:"MASCULINO",children:"Masculino"}),d.jsx("option",{selected:!!(i&&i.genero==="FEMENINO"),value:"FEMENINO",children:"Femenino"})]})}),d.jsx(re,{customClass:"col-span-2",color:"accent",label:"Estado Civíl",children:d.jsxs("select",{onChange:p,name:"edoCivil",className:"select select-sm w-full border-base-300",children:[d.jsx("option",{value:"",children:"seleccionar"}),d.jsx("option",{selected:!!(i&&i.edoCivil==="Soltero"),children:"Soltero"}),d.jsx("option",{selected:!!(i&&i.edoCivil==="Casado"),children:"Casado"}),d.jsx("option",{selected:!!(i&&i.edoCivil==="Viudo"),children:"Viudo"}),d.jsx("option",{selected:!!(i&&i.edoCivil==="Divorciado"),children:"Divorciado"})]})}),d.jsx(re,{customClass:"col-span-1",color:"accent",label:"Nacionalidad",children:d.jsxs("select",{onChange:p,name:"nacionality",className:"select select-sm w-full border-base-300",children:[d.jsx("option",{value:"",children:"seleccionar"}),d.jsx("option",{selected:!!(i&&i.nacionality==="V"),children:"V"}),d.jsx("option",{selected:!!(i&&i.nacionality==="E"),children:"E"})]})}),d.jsx(re,{color:"accent",customClass:"col-span-4",label:"Cédula",children:d.jsx(q,{value:i&&i.ci?i.ci:"",change:p,name:"ci",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Teléfono",children:d.jsx(q,{value:i&&i.phone?i.phone:"",change:p,name:"phone",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Correo",children:d.jsx(q,{value:i&&i.email?i.email:"",change:p,type:"email",name:"email",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{color:"accent",customClass:"col-span-12",label:"Dirección",children:d.jsx("textarea",{onChange:p,name:"address",className:"p-3 bg-base-300 max-h-24 border border-base-300 w-full",value:i&&i.address?i.address:""})})]}),s&&i&&d.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-5",children:[d.jsx(bt,{customClass:"col-span-3 text-xl font-black",text:"Ficha Paciente"}),d.jsx(mo,{text:"Pulse un botón para ver el formulario",customClass:"col-span-3 text-sm"}),d.jsx($e,{color:"primary",text:"Heredofamiliares",click:()=>g(d.jsx(iF,{data:s.heredofamiliares,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Personales Patológicos",click:()=>g(d.jsx(rF,{data:s.personalesPatologicos,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Personales No Patológicos",click:()=>g(d.jsx(nF,{data:s.personalesNoPatologicos,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Transtornos Gastrointestinales",click:()=>g(d.jsx(sF,{data:s.transtornosGastrointestinales,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Gineco-obstétricos",click:()=>g(d.jsx(aF,{data:s.ginenoObstetricos,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Habitos de Alimentación",click:()=>g(d.jsx(oF,{data:s.habitosDeAlimentacion,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Recordatorio 24h",click:()=>g(d.jsx(lF,{data:s.recordatorio24h,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Exámenes de laboratorio",click:()=>g(d.jsx(uF,{data:s.examenesDeLaboratorio,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Diagnostico Nutricional",click:()=>g(d.jsx(hF,{data:s.diagnosticoNutricional,reload:c,id:n,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Datos Extras",click:()=>g(d.jsx(dF,{reload:c,id:n,data:s.datosExtras,patientId:s.id}))}),d.jsx($e,{color:"primary",text:"Distribución Calórica",click:()=>g(d.jsx(cF,{reload:c,id:n,data:s.distribucionCalorica,patientId:s.id}))})]})]})})},pF=({id:n})=>d.jsxs("div",{children:[d.jsxs("div",{className:"w-full flex justify-between",children:[d.jsx(bt,{text:"Listas de intercambio",customClass:"text-xl font-black"}),d.jsx("ul",{className:"flex gap-3",children:d.jsx("li",{children:d.jsx($e,{url:`${location.pathname}/assing/exchange`,text:"asignar",variant:"border",color:"accent"})})})]}),d.jsx(Wn,{path:"/dashboard/exchange",filter:"",nextFn:()=>{},prevFn:()=>{},object:`consult/exchange/${n}`,reload:!0,reloadFn:()=>{},skip:0,take:10})]}),mF=({id:n})=>{const t=Ar();return d.jsxs("div",{children:[d.jsxs("div",{className:"w-full flex justify-between",children:[d.jsx(bt,{text:"Menús",customClass:"text-xl font-black"}),d.jsx("ul",{className:"flex gap-3",children:d.jsx("li",{children:d.jsx($e,{url:`${t.pathname}/assing/menu`,text:"asignar",variant:"border",color:"accent"})})})]}),d.jsx(Wn,{path:"/dashboard/menu",filter:"",nextFn:()=>{},prevFn:()=>{},object:`consult/menu/${n}`,reload:!0,reloadFn:()=>{},skip:0,take:10})]})},gF=({})=>d.jsx("div",{children:"Recomendations"}),yF=({})=>d.jsx("div",{children:"Log"}),vF=({})=>d.jsx("div",{children:"Statictics"}),Ox=({path:n,reload:t})=>{const[e,i]=E.useState("Estadística"),[r,s]=E.useState(null),[a,o]=E.useState(!0);return E.useEffect(()=>{(async()=>{const u=`${Ke}/statictics${n}/`,f=await(await fetch(u,{headers:{token:`${qe()}`}})).json();console.log(f),f.statictic&&s(f.statictic),f.title&&i(f.title)})()},[t,a]),d.jsx(d.Fragment,{children:r&&d.jsxs("div",{className:"rounded-t-lg pt-2 border mt-4",children:[d.jsxs("header",{className:"px-3 flex justify-between items-center py-3",children:[d.jsx(bt,{text:e,customClass:"font-bold",size:"xl"}),d.jsx("ul",{className:"flex gap-3",children:d.jsx("li",{children:d.jsx($e,{click:()=>o(!a),ico:d.jsx(_e,{ico:"reload"})})})})]}),d.jsx(Gh,{data:r,title:""})]})})},bF=({id:n})=>{const[t,e]=E.useState(null),[i,r]=E.useState(null);E.useEffect(()=>{(async()=>{const o=`${Ke}/consult/${n}/patient/`,c=await(await fetch(o,{headers:{token:`${qe()}`}})).json();r(c.body.patient.patientReference.indicadoresAntopometricos)})()},[]);const s=o=>{o.preventDefault(),console.log(i),(async()=>{const u=`${Ke}/consult/patient/antopometricos/${n}/?patientId=${t&&t.id?t.id:""}`,f=await(await fetch(u,{method:"POST",headers:{token:`${qe()}`,"Content-Type":"application/json"},body:JSON.stringify(i)})).json();f.body&&e(f.body)})()},a=o=>{r(u=>({...u,[o.target.name]:o.target.value}))};return d.jsx("div",{className:"px-4 py-3 Ficha Paciente",children:d.jsxs("div",{children:[d.jsxs("form",{onSubmit:s,className:"grid grid-cols-12 gap-3",children:[d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Peso Habitual",children:d.jsx(q,{value:i&&i.pesoHabitual?i.pesoHabitual:"",change:a,name:"pesoHabitual",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Peso Actual",children:d.jsx(q,{value:i&&i.pesoActual?i.pesoActual:"",change:a,name:"pesoActual",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Peso Máximo",children:d.jsx(q,{value:i&&i.pesoMaximo?i.pesoMaximo:"",change:a,name:"pesoMaximo",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-3",color:"accent",label:"Peso Mínimo",children:d.jsx(q,{value:i&&i.pesoMinimo?i.pesoMinimo:"",change:a,name:"pesoMinimo",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-4",color:"accent",label:"Peso Ideal",children:d.jsx(q,{value:i&&i.pesoIdeal?i.pesoIdeal:"",change:a,name:"pesoIdeal",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-4",color:"accent",label:"Talla",children:d.jsx(q,{value:i&&i.talla?i.talla:"",change:a,name:"talla",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx(re,{customClass:"col-span-4",color:"accent",label:"IMC",children:d.jsx(q,{value:i&&i.IMC?i.IMC:"",change:a,name:"IMC",color:"accent",customClass:"bg-base-300 border border-base-300"})}),d.jsx("div",{className:"col-span-12 flex justify-end",children:d.jsx(Be,{text:"enviar",ico:d.jsx(_e,{ico:t&&t.id?"update":"create"}),color:t&&t.id?"info":"success",type:"submit"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(Ox,{path:`/consult/size/${n}`,reload:!0}),d.jsx(Ox,{path:`/consult/weight/${n}`,reload:!0})]})]})})},xF=({})=>{const{id:n}=xn(),[t,e]=E.useState(!0),[i,r]=E.useState(null);return E.useEffect(()=>{(async()=>{e(!0);const s=`${Ke}/consult/${n}/details`,o=await(await fetch(s,{headers:{token:`${qe()}`}})).json();r(()=>o.body),e(!1)})()},[]),d.jsx("div",{className:"",children:i?d.jsxs("div",{className:"tabs tabs-border",children:[d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"General",defaultChecked:!0}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(_s,{id:n,object:"consult"})}),i.patientData&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"Paciente"}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(fF,{id:n})}),d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"Indicadores Antopometricos"}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(bF,{id:n})})]}),i.exchange&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"Listas"}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(pF,{id:n})})]}),i.menus&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"Menús"}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(mF,{id:n})})]}),i.agend&&d.jsx(d.Fragment,{}),i.recommendations&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"Recomentaciones"}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(gF,{id:n})})]}),i.log&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"Bitacora"}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(yF,{id:n})})]}),i.estatictics&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",name:"ficha_consult_tabs",className:"tab","aria-label":"Estadísticas"}),d.jsx("div",{className:"tab-content border-base-300 bg-base-100 p-3",children:d.jsx(vF,{id:n})})]})]}):d.jsx(d.Fragment,{})})},wF=({})=>{const{object:n,id:t}=xn(),e=qt(),i=nr(),r=s=>{(async()=>{const a=`${Ke}/consult/${n}/${t}/assing/${s.id}`;alert(a);const u=await(await fetch(a,{method:"POST",headers:{token:`${qe()}`}})).json();e.init(u.message,u.statusMessage),i(-1)})()};return d.jsxs("div",{className:"rounded p-3 bg-base-300 shadow",children:[d.jsx(bt,{text:"Asiganar",customClass:""}),d.jsx(Wn,{actionButton:[{text:"asignar",color:"accent",customClass:"btn-sm",click:r}],filter:"",nextFn:()=>{},prevFn:()=>{},object:n,reload:!0,reloadFn:()=>{},skip:0,take:10})]})},_F=({patient:n=!0,subscription:t=!0})=>d.jsxs("div",{className:"w-full space-y-2",children:[t&&d.jsx(O0,{reload:!0}),d.jsx(bw,{path:"/dashboard/gui/card"}),n&&d.jsx("div",{className:"pt-5",children:d.jsx(Qr,{object:"nutricionist/patient"})})]}),PF=()=>{const[n,t]=E.useState("");return E.useEffect(()=>{(async()=>{const e=`${Ke}/dashboard/gui/current`,r=await(await fetch(e,{headers:{token:`${qe()}`}})).json();t(r.name)})()},[]),d.jsx(_F,{patient:!(n==="PHARMACY"||n==="ROOT"||n==="CLINIC"),subscription:!(n==="PHARMACY"||n==="ROOT"||n==="PATIENT")})},CF=()=>{const n=iS([{path:"/",element:d.jsx(ZD,{})},{path:"",element:d.jsx(qD,{}),children:[{path:"/login",element:d.jsx(C2,{})},{path:"/register",element:d.jsx(S2,{})}]},{path:"/",element:d.jsx(QD,{}),children:[{path:"/profile",element:d.jsx(hi,{children:d.jsx(KD,{})})},{path:"/dashboard",element:d.jsx(hi,{children:d.jsx(PF,{})})},{path:"/dashboard/finanzas",element:d.jsx(hi,{children:d.jsx(HM,{})})},{path:"/dashboard/adminsubscription",element:d.jsx(hi,{children:d.jsx(YM,{})})},{path:"/dashboard/adminsubscription/:id",element:d.jsx(hi,{children:d.jsx(UM,{})})},{path:"/dashboard/user/:id",element:d.jsx(hi,{children:d.jsx(XM,{})})},{path:"/dashboard/pharmacy/:id",element:d.jsx(hi,{children:d.jsx($M,{})})},{path:"/dashboard/menu/create",element:d.jsx(hi,{children:d.jsx(KM,{})})},{path:"/dashboard/menu/:id",element:d.jsx(hi,{children:d.jsx(QM,{})})},{path:"/dashboard/exchange/create",element:d.jsx(hi,{children:d.jsx(eF,{})})},{path:"/dashboard/exchange/:id",element:d.jsx(hi,{children:d.jsx(JM,{})})},{path:"/dashboard/consult/create",element:d.jsx(hi,{children:d.jsx(tF,{})})},{path:"/dashboard/consult/:id",element:d.jsx(hi,{children:d.jsx(xF,{})})},{path:"/dashboard/consult/:id/assing/:object",element:d.jsx(hi,{children:d.jsx(wF,{})})},{path:"/shop",element:d.jsx(hi,{children:d.jsx(BM,{})})},{path:"/statictics",element:d.jsx(hi,{children:d.jsx(pk,{})})},{path:"/subscription",element:d.jsx(hi,{children:d.jsx(vk,{})})},{path:"/payment",element:d.jsx(hi,{children:d.jsx(RM,{})})},{path:"/dashboard/:object/create",element:d.jsx(hi,{children:d.jsx(GM,{})})},{path:"/dashboard/:object",element:d.jsx(hi,{children:d.jsx(fk,{})})},{path:"/dashboard/:object/:id",element:d.jsx(hi,{children:d.jsx(zM,{})})}]}]);return d.jsx(d.Fragment,{children:d.jsx(mS,{router:n})})};fP.createRoot(document.getElementById("root")).render(d.jsx(P2,{children:d.jsx(D2,{children:d.jsx(IS,{children:d.jsx(CF,{})})})}));export{SF as c,sP as g};
